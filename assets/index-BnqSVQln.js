var bT=Object.defineProperty;var TT=Object.getPrototypeOf;var CT=Reflect.get;var ST=(t,e,n)=>e in t?bT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>ST(t,typeof e!="symbol"?e+"":e,n);var Xi=(t,e,n)=>CT(TT(t),n,e);function _w(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ww={exports:{}},Kh={},Ew={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),AT=Symbol.for("react.portal"),IT=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),kT=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),NT=Symbol.for("react.suspense"),OT=Symbol.for("react.memo"),DT=Symbol.for("react.lazy"),Dy=Symbol.iterator;function MT(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var bw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Cw={};function il(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||bw}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=il.prototype;function $m(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||bw}var Fm=$m.prototype=new Sw;Fm.constructor=$m;Tw(Fm,il.prototype);Fm.isPureReactComponent=!0;var My=Array.isArray,Aw=Object.prototype.hasOwnProperty,jm={current:null},Iw={key:!0,ref:!0,__self:!0,__source:!0};function xw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Aw.call(e,r)&&!Iw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cu,type:t,key:s,ref:o,props:i,_owner:jm.current}}function VT(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function UT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UT(""+t.key):e.toString(36)}function Id(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cu:case AT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+lp(o,0):r,My(i)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),Id(i,e,n,"",function(u){return u})):i!=null&&(zm(i)&&(i=VT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",My(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+lp(s,a);o+=Id(s,e,n,l,i)}else if(l=MT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+lp(s,a++),o+=Id(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Id(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $T(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},xd={transition:null},FT={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:xd,ReactCurrentOwner:jm};function kw(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=il;Re.Fragment=IT;Re.Profiler=kT;Re.PureComponent=$m;Re.StrictMode=xT;Re.Suspense=NT;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;Re.act=kw;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Aw.call(e,l)&&!Iw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cu,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:PT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RT,_context:t},t.Consumer=t};Re.createElement=xw;Re.createFactory=function(t){var e=xw.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:LT,render:t}};Re.isValidElement=zm;Re.lazy=function(t){return{$$typeof:DT,_payload:{_status:-1,_result:t},_init:$T}};Re.memo=function(t,e){return{$$typeof:OT,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=xd.transition;xd.transition={};try{t()}finally{xd.transition=e}};Re.unstable_act=kw;Re.useCallback=function(t,e){return Cn.current.useCallback(t,e)};Re.useContext=function(t){return Cn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Cn.current.useEffect(t,e)};Re.useId=function(){return Cn.current.useId()};Re.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Cn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};Re.useRef=function(t){return Cn.current.useRef(t)};Re.useState=function(t){return Cn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Cn.current.useTransition()};Re.version="18.3.1";Ew.exports=Re;var O=Ew.exports;const Ut=Um(O),jT=_w({__proto__:null,default:Ut},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=O,BT=Symbol.for("react.element"),HT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,qT=zT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GT={key:!0,ref:!0,__self:!0,__source:!0};function Rw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WT.call(e,r)&&!GT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BT,type:t,key:s,ref:o,props:i,_owner:qT.current}}Kh.Fragment=HT;Kh.jsx=Rw;Kh.jsxs=Rw;ww.exports=Kh;var S=ww.exports,i0={},Pw={exports:{}},Yn={},Lw={exports:{}},Nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,J){var Y=W.length;W.push(J);e:for(;0<Y;){var pe=Y-1>>>1,ye=W[pe];if(0<i(ye,J))W[pe]=J,W[Y]=ye,Y=pe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],Y=W.pop();if(Y!==J){W[0]=Y;e:for(var pe=0,ye=W.length,Ve=ye>>>1;pe<Ve;){var ut=2*(pe+1)-1,Ct=W[ut],ft=ut+1,Ge=W[ft];if(0>i(Ct,Y))ft<ye&&0>i(Ge,Ct)?(W[pe]=Ge,W[ft]=Y,pe=ft):(W[pe]=Ct,W[ut]=Y,pe=ut);else if(ft<ye&&0>i(Ge,Y))W[pe]=Ge,W[ft]=Y,pe=ft;else break e}}return J}function i(W,J){var Y=W.sortIndex-J.sortIndex;return Y!==0?Y:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,y=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(W){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=W)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function M(W){if(E=!1,A(W),!y)if(n(l)!==null)y=!0,De(F);else{var J=n(u);J!==null&&de(M,J.startTime-W)}}function F(W,J){y=!1,E&&(E=!1,w(_),_=-1),g=!0;var Y=p;try{for(A(J),h=n(l);h!==null&&(!(h.expirationTime>J)||W&&!R());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var ye=pe(h.expirationTime<=J);J=t.unstable_now(),typeof ye=="function"?h.callback=ye:h===n(l)&&r(l),A(J)}else r(l);h=n(l)}if(h!==null)var Ve=!0;else{var ut=n(u);ut!==null&&de(M,ut.startTime-J),Ve=!1}return Ve}finally{h=null,p=Y,g=!1}}var P=!1,C=null,_=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function N(){if(C!==null){var W=t.unstable_now();I=W;var J=!0;try{J=C(!0,W)}finally{J?k():(P=!1,C=null)}}else P=!1}var k;if(typeof v=="function")k=function(){v(N)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,je=ie.port2;ie.port1.onmessage=N,k=function(){je.postMessage(null)}}else k=function(){x(N,0)};function De(W){C=W,P||(P=!0,k())}function de(W,J){_=x(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,De(F))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Y=p;p=J;try{return W()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=p;p=W;try{return J()}finally{p=Y}},t.unstable_scheduleCallback=function(W,J,Y){var pe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,W){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Y+ye,W={id:d++,callback:J,priorityLevel:W,startTime:Y,expirationTime:ye,sortIndex:-1},Y>pe?(W.sortIndex=Y,e(u,W),n(l)===null&&W===n(u)&&(E?(w(_),_=-1):E=!0,de(M,Y-pe))):(W.sortIndex=ye,e(l,W),y||g||(y=!0,De(F))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var J=p;return function(){var Y=p;p=J;try{return W.apply(this,arguments)}finally{p=Y}}}})(Nw);Lw.exports=Nw;var KT=Lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=O,Qn=KT;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ow=new Set,xc={};function Vo(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(xc[t]=e,t=0;t<e.length;t++)Ow.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},$y={};function YT(t){return s0.call($y,t)?!0:s0.call(Uy,t)?!1:XT.test(t)?$y[t]=!0:(Uy[t]=!0,!1)}function ZT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JT(t,e,n,r){if(e===null||typeof e>"u"||ZT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bm=/[\-:]([a-z])/g;function Hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bm,Hm);nn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bm,Hm);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bm,Hm);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wm(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JT(e,n,i,r)&&(n=null),r||i===null?YT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=QT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),Mw=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),l0=Symbol.for("react.suspense_list"),Km=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Vw=Symbol.for("react.offscreen"),Fy=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,cp;function Kl(t){if(cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cp=e&&e[1]||""}return`
`+cp+t}var up=!1;function dp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function eC(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function c0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case o0:return"Profiler";case qm:return"StrictMode";case a0:return"Suspense";case l0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mw:return(t.displayName||"Context")+".Consumer";case Dw:return(t._context.displayName||"Context")+".Provider";case Gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Km:return e=t.displayName||null,e!==null?e:c0(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return c0(t(e))}catch{}}return null}function tC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c0(e);case 8:return e===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nC(t){var e=Uw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=nC(t))}function $w(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u0(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fw(t,e){e=e.checked,e!=null&&Wm(t,"checked",e,!1)}function d0(t,e){Fw(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?h0(t,e.type,n):e.hasOwnProperty("defaultValue")&&h0(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function h0(t,e,n){(e!=="number"||Yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function _a(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function By(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ql(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function jw(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,Bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){rC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function Hw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function Ww(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iC=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m0(t,e){if(e){if(iC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function g0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=null;function Qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var v0=null,wa=null,Ea=null;function Wy(t){if(t=hu(t)){if(typeof v0!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Jh(e),v0(t.stateNode,t.type,e))}}function qw(t){wa?Ea?Ea.push(t):Ea=[t]:wa=t}function Gw(){if(wa){var t=wa,e=Ea;if(Ea=wa=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function Kw(t,e){return t(e)}function Qw(){}var hp=!1;function Xw(t,e,n){if(hp)return t(e,n);hp=!0;try{return Kw(t,e,n)}finally{hp=!1,(wa!==null||Ea!==null)&&(Qw(),Gw())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var _0=!1;if(Ni)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){_0=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{_0=!1}function sC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var lc=!1,Zd=null,Jd=!1,w0=null,oC={onError:function(t){lc=!0,Zd=t}};function aC(t,e,n,r,i,s,o,a,l){lc=!1,Zd=null,sC.apply(oC,arguments)}function lC(t,e,n,r,i,s,o,a,l){if(aC.apply(this,arguments),lc){if(lc){var u=Zd;lc=!1,Zd=null}else throw Error(G(198));Jd||(Jd=!0,w0=u)}}function Uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qy(t){if(Uo(t)!==t)throw Error(G(188))}function cC(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qy(i),t;if(s===r)return qy(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Zw(t){return t=cC(t),t!==null?Jw(t):null}function Jw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jw(t);if(e!==null)return e;t=t.sibling}return null}var e5=Qn.unstable_scheduleCallback,Gy=Qn.unstable_cancelCallback,uC=Qn.unstable_shouldYield,dC=Qn.unstable_requestPaint,It=Qn.unstable_now,hC=Qn.unstable_getCurrentPriorityLevel,Xm=Qn.unstable_ImmediatePriority,t5=Qn.unstable_UserBlockingPriority,eh=Qn.unstable_NormalPriority,fC=Qn.unstable_LowPriority,n5=Qn.unstable_IdlePriority,Qh=null,ti=null;function pC(t){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(Qh,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:yC,mC=Math.log,gC=Math.LN2;function yC(t){return t>>>=0,t===0?32:31-(mC(t)/gC|0)|0}var ed=64,td=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xl(a):(s&=o,s!==0&&(r=Xl(s)))}else o=n&~i,o!==0?r=Xl(o):s!==0&&(r=Xl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function vC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _C(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function E0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r5(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function wC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ym(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function i5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s5,Zm,o5,a5,l5,b0=!1,nd=[],ms=null,gs=null,ys=null,Pc=new Map,Lc=new Map,os=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Pl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hu(e),e!==null&&Zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bC(t,e,n,r,i){switch(e){case"focusin":return ms=Pl(ms,t,e,n,r,i),!0;case"dragenter":return gs=Pl(gs,t,e,n,r,i),!0;case"mouseover":return ys=Pl(ys,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pc.set(s,Pl(Pc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lc.set(s,Pl(Lc.get(s)||null,t,e,n,r,i)),!0}return!1}function c5(t){var e=oo(t.target);if(e!==null){var n=Uo(e);if(n!==null){if(e=n.tag,e===13){if(e=Yw(n),e!==null){t.blockedOn=e,l5(t.priority,function(){o5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y0=r,n.target.dispatchEvent(r),y0=null}else return e=hu(n),e!==null&&Zm(e),t.blockedOn=n,!1;e.shift()}return!0}function Qy(t,e,n){kd(t)&&n.delete(e)}function TC(){b0=!1,ms!==null&&kd(ms)&&(ms=null),gs!==null&&kd(gs)&&(gs=null),ys!==null&&kd(ys)&&(ys=null),Pc.forEach(Qy),Lc.forEach(Qy)}function Ll(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,TC)))}function Nc(t){function e(i){return Ll(i,t)}if(0<nd.length){Ll(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&Ll(ms,t),gs!==null&&Ll(gs,t),ys!==null&&Ll(ys,t),Pc.forEach(e),Lc.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)c5(n),n.blockedOn===null&&os.shift()}var ba=ji.ReactCurrentBatchConfig,nh=!0;function CC(t,e,n,r){var i=We,s=ba.transition;ba.transition=null;try{We=1,Jm(t,e,n,r)}finally{We=i,ba.transition=s}}function SC(t,e,n,r){var i=We,s=ba.transition;ba.transition=null;try{We=4,Jm(t,e,n,r)}finally{We=i,ba.transition=s}}function Jm(t,e,n,r){if(nh){var i=T0(t,e,n,r);if(i===null)Tp(t,e,r,rh,n),Ky(t,r);else if(bC(i,t,e,n,r))r.stopPropagation();else if(Ky(t,r),e&4&&-1<EC.indexOf(t)){for(;i!==null;){var s=hu(i);if(s!==null&&s5(s),s=T0(t,e,n,r),s===null&&Tp(t,e,r,rh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tp(t,e,r,null,n)}}var rh=null;function T0(t,e,n,r){if(rh=null,t=Qm(r),t=oo(t),t!==null)if(e=Uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rh=t,null}function u5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hC()){case Xm:return 1;case t5:return 4;case eh:case fC:return 16;case n5:return 536870912;default:return 16}default:return 16}}var ds=null,eg=null,Rd=null;function d5(){if(Rd)return Rd;var t,e=eg,n=e.length,r,i="value"in ds?ds.value:ds.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function Xy(){return!1}function Zn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rd:Xy,this.isPropagationStopped=Xy,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=Zn(sl),du=vt({},sl,{view:0,detail:0}),AC=Zn(du),pp,mp,Nl,Xh=vt({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(pp=t.screenX-Nl.screenX,mp=t.screenY-Nl.screenY):mp=pp=0,Nl=t),pp)},movementY:function(t){return"movementY"in t?t.movementY:mp}}),Yy=Zn(Xh),IC=vt({},Xh,{dataTransfer:0}),xC=Zn(IC),kC=vt({},du,{relatedTarget:0}),gp=Zn(kC),RC=vt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),PC=Zn(RC),LC=vt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NC=Zn(LC),OC=vt({},sl,{data:0}),Zy=Zn(OC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VC[t])?!!e[t]:!1}function ng(){return UC}var $C=vt({},du,{key:function(t){if(t.key){var e=DC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FC=Zn($C),jC=vt({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Zn(jC),zC=vt({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),BC=Zn(zC),HC=vt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),WC=Zn(HC),qC=vt({},Xh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GC=Zn(qC),KC=[9,13,27,32],rg=Ni&&"CompositionEvent"in window,cc=null;Ni&&"documentMode"in document&&(cc=document.documentMode);var QC=Ni&&"TextEvent"in window&&!cc,h5=Ni&&(!rg||cc&&8<cc&&11>=cc),ev=" ",tv=!1;function f5(t,e){switch(t){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function XC(t,e){switch(t){case"compositionend":return p5(e);case"keypress":return e.which!==32?null:(tv=!0,ev);case"textInput":return t=e.data,t===ev&&tv?null:t;default:return null}}function YC(t,e){if(oa)return t==="compositionend"||!rg&&f5(t,e)?(t=d5(),Rd=eg=ds=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h5&&e.locale!=="ko"?null:e.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZC[t.type]:e==="textarea"}function m5(t,e,n,r){qw(r),e=ih(e,"onChange"),0<e.length&&(n=new tg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Oc=null;function JC(t){A5(t,0)}function Yh(t){var e=ca(t);if($w(e))return t}function eS(t,e){if(t==="change")return e}var g5=!1;if(Ni){var yp;if(Ni){var vp="oninput"in document;if(!vp){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),vp=typeof rv.oninput=="function"}yp=vp}else yp=!1;g5=yp&&(!document.documentMode||9<document.documentMode)}function iv(){uc&&(uc.detachEvent("onpropertychange",y5),Oc=uc=null)}function y5(t){if(t.propertyName==="value"&&Yh(Oc)){var e=[];m5(e,Oc,t,Qm(t)),Xw(JC,e)}}function tS(t,e,n){t==="focusin"?(iv(),uc=e,Oc=n,uc.attachEvent("onpropertychange",y5)):t==="focusout"&&iv()}function nS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(Oc)}function rS(t,e){if(t==="click")return Yh(e)}function iS(t,e){if(t==="input"||t==="change")return Yh(e)}function sS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:sS;function Dc(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!s0.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ov(t,e){var n=sv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sv(n)}}function v5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _5(){for(var t=window,e=Yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yd(t.document)}return e}function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oS(t){var e=_5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v5(n.ownerDocument.documentElement,n)){if(r!==null&&ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ov(n,s);var o=ov(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aS=Ni&&"documentMode"in document&&11>=document.documentMode,aa=null,C0=null,dc=null,S0=!1;function av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S0||aa==null||aa!==Yd(r)||(r=aa,"selectionStart"in r&&ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Dc(dc,r)||(dc=r,r=ih(C0,"onSelect"),0<r.length&&(e=new tg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},_p={},w5={};Ni&&(w5=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Zh(t){if(_p[t])return _p[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w5)return _p[t]=e[n];return t}var E5=Zh("animationend"),b5=Zh("animationiteration"),T5=Zh("animationstart"),C5=Zh("transitionend"),S5=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,e){S5.set(t,e),Vo(e,[t])}for(var wp=0;wp<lv.length;wp++){var Ep=lv[wp],lS=Ep.toLowerCase(),cS=Ep[0].toUpperCase()+Ep.slice(1);Fs(lS,"on"+cS)}Fs(E5,"onAnimationEnd");Fs(b5,"onAnimationIteration");Fs(T5,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(C5,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function cv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lC(r,e,void 0,t),t.currentTarget=null}function A5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cv(i,a,u),s=l}}}if(Jd)throw t=w0,Jd=!1,w0=null,t}function at(t,e){var n=e[R0];n===void 0&&(n=e[R0]=new Set);var r=t+"__bubble";n.has(r)||(I5(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),I5(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[sd]){t[sd]=!0,Ow.forEach(function(n){n!=="selectionchange"&&(uS.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,bp("selectionchange",!1,e))}}function I5(t,e,n,r){switch(u5(e)){case 1:var i=CC;break;case 4:i=SC;break;default:i=Jm}n=i.bind(null,e,n,t),i=void 0,!_0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Xw(function(){var u=s,d=Qm(n),h=[];e:{var p=S5.get(t);if(p!==void 0){var g=tg,y=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":g=FC;break;case"focusin":y="focus",g=gp;break;case"focusout":y="blur",g=gp;break;case"beforeblur":case"afterblur":g=gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BC;break;case E5:case b5:case T5:g=PC;break;case C5:g=WC;break;case"scroll":g=AC;break;case"wheel":g=GC;break;case"copy":case"cut":case"paste":g=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jy}var E=(e&4)!==0,x=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var v=u,A;v!==null;){A=v;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,w!==null&&(M=Rc(v,w),M!=null&&E.push(Vc(v,M,A)))),x)break;v=v.return}0<E.length&&(p=new g(p,y,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==y0&&(y=n.relatedTarget||n.fromElement)&&(oo(y)||y[Oi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?oo(y):null,y!==null&&(x=Uo(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(E=Yy,M="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jy,M="onPointerLeave",w="onPointerEnter",v="pointer"),x=g==null?p:ca(g),A=y==null?p:ca(y),p=new E(M,v+"leave",g,n,d),p.target=x,p.relatedTarget=A,M=null,oo(d)===u&&(E=new E(w,v+"enter",y,n,d),E.target=A,E.relatedTarget=x,M=E),x=M,g&&y)t:{for(E=g,w=y,v=0,A=E;A;A=Qo(A))v++;for(A=0,M=w;M;M=Qo(M))A++;for(;0<v-A;)E=Qo(E),v--;for(;0<A-v;)w=Qo(w),A--;for(;v--;){if(E===w||w!==null&&E===w.alternate)break t;E=Qo(E),w=Qo(w)}E=null}else E=null;g!==null&&uv(h,p,g,E,!1),y!==null&&x!==null&&uv(h,x,y,E,!0)}}e:{if(p=u?ca(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var F=eS;else if(nv(p))if(g5)F=iS;else{F=nS;var P=tS}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=rS);if(F&&(F=F(t,u))){m5(h,F,n,d);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&h0(p,"number",p.value)}switch(P=u?ca(u):window,t){case"focusin":(nv(P)||P.contentEditable==="true")&&(aa=P,C0=u,dc=null);break;case"focusout":dc=C0=aa=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,av(h,n,d);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":av(h,n,d)}var C;if(rg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else oa?f5(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(h5&&n.locale!=="ko"&&(oa||_!=="onCompositionStart"?_==="onCompositionEnd"&&oa&&(C=d5()):(ds=d,eg="value"in ds?ds.value:ds.textContent,oa=!0)),P=ih(u,_),0<P.length&&(_=new Zy(_,t,null,n,d),h.push({event:_,listeners:P}),C?_.data=C:(C=p5(n),C!==null&&(_.data=C)))),(C=QC?XC(t,n):YC(t,n))&&(u=ih(u,"onBeforeInput"),0<u.length&&(d=new Zy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}A5(h,e)})}function Vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rc(t,n),s!=null&&r.unshift(Vc(t,s,i)),s=Rc(t,e),s!=null&&r.push(Vc(t,s,i))),t=t.return}return r}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rc(n,s),l!=null&&o.unshift(Vc(n,l,a))):i||(l=Rc(n,s),l!=null&&o.push(Vc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(dS,`
`).replace(hS,"")}function od(t,e,n){if(e=dv(e),dv(t)!==e&&n)throw Error(G(425))}function sh(){}var A0=null,I0=null;function x0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(mS)}:k0;function mS(t){setTimeout(function(){throw t})}function Cp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nc(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),ei="__reactFiber$"+ol,Uc="__reactProps$"+ol,Oi="__reactContainer$"+ol,R0="__reactEvents$"+ol,gS="__reactListeners$"+ol,yS="__reactHandles$"+ol;function oo(t){var e=t[ei];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[ei]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fv(t);t!==null;){if(n=t[ei])return n;t=fv(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[ei]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Jh(t){return t[Uc]||null}var P0=[],ua=-1;function js(t){return{current:t}}function ct(t){0>ua||(t.current=P0[ua],P0[ua]=null,ua--)}function et(t,e){ua++,P0[ua]=t.current,t.current=e}var Ls={},gn=js(Ls),On=js(!1),Eo=Ls;function Pa(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function oh(){ct(On),ct(gn)}function pv(t,e,n){if(gn.current!==Ls)throw Error(G(168));et(gn,e),et(On,n)}function x5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,tC(t)||"Unknown",i));return vt({},n,r)}function ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,Eo=gn.current,et(gn,t),et(On,On.current),!0}function mv(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=x5(t,e,Eo),r.__reactInternalMemoizedMergedChildContext=t,ct(On),ct(gn),et(gn,t)):ct(On),et(On,n)}var bi=null,ef=!1,Sp=!1;function k5(t){bi===null?bi=[t]:bi.push(t)}function vS(t){ef=!0,k5(t)}function zs(){if(!Sp&&bi!==null){Sp=!0;var t=0,e=We;try{var n=bi;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,ef=!1}catch(i){throw bi!==null&&(bi=bi.slice(t+1)),e5(Xm,zs),i}finally{We=e,Sp=!1}}return null}var da=[],ha=0,lh=null,ch=0,cr=[],ur=0,bo=null,Ci=1,Si="";function no(t,e){da[ha++]=ch,da[ha++]=lh,lh=t,ch=e}function R5(t,e,n){cr[ur++]=Ci,cr[ur++]=Si,cr[ur++]=bo,bo=t;var r=Ci;t=Si;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ci=1<<32-Nr(e)+i|n<<i|r,Si=s+t}else Ci=1<<s|n<<i|r,Si=t}function sg(t){t.return!==null&&(no(t,1),R5(t,1,0))}function og(t){for(;t===lh;)lh=da[--ha],da[ha]=null,ch=da[--ha],da[ha]=null;for(;t===bo;)bo=cr[--ur],cr[ur]=null,Si=cr[--ur],cr[ur]=null,Ci=cr[--ur],cr[ur]=null}var qn=null,Hn=null,dt=!1,Pr=null;function P5(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Hn=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bo!==null?{id:Ci,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Hn=null,!0):!1;default:return!1}}function L0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N0(t){if(dt){var e=Hn;if(e){var n=e;if(!gv(t,e)){if(L0(t))throw Error(G(418));e=vs(n.nextSibling);var r=qn;e&&gv(t,e)?P5(r,n):(t.flags=t.flags&-4097|2,dt=!1,qn=t)}}else{if(L0(t))throw Error(G(418));t.flags=t.flags&-4097|2,dt=!1,qn=t}}}function yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function ad(t){if(t!==qn)return!1;if(!dt)return yv(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x0(t.type,t.memoizedProps)),e&&(e=Hn)){if(L0(t))throw L5(),Error(G(418));for(;e;)P5(t,e),e=vs(e.nextSibling)}if(yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=qn?vs(t.stateNode.nextSibling):null;return!0}function L5(){for(var t=Hn;t;)t=vs(t.nextSibling)}function La(){Hn=qn=null,dt=!1}function ag(t){Pr===null?Pr=[t]:Pr.push(t)}var _S=ji.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vv(t){var e=t._init;return e(t._payload)}function N5(t){function e(w,v){if(t){var A=w.deletions;A===null?(w.deletions=[v],w.flags|=16):A.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=bs(w,v),w.index=0,w.sibling=null,w}function s(w,v,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<v?(w.flags|=2,v):A):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,A,M){return v===null||v.tag!==6?(v=Lp(A,w.mode,M),v.return=w,v):(v=i(v,A),v.return=w,v)}function l(w,v,A,M){var F=A.type;return F===sa?d(w,v,A.props.children,M,A.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===is&&vv(F)===v.type)?(M=i(v,A.props),M.ref=Ol(w,v,A),M.return=w,M):(M=Ud(A.type,A.key,A.props,null,w.mode,M),M.ref=Ol(w,v,A),M.return=w,M)}function u(w,v,A,M){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Np(A,w.mode,M),v.return=w,v):(v=i(v,A.children||[]),v.return=w,v)}function d(w,v,A,M,F){return v===null||v.tag!==7?(v=go(A,w.mode,M,F),v.return=w,v):(v=i(v,A),v.return=w,v)}function h(w,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Lp(""+v,w.mode,A),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yu:return A=Ud(v.type,v.key,v.props,null,w.mode,A),A.ref=Ol(w,null,v),A.return=w,A;case ia:return v=Np(v,w.mode,A),v.return=w,v;case is:var M=v._init;return h(w,M(v._payload),A)}if(Ql(v)||kl(v))return v=go(v,w.mode,A,null),v.return=w,v;ld(w,v)}return null}function p(w,v,A,M){var F=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(w,v,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yu:return A.key===F?l(w,v,A,M):null;case ia:return A.key===F?u(w,v,A,M):null;case is:return F=A._init,p(w,v,F(A._payload),M)}if(Ql(A)||kl(A))return F!==null?null:d(w,v,A,M,null);ld(w,A)}return null}function g(w,v,A,M,F){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(A)||null,a(v,w,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Yu:return w=w.get(M.key===null?A:M.key)||null,l(v,w,M,F);case ia:return w=w.get(M.key===null?A:M.key)||null,u(v,w,M,F);case is:var P=M._init;return g(w,v,A,P(M._payload),F)}if(Ql(M)||kl(M))return w=w.get(A)||null,d(v,w,M,F,null);ld(v,M)}return null}function y(w,v,A,M){for(var F=null,P=null,C=v,_=v=0,T=null;C!==null&&_<A.length;_++){C.index>_?(T=C,C=null):T=C.sibling;var I=p(w,C,A[_],M);if(I===null){C===null&&(C=T);break}t&&C&&I.alternate===null&&e(w,C),v=s(I,v,_),P===null?F=I:P.sibling=I,P=I,C=T}if(_===A.length)return n(w,C),dt&&no(w,_),F;if(C===null){for(;_<A.length;_++)C=h(w,A[_],M),C!==null&&(v=s(C,v,_),P===null?F=C:P.sibling=C,P=C);return dt&&no(w,_),F}for(C=r(w,C);_<A.length;_++)T=g(C,w,_,A[_],M),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),v=s(T,v,_),P===null?F=T:P.sibling=T,P=T);return t&&C.forEach(function(R){return e(w,R)}),dt&&no(w,_),F}function E(w,v,A,M){var F=kl(A);if(typeof F!="function")throw Error(G(150));if(A=F.call(A),A==null)throw Error(G(151));for(var P=F=null,C=v,_=v=0,T=null,I=A.next();C!==null&&!I.done;_++,I=A.next()){C.index>_?(T=C,C=null):T=C.sibling;var R=p(w,C,I.value,M);if(R===null){C===null&&(C=T);break}t&&C&&R.alternate===null&&e(w,C),v=s(R,v,_),P===null?F=R:P.sibling=R,P=R,C=T}if(I.done)return n(w,C),dt&&no(w,_),F;if(C===null){for(;!I.done;_++,I=A.next())I=h(w,I.value,M),I!==null&&(v=s(I,v,_),P===null?F=I:P.sibling=I,P=I);return dt&&no(w,_),F}for(C=r(w,C);!I.done;_++,I=A.next())I=g(C,w,_,I.value,M),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?_:I.key),v=s(I,v,_),P===null?F=I:P.sibling=I,P=I);return t&&C.forEach(function(N){return e(w,N)}),dt&&no(w,_),F}function x(w,v,A,M){if(typeof A=="object"&&A!==null&&A.type===sa&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Yu:e:{for(var F=A.key,P=v;P!==null;){if(P.key===F){if(F=A.type,F===sa){if(P.tag===7){n(w,P.sibling),v=i(P,A.props.children),v.return=w,w=v;break e}}else if(P.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===is&&vv(F)===P.type){n(w,P.sibling),v=i(P,A.props),v.ref=Ol(w,P,A),v.return=w,w=v;break e}n(w,P);break}else e(w,P);P=P.sibling}A.type===sa?(v=go(A.props.children,w.mode,M,A.key),v.return=w,w=v):(M=Ud(A.type,A.key,A.props,null,w.mode,M),M.ref=Ol(w,v,A),M.return=w,w=M)}return o(w);case ia:e:{for(P=A.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(w,v.sibling),v=i(v,A.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Np(A,w.mode,M),v.return=w,w=v}return o(w);case is:return P=A._init,x(w,v,P(A._payload),M)}if(Ql(A))return y(w,v,A,M);if(kl(A))return E(w,v,A,M);ld(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,A),v.return=w,w=v):(n(w,v),v=Lp(A,w.mode,M),v.return=w,w=v),o(w)):n(w,v)}return x}var Na=N5(!0),O5=N5(!1),uh=js(null),dh=null,fa=null,lg=null;function cg(){lg=fa=dh=null}function ug(t){var e=uh.current;ct(uh),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ta(t,e){dh=t,lg=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(lg!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(dh===null)throw Error(G(308));fa=t,dh.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var ao=null;function dg(t){ao===null?ao=[t]:ao.push(t)}function D5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function hg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(t,n)}return i=r.interleaved,i===null?(e.next=e,dg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ym(t,n)}}function _v(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hh(t,e,n,r){var i=t.updateQueue;ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(p=e,g=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(g,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,p=typeof y=="function"?y.call(g,h,p):y,p==null)break e;h=vt({},h,p);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Co|=o,t.lanes=o,t.memoizedState=h}}function wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var fu={},ni=js(fu),$c=js(fu),Fc=js(fu);function lo(t){if(t===fu)throw Error(G(174));return t}function fg(t,e){switch(et(Fc,e),et($c,t),et(ni,fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:p0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=p0(e,t)}ct(ni),et(ni,e)}function Oa(){ct(ni),ct($c),ct(Fc)}function V5(t){lo(Fc.current);var e=lo(ni.current),n=p0(e,t.type);e!==n&&(et($c,t),et(ni,n))}function pg(t){$c.current===t&&(ct(ni),ct($c))}var mt=js(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ap=[];function mg(){for(var t=0;t<Ap.length;t++)Ap[t]._workInProgressVersionPrimary=null;Ap.length=0}var Nd=ji.ReactCurrentDispatcher,Ip=ji.ReactCurrentBatchConfig,To=0,yt=null,Vt=null,Wt=null,ph=!1,hc=!1,jc=0,wS=0;function un(){throw Error(G(321))}function gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function yg(t,e,n,r,i,s){if(To=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?CS:SS,t=n(r,i),hc){s=0;do{if(hc=!1,jc=0,25<=s)throw Error(G(301));s+=1,Wt=Vt=null,e.updateQueue=null,Nd.current=AS,t=n(r,i)}while(hc)}if(Nd.current=mh,e=Vt!==null&&Vt.next!==null,To=0,Wt=Vt=yt=null,ph=!1,e)throw Error(G(300));return t}function vg(){var t=jc!==0;return jc=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?yt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function gr(){if(Vt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Wt===null?yt.memoizedState:Wt.next;if(e!==null)Wt=e,Vt=t;else{if(t===null)throw Error(G(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Wt===null?yt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function zc(t,e){return typeof e=="function"?e(t):e}function xp(t){var e=gr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((To&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,yt.lanes|=d,Co|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kp(t){var e=gr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U5(){}function $5(t,e){var n=yt,r=gr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Nn=!0),r=r.queue,_g(z5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Bc(9,j5.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(G(349));To&30||F5(n,e,i)}return i}function F5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j5(t,e,n,r){e.value=n,e.getSnapshot=r,B5(e)&&H5(t)}function z5(t,e,n){return n(function(){B5(e)&&H5(t)})}function B5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function H5(t){var e=Di(t,1);e!==null&&Or(e,t,1,-1)}function Ev(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=TS.bind(null,yt,t),[e.memoizedState,t]}function Bc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W5(){return gr().memoizedState}function Od(t,e,n,r){var i=Yr();yt.flags|=t,i.memoizedState=Bc(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,r!==null&&gg(r,o.deps)){i.memoizedState=Bc(e,n,s,r);return}}yt.flags|=t,i.memoizedState=Bc(1|e,n,s,r)}function bv(t,e){return Od(8390656,8,t,e)}function _g(t,e){return tf(2048,8,t,e)}function q5(t,e){return tf(4,2,t,e)}function G5(t,e){return tf(4,4,t,e)}function K5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q5(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,K5.bind(null,e,t),n)}function wg(){}function X5(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y5(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z5(t,e,n){return To&21?(Ur(n,e)||(n=r5(),yt.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function ES(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Ip.transition;Ip.transition={};try{t(!1),e()}finally{We=n,Ip.transition=r}}function J5(){return gr().memoizedState}function bS(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},e4(t))t4(e,n);else if(n=D5(t,e,n,r),n!==null){var i=Tn();Or(n,t,r,i),n4(n,e,r)}}function TS(t,e,n){var r=Es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(e4(t))t4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(i.next=i,dg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=D5(t,e,i,r),n!==null&&(i=Tn(),Or(n,t,r,i),n4(n,e,r))}}function e4(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function t4(t,e){hc=ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function n4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ym(t,n)}}var mh={readContext:mr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},CS={readContext:mr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,K5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bS.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:Ev,useDebugValue:wg,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=Ev(!1),e=t[0];return t=ES.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Yr();if(dt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),qt===null)throw Error(G(349));To&30||F5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bv(z5.bind(null,r,s,t),[t]),r.flags|=2048,Bc(9,j5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yr(),e=qt.identifierPrefix;if(dt){var n=Si,r=Ci;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SS={readContext:mr,useCallback:X5,useContext:mr,useEffect:_g,useImperativeHandle:Q5,useInsertionEffect:q5,useLayoutEffect:G5,useMemo:Y5,useReducer:xp,useRef:W5,useState:function(){return xp(zc)},useDebugValue:wg,useDeferredValue:function(t){var e=gr();return Z5(e,Vt.memoizedState,t)},useTransition:function(){var t=xp(zc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:U5,useSyncExternalStore:$5,useId:J5,unstable_isNewReconciler:!1},AS={readContext:mr,useCallback:X5,useContext:mr,useEffect:_g,useImperativeHandle:Q5,useInsertionEffect:q5,useLayoutEffect:G5,useMemo:Y5,useReducer:kp,useRef:W5,useState:function(){return kp(zc)},useDebugValue:wg,useDeferredValue:function(t){var e=gr();return Vt===null?e.memoizedState=t:Z5(e,Vt.memoizedState,t)},useTransition:function(){var t=kp(zc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:U5,useSyncExternalStore:$5,useId:J5,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function D0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Es(t),s=ki(r,i);s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(Or(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Es(t),s=ki(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(Or(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Es(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,r),e!==null&&(Or(e,t,r,n),Ld(e,t,r))}};function Tv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(i,s):!0}function r4(t,e,n){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=Dn(e)?Eo:gn.current,r=e.contextTypes,s=(r=r!=null)?Pa(t,i):Ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Cv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function M0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=Dn(e)?Eo:gn.current,i.context=Pa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(D0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nf.enqueueReplaceState(i,i.state,null),hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var n="",r=e;do n+=eC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IS=typeof WeakMap=="function"?WeakMap:Map;function i4(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yh||(yh=!0,G0=r),V0(t,e)},n}function s4(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V0(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jS.bind(null,t,e,n),e.then(t,t))}function Av(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var xS=ji.ReactCurrentOwner,Nn=!1;function bn(t,e,n,r){e.child=t===null?O5(e,null,n,r):Na(e,t.child,n,r)}function xv(t,e,n,r,i){n=n.render;var s=e.ref;return Ta(e,i),r=yg(t,e,n,r,s,i),n=vg(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(dt&&n&&sg(e),e.flags|=1,bn(t,e,r,i),e.child)}function kv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,o4(t,e,s,r,i)):(t=Ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(o,r)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=bs(s,r),t.ref=e.ref,t.return=e,e.child=t}function o4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dc(s,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return U0(t,e,n,r,i)}function a4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ma,zn),zn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(ma,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(ma,zn),zn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(ma,zn),zn|=r;return bn(t,e,i,n),e.child}function l4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function U0(t,e,n,r,i){var s=Dn(n)?Eo:gn.current;return s=Pa(e,s),Ta(e,i),n=yg(t,e,n,r,s,i),r=vg(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(dt&&r&&sg(e),e.flags|=1,bn(t,e,n,i),e.child)}function Rv(t,e,n,r,i){if(Dn(n)){var s=!0;ah(e)}else s=!1;if(Ta(e,i),e.stateNode===null)Dd(t,e),r4(e,n,r),M0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Dn(n)?Eo:gn.current,u=Pa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cv(e,o,r,u),ss=!1;var p=e.memoizedState;o.state=p,hh(e,r,o,i),l=e.memoizedState,a!==r||p!==l||On.current||ss?(typeof d=="function"&&(D0(e,n,d,r),l=e.memoizedState),(a=ss||Tv(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,M5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Dn(n)?Eo:gn.current,l=Pa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Cv(e,o,r,l),ss=!1,p=e.memoizedState,o.state=p,hh(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||On.current||ss?(typeof g=="function"&&(D0(e,n,g,r),y=e.memoizedState),(u=ss||Tv(e,n,u,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return $0(t,e,n,r,s,i)}function $0(t,e,n,r,i,s){l4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mv(e,n,!1),Mi(t,e,s);r=e.stateNode,xS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Na(e,t.child,null,s),e.child=Na(e,null,a,s)):bn(t,e,a,s),e.memoizedState=r.state,i&&mv(e,n,!0),e.child}function c4(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),fg(t,e.containerInfo)}function Pv(t,e,n,r,i){return La(),ag(i),e.flags|=256,bn(t,e,n,r),e.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function j0(t){return{baseLanes:t,cachePool:null,transitions:null}}function u4(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(mt,i&1),t===null)return N0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=of(o,r,0,null),t=go(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j0(n),e.memoizedState=F0,t):Eg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kS(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bs(a,s):(s=go(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?j0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=F0,r}return s=t.child,t=s.sibling,r=bs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eg(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&ag(r),Na(e,t.child,null,n),t=Eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rp(Error(G(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=of({mode:"visible",children:r.children},i,0,null),s=go(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Na(e,t.child,null,o),e.child.memoizedState=j0(o),e.memoizedState=F0,s);if(!(e.mode&1))return cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Rp(s,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nn||a){if(r=qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(t,i),Or(r,t,i,-1))}return Ig(),r=Rp(Error(G(421))),cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hn=vs(i.nextSibling),qn=e,dt=!0,Pr=null,t!==null&&(cr[ur++]=Ci,cr[ur++]=Si,cr[ur++]=bo,Ci=t.id,Si=t.overflow,bo=e),e=Eg(e,r.children),e.flags|=4096,e)}function Lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Pp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function d4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,n,e);else if(t.tag===19)Lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pp(e,!0,n,null,s);break;case"together":Pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RS(t,e,n){switch(e.tag){case 3:c4(e),La();break;case 5:V5(e);break;case 1:Dn(e.type)&&ah(e);break;case 4:fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(uh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?u4(t,e,n):(et(mt,mt.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);et(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return d4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,a4(t,e,n)}return Mi(t,e,n)}var h4,z0,f4,p4;h4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z0=function(){};f4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lo(ni.current);var s=null;switch(n){case"input":i=u0(t,i),r=u0(t,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=f0(t,i),r=f0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sh)}m0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&at("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};p4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PS(t,e,n){var r=e.pendingProps;switch(og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Dn(e.type)&&oh(),dn(e),null;case 3:return r=e.stateNode,Oa(),ct(On),ct(gn),mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(X0(Pr),Pr=null))),z0(t,e),dn(e),null;case 5:pg(e);var i=lo(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)f4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return dn(e),null}if(t=lo(ni.current),ad(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ei]=e,r[Uc]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<Yl.length;i++)at(Yl[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":jy(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":By(r,s),at("invalid",r)}m0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",""+a]):xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Zu(r),zy(r,s,!0);break;case"textarea":Zu(r),Hy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ei]=e,t[Uc]=r,h4(t,e,!1,!1),e.stateNode=t;e:{switch(o=g0(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yl.length;i++)at(Yl[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":jy(t,r),i=u0(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),at("invalid",t);break;case"textarea":By(t,r),i=f0(t,r),at("invalid",t);break;default:i=r}m0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ww(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&Wm(t,s,l,o))}switch(n){case"input":Zu(t),zy(t,r,!1);break;case"textarea":Zu(t),Hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_a(t,!!r.multiple,s,!1):r.defaultValue!=null&&_a(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)p4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=lo(Fc.current),lo(ni.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[ei]=e,(s=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ei]=e,e.stateNode=r}return dn(e),null;case 13:if(ct(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Hn!==null&&e.mode&1&&!(e.flags&128))L5(),La(),e.flags|=98560,s=!1;else if(s=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[ei]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else Pr!==null&&(X0(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?$t===0&&($t=3):Ig())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Oa(),z0(t,e),t===null&&Mc(e.stateNode.containerInfo),dn(e),null;case 10:return ug(e.type._context),dn(e),null;case 17:return Dn(e.type)&&oh(),dn(e),null;case 19:if(ct(mt),s=e.memoizedState,s===null)return dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Dl(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fh(t),o!==null){for(e.flags|=128,Dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>Ma&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=fh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return dn(e),null}else 2*It()-s.renderingStartTime>Ma&&n!==1073741824&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,n=mt.current,et(mt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return Ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function LS(t,e){switch(og(e),e.tag){case 1:return Dn(e.type)&&oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),ct(On),ct(gn),mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pg(e),null;case 13:if(ct(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(mt),null;case 4:return Oa(),null;case 10:return ug(e.type._context),null;case 22:case 23:return Ag(),null;case 24:return null;default:return null}}var ud=!1,pn=!1,NS=typeof WeakSet=="function"?WeakSet:Set,te=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function B0(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var Nv=!1;function OS(t,e){if(A0=nh,t=_5(),ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I0={focusedElem:t,selectionRange:n},nh=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,x=y.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:xr(e.type,E),x);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(M){Tt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return y=Nv,Nv=!1,y}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&B0(e,n,s)}i=i.next}while(i!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m4(t){var e=t.alternate;e!==null&&(t.alternate=null,m4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ei],delete e[Uc],delete e[R0],delete e[gS],delete e[yS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g4(t){return t.tag===5||t.tag===3||t.tag===4}function Ov(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function W0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sh));else if(r!==4&&(t=t.child,t!==null))for(W0(t,e,n),t=t.sibling;t!==null;)W0(t,e,n),t=t.sibling}function q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(q0(t,e,n),t=t.sibling;t!==null;)q0(t,e,n),t=t.sibling}var Yt=null,kr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)y4(t,e,n),n=n.sibling}function y4(t,e,n){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:pn||pa(n,e);case 6:var r=Yt,i=kr;Yt=null,Yi(t,e,n),Yt=r,kr=i,Yt!==null&&(kr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(kr?(t=Yt,n=n.stateNode,t.nodeType===8?Cp(t.parentNode,n):t.nodeType===1&&Cp(t,n),Nc(t)):Cp(Yt,n.stateNode));break;case 4:r=Yt,i=kr,Yt=n.stateNode.containerInfo,kr=!0,Yi(t,e,n),Yt=r,kr=i;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&B0(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!pn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,Yi(t,e,n),pn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NS),e.forEach(function(r){var i=BS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,kr=!1;break e;case 3:Yt=a.stateNode.containerInfo,kr=!0;break e;case 4:Yt=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(Yt===null)throw Error(G(160));y4(s,o,i),Yt=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v4(e,t),e=e.sibling}function v4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),Qr(t),r&4){try{fc(3,t,t.return),rf(3,t)}catch(E){Tt(t,t.return,E)}try{fc(5,t,t.return)}catch(E){Tt(t,t.return,E)}}break;case 1:Sr(e,t),Qr(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Sr(e,t),Qr(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{kc(i,"")}catch(E){Tt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fw(i,s),g0(a,o);var u=g0(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ww(i,h):d==="dangerouslySetInnerHTML"?Bw(i,h):d==="children"?kc(i,h):Wm(i,d,h,u)}switch(a){case"input":d0(i,s);break;case"textarea":jw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?_a(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?_a(i,!!s.multiple,s.defaultValue,!0):_a(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uc]=s}catch(E){Tt(t,t.return,E)}}break;case 6:if(Sr(e,t),Qr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Tt(t,t.return,E)}}break;case 3:if(Sr(e,t),Qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(E){Tt(t,t.return,E)}break;case 4:Sr(e,t),Qr(t);break;case 13:Sr(e,t),Qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cg=It())),r&4&&Dv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pn=(u=pn)||d,Sr(e,t),pn=u):Sr(e,t),Qr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(p=te,g=p.child,p.tag){case 0:case 11:case 14:case 15:fc(4,p,p.return);break;case 1:pa(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){Tt(r,n,E)}}break;case 5:pa(p,p.return);break;case 22:if(p.memoizedState!==null){Vv(h);continue}}g!==null?(g.return=p,te=g):Vv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hw("display",o))}catch(E){Tt(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Tt(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sr(e,t),Qr(t),r&4&&Dv(t);break;case 21:break;default:Sr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g4(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kc(i,""),r.flags&=-33);var s=Ov(t);q0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ov(t);W0(t,a,o);break;default:throw Error(G(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DS(t,e,n){te=t,_4(t)}function _4(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ud;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pn;a=ud;var u=pn;if(ud=o,(pn=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Uv(i):l!==null?(l.return=o,te=l):Uv(i);for(;s!==null;)te=s,_4(s),s=s.sibling;te=i,ud=a,pn=u}Mv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Mv(t)}}function Mv(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pn||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}pn||e.flags&512&&H0(e)}catch(p){Tt(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Vv(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Uv(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var s=e.return;try{H0(e)}catch(l){Tt(e,s,l)}break;case 5:var o=e.return;try{H0(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var MS=Math.ceil,gh=ji.ReactCurrentDispatcher,bg=ji.ReactCurrentOwner,pr=ji.ReactCurrentBatchConfig,Me=0,qt=null,Nt=null,en=0,zn=0,ma=js(0),$t=0,Hc=null,Co=0,sf=0,Tg=0,pc=null,Rn=null,Cg=0,Ma=1/0,wi=null,yh=!1,G0=null,ws=null,dd=!1,hs=null,vh=0,mc=0,K0=null,Md=-1,Vd=0;function Tn(){return Me&6?It():Md!==-1?Md:Md=It()}function Es(t){return t.mode&1?Me&2&&en!==0?en&-en:_S.transition!==null?(Vd===0&&(Vd=r5()),Vd):(t=We,t!==0||(t=window.event,t=t===void 0?16:u5(t.type)),t):1}function Or(t,e,n,r){if(50<mc)throw mc=0,K0=null,Error(G(185));uu(t,n,r),(!(Me&2)||t!==qt)&&(t===qt&&(!(Me&2)&&(sf|=n),$t===4&&as(t,en)),Mn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Ma=It()+500,ef&&zs()))}function Mn(t,e){var n=t.callbackNode;_C(t,e);var r=th(t,t===qt?en:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?vS($v.bind(null,t)):k5($v.bind(null,t)),pS(function(){!(Me&6)&&zs()}),n=null;else{switch(i5(r)){case 1:n=Xm;break;case 4:n=t5;break;case 16:n=eh;break;case 536870912:n=n5;break;default:n=eh}n=I4(n,w4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w4(t,e){if(Md=-1,Vd=0,Me&6)throw Error(G(327));var n=t.callbackNode;if(Ca()&&t.callbackNode!==n)return null;var r=th(t,t===qt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_h(t,r);else{e=r;var i=Me;Me|=2;var s=b4();(qt!==t||en!==e)&&(wi=null,Ma=It()+500,mo(t,e));do try{$S();break}catch(a){E4(t,a)}while(!0);cg(),gh.current=s,Me=i,Nt!==null?e=0:(qt=null,en=0,e=$t)}if(e!==0){if(e===2&&(i=E0(t),i!==0&&(r=i,e=Q0(t,i))),e===1)throw n=Hc,mo(t,0),as(t,r),Mn(t,It()),n;if(e===6)as(t,r);else{if(i=t.current.alternate,!(r&30)&&!VS(i)&&(e=_h(t,r),e===2&&(s=E0(t),s!==0&&(r=s,e=Q0(t,s))),e===1))throw n=Hc,mo(t,0),as(t,r),Mn(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ro(t,Rn,wi);break;case 3:if(as(t,r),(r&130023424)===r&&(e=Cg+500-It(),10<e)){if(th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=k0(ro.bind(null,t,Rn,wi),e);break}ro(t,Rn,wi);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MS(r/1960))-r,10<r){t.timeoutHandle=k0(ro.bind(null,t,Rn,wi),r);break}ro(t,Rn,wi);break;case 5:ro(t,Rn,wi);break;default:throw Error(G(329))}}}return Mn(t,It()),t.callbackNode===n?w4.bind(null,t):null}function Q0(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=_h(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&X0(e)),t}function X0(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function VS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~Tg,e&=~sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function $v(t){if(Me&6)throw Error(G(327));Ca();var e=th(t,0);if(!(e&1))return Mn(t,It()),null;var n=_h(t,e);if(t.tag!==0&&n===2){var r=E0(t);r!==0&&(e=r,n=Q0(t,r))}if(n===1)throw n=Hc,mo(t,0),as(t,e),Mn(t,It()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,Rn,wi),Mn(t,It()),null}function Sg(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Ma=It()+500,ef&&zs())}}function So(t){hs!==null&&hs.tag===0&&!(Me&6)&&Ca();var e=Me;Me|=1;var n=pr.transition,r=We;try{if(pr.transition=null,We=1,t)return t()}finally{We=r,pr.transition=n,Me=e,!(Me&6)&&zs()}}function Ag(){zn=ma.current,ct(ma)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fS(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oh();break;case 3:Oa(),ct(On),ct(gn),mg();break;case 5:pg(r);break;case 4:Oa();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:ug(r.type._context);break;case 22:case 23:Ag()}n=n.return}if(qt=t,Nt=t=bs(t.current,null),en=zn=e,$t=0,Hc=null,Tg=sf=Co=0,Rn=pc=null,ao!==null){for(e=0;e<ao.length;e++)if(n=ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ao=null}return t}function E4(t,e){do{var n=Nt;try{if(cg(),Nd.current=mh,ph){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ph=!1}if(To=0,Wt=Vt=yt=null,hc=!1,jc=0,bg.current=null,n===null||n.return===null){$t=1,Hc=e,Nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Av(o);if(g!==null){g.flags&=-257,Iv(g,o,a,s,e),g.mode&1&&Sv(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){Sv(s,u,e),Ig();break e}l=Error(G(426))}}else if(dt&&a.mode&1){var x=Av(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Iv(x,o,a,s,e),ag(Da(l,a));break e}}s=l=Da(l,a),$t!==4&&($t=2),pc===null?pc=[s]:pc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=i4(s,l,e);_v(s,w);break e;case 1:a=l;var v=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ws===null||!ws.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=s4(s,a,e);_v(s,M);break e}}s=s.return}while(s!==null)}C4(n)}catch(F){e=F,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function b4(){var t=gh.current;return gh.current=mh,t===null?mh:t}function Ig(){($t===0||$t===3||$t===2)&&($t=4),qt===null||!(Co&268435455)&&!(sf&268435455)||as(qt,en)}function _h(t,e){var n=Me;Me|=2;var r=b4();(qt!==t||en!==e)&&(wi=null,mo(t,e));do try{US();break}catch(i){E4(t,i)}while(!0);if(cg(),Me=n,gh.current=r,Nt!==null)throw Error(G(261));return qt=null,en=0,$t}function US(){for(;Nt!==null;)T4(Nt)}function $S(){for(;Nt!==null&&!uC();)T4(Nt)}function T4(t){var e=A4(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?C4(t):Nt=e,bg.current=null}function C4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LS(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Nt=null;return}}else if(n=PS(n,e,zn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);$t===0&&($t=5)}function ro(t,e,n){var r=We,i=pr.transition;try{pr.transition=null,We=1,FS(t,e,n,r)}finally{pr.transition=i,We=r}return null}function FS(t,e,n,r){do Ca();while(hs!==null);if(Me&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wC(t,s),t===qt&&(Nt=qt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,I4(eh,function(){return Ca(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=We;We=1;var a=Me;Me|=4,bg.current=null,OS(t,n),v4(n,t),oS(I0),nh=!!A0,I0=A0=null,t.current=n,DS(n),dC(),Me=a,We=o,pr.transition=s}else t.current=n;if(dd&&(dd=!1,hs=t,vh=i),s=t.pendingLanes,s===0&&(ws=null),pC(n.stateNode),Mn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yh)throw yh=!1,t=G0,G0=null,t;return vh&1&&t.tag!==0&&Ca(),s=t.pendingLanes,s&1?t===K0?mc++:(mc=0,K0=t):mc=0,zs(),null}function Ca(){if(hs!==null){var t=i5(vh),e=pr.transition,n=We;try{if(pr.transition=null,We=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,vh=0,Me&6)throw Error(G(331));var i=Me;for(Me|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:fc(8,d,s)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var p=d.sibling,g=d.return;if(m4(d),d===u){te=null;break}if(p!==null){p.return=g,te=p;break}te=g}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break e}te=s.return}}var v=t.current;for(te=v;te!==null;){o=te;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,te=A;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(F){Tt(a,a.return,F)}if(a===o){te=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,te=M;break e}te=a.return}}if(Me=i,zs(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(Qh,t)}catch{}r=!0}return r}finally{We=n,pr.transition=e}}return!1}function Fv(t,e,n){e=Da(n,e),e=i4(t,e,1),t=_s(t,e,1),e=Tn(),t!==null&&(uu(t,1,e),Mn(t,e))}function Tt(t,e,n){if(t.tag===3)Fv(t,t,n);else for(;e!==null;){if(e.tag===3){Fv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=Da(n,t),t=s4(e,t,1),e=_s(e,t,1),t=Tn(),e!==null&&(uu(e,1,t),Mn(e,t));break}}e=e.return}}function jS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>It()-Cg?mo(t,0):Tg|=n),Mn(t,e)}function S4(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=Tn();t=Di(t,e),t!==null&&(uu(t,e,n),Mn(t,n))}function zS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S4(t,n)}function BS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),S4(t,n)}var A4;A4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,RS(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,dt&&e.flags&1048576&&R5(e,ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=Pa(e,gn.current);Ta(e,n),i=yg(null,e,r,t,i,n);var s=vg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(s=!0,ah(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hg(e),i.updater=nf,e.stateNode=i,i._reactInternals=e,M0(e,r,t,n),e=$0(null,e,r,!0,s,n)):(e.tag=0,dt&&s&&sg(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WS(r),t=xr(r,t),i){case 0:e=U0(null,e,r,t,n);break e;case 1:e=Rv(null,e,r,t,n);break e;case 11:e=xv(null,e,r,t,n);break e;case 14:e=kv(null,e,r,xr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),U0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),Rv(t,e,r,i,n);case 3:e:{if(c4(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,M5(t,e),hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Da(Error(G(423)),e),e=Pv(t,e,r,n,i);break e}else if(r!==i){i=Da(Error(G(424)),e),e=Pv(t,e,r,n,i);break e}else for(Hn=vs(e.stateNode.containerInfo.firstChild),qn=e,dt=!0,Pr=null,n=O5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Mi(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return V5(e),t===null&&N0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,x0(r,i)?o=null:s!==null&&x0(r,s)&&(e.flags|=32),l4(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&N0(e),null;case 13:return u4(t,e,n);case 4:return fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Na(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),xv(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(uh,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!On.current){e=Mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ki(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),O0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),O0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ta(e,n),i=mr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=xr(r,e.pendingProps),i=xr(r.type,i),kv(t,e,r,i,n);case 15:return o4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),Dd(t,e),e.tag=1,Dn(r)?(t=!0,ah(e)):t=!1,Ta(e,n),r4(e,r,i),M0(e,r,i,n),$0(null,e,r,!0,t,n);case 19:return d4(t,e,n);case 22:return a4(t,e,n)}throw Error(G(156,e.tag))};function I4(t,e){return e5(t,e)}function HS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new HS(t,e,n,r)}function xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WS(t){if(typeof t=="function")return xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gm)return 11;if(t===Km)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return go(n.children,i,s,e);case qm:o=8,i|=8;break;case o0:return t=fr(12,n,e,i|2),t.elementType=o0,t.lanes=s,t;case a0:return t=fr(13,n,e,i),t.elementType=a0,t.lanes=s,t;case l0:return t=fr(19,n,e,i),t.elementType=l0,t.lanes=s,t;case Vw:return of(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dw:o=10;break e;case Mw:o=9;break e;case Gm:o=11;break e;case Km:o=14;break e;case is:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=fr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function go(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=fr(22,t,r,e),t.elementType=Vw,t.lanes=n,t.stateNode={isHidden:!1},t}function Lp(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function Np(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kg(t,e,n,r,i,s,o,a,l){return t=new qS(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(s),t}function GS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function x4(t){if(!t)return Ls;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Dn(n))return x5(t,n,e)}return e}function k4(t,e,n,r,i,s,o,a,l){return t=kg(n,r,!0,t,i,s,o,a,l),t.context=x4(null),n=t.current,r=Tn(),i=Es(n),s=ki(r,i),s.callback=e??null,_s(n,s,i),t.current.lanes=i,uu(t,i,r),Mn(t,r),t}function af(t,e,n,r){var i=e.current,s=Tn(),o=Es(i);return n=x4(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(i,e,o),t!==null&&(Or(t,i,o,s),Ld(t,i,o)),o}function wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rg(t,e){jv(t,e),(t=t.alternate)&&jv(t,e)}function KS(){return null}var R4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pg(t){this._internalRoot=t}lf.prototype.render=Pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));af(t,e,null,null)};lf.prototype.unmount=Pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){af(null,t,null,null)}),e[Oi]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=a5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&c5(t)}};function Lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zv(){}function QS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wh(o);s.call(u)}}var o=k4(e,r,t,0,null,!1,!1,"",zv);return t._reactRootContainer=o,t[Oi]=o.current,Mc(t.nodeType===8?t.parentNode:t),So(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wh(l);a.call(u)}}var l=kg(t,0,!1,null,null,!1,!1,"",zv);return t._reactRootContainer=l,t[Oi]=l.current,Mc(t.nodeType===8?t.parentNode:t),So(function(){af(e,l,n,r)}),l}function uf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wh(o);a.call(l)}}af(e,o,t,i)}else o=QS(n,e,t,i,r);return wh(o)}s5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(Ym(e,n|1),Mn(e,It()),!(Me&6)&&(Ma=It()+500,zs()))}break;case 13:So(function(){var r=Di(t,1);if(r!==null){var i=Tn();Or(r,t,1,i)}}),Rg(t,1)}};Zm=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Tn();Or(e,t,134217728,n)}Rg(t,134217728)}};o5=function(t){if(t.tag===13){var e=Es(t),n=Di(t,e);if(n!==null){var r=Tn();Or(n,t,e,r)}Rg(t,e)}};a5=function(){return We};l5=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};v0=function(t,e,n){switch(e){case"input":if(d0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jh(r);if(!i)throw Error(G(90));$w(r),d0(r,i)}}}break;case"textarea":jw(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}};Kw=Sg;Qw=So;var XS={usingClientEntryPoint:!1,Events:[hu,ca,Jh,qw,Gw,Sg]},Ml={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YS={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||KS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Qh=hd.inject(YS),ti=hd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(e))throw Error(G(200));return GS(t,e,null,n)};Yn.createRoot=function(t,e){if(!Lg(t))throw Error(G(299));var n=!1,r="",i=R4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kg(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,Mc(t.nodeType===8?t.parentNode:t),new Pg(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Zw(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return So(t)};Yn.hydrate=function(t,e,n){if(!cf(e))throw Error(G(200));return uf(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Lg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=R4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k4(e,null,t,1,n??null,i,!1,s,o),t[Oi]=e.current,Mc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lf(e)};Yn.render=function(t,e,n){if(!cf(e))throw Error(G(200));return uf(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!cf(t))throw Error(G(40));return t._reactRootContainer?(So(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Yn.unstable_batchedUpdates=Sg;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cf(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return uf(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function P4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P4)}catch(t){console.error(t)}}P4(),Pw.exports=Yn;var Ng=Pw.exports;const ZS=Um(Ng),JS=_w({__proto__:null,default:ZS},[Ng]);var Bv=Ng;i0.createRoot=Bv.createRoot,i0.hydrateRoot=Bv.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pt.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const Hv="popstate";function eA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Wc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ao(i)}return nA(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Va(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substr(2,8)}function Wv(t,e){return{usr:t.state,key:t.key,idx:e}}function Wc(t,e,n,r){return n===void 0&&(n=null),pt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:n,key:e&&e.key||r||tA()})}function Ao(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(pt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Pt.Pop;let x=d(),w=x==null?null:x-u;u=x,l&&l({action:a,location:E.location,delta:w})}function p(x,w){a=Pt.Push;let v=Wc(E.location,x,w);u=d()+1;let A=Wv(v,u),M=E.createHref(v);try{o.pushState(A,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(M)}s&&l&&l({action:a,location:E.location,delta:1})}function g(x,w){a=Pt.Replace;let v=Wc(E.location,x,w);u=d();let A=Wv(v,u),M=E.createHref(v);o.replaceState(A,"",M),s&&l&&l({action:a,location:E.location,delta:0})}function y(x){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:Ao(x);return v=v.replace(/ $/,"%20"),Ae(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let E={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hv,h),l=x,()=>{i.removeEventListener(Hv,h),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(x){return o.go(x)}};return E}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));const rA=new Set(["lazy","caseSensitive","path","id","index","children"]);function iA(t){return t.index===!0}function qc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ae(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),iA(i)){let l=pt({},i,e(i),{id:a});return r[a]=l,l}else{let l=pt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=qc(i.children,e,o,r)),l}})}function so(t,e,n){return n===void 0&&(n="/"),$d(t,e,n,!1)}function $d(t,e,n,r){let i=typeof e=="string"?Bs(e):e,s=al(i.pathname||"/",n);if(s==null)return null;let o=L4(t);oA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=yA(s);a=mA(o[l],u,r)}return a}function sA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function L4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ri([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L4(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:fA(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of N4(s.path))i(s,o,l)}),e}function N4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=N4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function oA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aA=/^:[\w-]+$/,lA=3,cA=2,uA=1,dA=10,hA=-2,qv=t=>t==="*";function fA(t,e){let n=t.split("/"),r=n.length;return n.some(qv)&&(r+=hA),e&&(r+=cA),n.filter(i=>!qv(i)).reduce((i,s)=>i+(aA.test(s)?lA:s===""?uA:dA),r)}function pA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Gv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Gv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ri([s,h.pathname]),pathnameBase:wA(Ri([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ri([s,h.pathnameBase]))}return o}function Gv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function gA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Va(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Va(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bs(t):t;return{pathname:n?n.startsWith("/")?n:_A(n,e):e,search:EA(r),hash:bA(i)}}function _A(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Op(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function df(t,e){let n=O4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bs(t):(i=pt({},t),Ae(!i.pathname||!i.pathname.includes("?"),Op("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),Op("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),Op("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=vA(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),wA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Og{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ff(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D4=["post","put","patch","delete"],TA=new Set(D4),CA=["get",...D4],SA=new Set(CA),AA=new Set([301,302,303,307,308]),IA=new Set([307,308]),Dp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),M4="remix-router-transitions";function RA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;i=D=>({hasErrorBoundary:L(D)})}else i=kA;let s={},o=qc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||DA,d=t.unstable_patchRoutesOnMiss,h=pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,y=null,E=null,x=null,w=t.hydrationData!=null,v=so(o,t.history.location,l),A=null;if(v==null&&!d){let L=En(404,{pathname:t.history.location.pathname}),{matches:D,route:U}=r2(o);v=D,A={[U.id]:L}}v&&d&&Kt(v,o,t.history.location.pathname).active&&(v=null);let M;if(!v)M=!1,v=[];else if(v.some(L=>L.route.lazy))M=!1;else if(!v.some(L=>L.route.loader))M=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null,U=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:L&&L[z.route.id]!==void 0||D&&D[z.route.id]!==void 0:!0;if(D){let z=v.findIndex(q=>D[q.route.id]!==void 0);M=v.slice(0,z+1).every(U)}else M=v.every(U)}else M=t.hydrationData!=null;let F,P={historyAction:t.history.action,location:t.history.location,matches:v,initialized:M,navigation:Dp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},C=Pt.Pop,_=!1,T,I=!1,R=new Map,N=null,k=!1,ie=!1,je=[],De=[],de=new Map,W=0,J=-1,Y=new Map,pe=new Set,ye=new Map,Ve=new Map,ut=new Set,Ct=new Map,ft=new Map,Ge=new Map,Jn=!1;function vn(){if(p=t.history.listen(L=>{let{action:D,location:U,delta:z}=L;if(Jn){Jn=!1;return}Va(ft.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=ir({currentLocation:P.location,nextLocation:U,historyAction:D});if(q&&z!=null){Jn=!0,t.history.go(z*-1),In(q,{state:"blocked",location:U,proceed(){In(q,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),t.history.go(z)},reset(){let ee=new Map(P.blockers);ee.set(q,Vl),qe({blockers:ee})}});return}return zt(D,U)}),n){KA(e,R);let L=()=>QA(e,R);e.addEventListener("pagehide",L),N=()=>e.removeEventListener("pagehide",L)}return P.initialized||zt(Pt.Pop,P.location,{initialHydration:!0}),F}function _n(){p&&p(),N&&N(),g.clear(),T&&T.abort(),P.fetchers.forEach((L,D)=>nr(D)),P.blockers.forEach((L,D)=>Un(D))}function er(L){return g.add(L),()=>g.delete(L)}function qe(L,D){D===void 0&&(D={}),P=pt({},P,L);let U=[],z=[];h.v7_fetcherPersist&&P.fetchers.forEach((q,ee)=>{q.state==="idle"&&(ut.has(ee)?z.push(ee):U.push(ee))}),[...g].forEach(q=>q(P,{deletedFetchers:z,unstable_viewTransitionOpts:D.viewTransitionOpts,unstable_flushSync:D.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(q=>P.fetchers.delete(q)),z.forEach(q=>nr(q)))}function An(L,D,U){var z,q;let{flushSync:ee}=U===void 0?{}:U,Z=P.actionData!=null&&P.navigation.formMethod!=null&&Rr(P.navigation.formMethod)&&P.navigation.state==="loading"&&((z=L.state)==null?void 0:z._isRedirect)!==!0,K;D.actionData?Object.keys(D.actionData).length>0?K=D.actionData:K=null:Z?K=P.actionData:K=null;let me=D.loaderData?t2(P.loaderData,D.loaderData,D.matches||[],D.errors):P.loaderData,ae=P.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((xe,le)=>ae.set(le,Vl)));let oe=_===!0||P.navigation.formMethod!=null&&Rr(P.navigation.formMethod)&&((q=L.state)==null?void 0:q._isRedirect)!==!0;a&&(o=a,a=void 0),k||C===Pt.Pop||(C===Pt.Push?t.history.push(L,L.state):C===Pt.Replace&&t.history.replace(L,L.state));let Ce;if(C===Pt.Pop){let xe=R.get(P.location.pathname);xe&&xe.has(L.pathname)?Ce={currentLocation:P.location,nextLocation:L}:R.has(L.pathname)&&(Ce={currentLocation:L,nextLocation:P.location})}else if(I){let xe=R.get(P.location.pathname);xe?xe.add(L.pathname):(xe=new Set([L.pathname]),R.set(P.location.pathname,xe)),Ce={currentLocation:P.location,nextLocation:L}}qe(pt({},D,{actionData:K,loaderData:me,historyAction:C,location:L,initialized:!0,navigation:Dp,revalidation:"idle",restoreScrollPosition:Mt(L,D.matches||P.matches),preventScrollReset:oe,blockers:ae}),{viewTransitionOpts:Ce,flushSync:ee===!0}),C=Pt.Pop,_=!1,I=!1,k=!1,ie=!1,je=[],De=[]}async function xt(L,D){if(typeof L=="number"){t.history.go(L);return}let U=Y0(P.location,P.matches,l,h.v7_prependBasename,L,h.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:z,submission:q,error:ee}=Kv(h.v7_normalizeFormMethod,!1,U,D),Z=P.location,K=Wc(P.location,z,D&&D.state);K=pt({},K,t.history.encodeLocation(K));let me=D&&D.replace!=null?D.replace:void 0,ae=Pt.Push;me===!0?ae=Pt.Replace:me===!1||q!=null&&Rr(q.formMethod)&&q.formAction===P.location.pathname+P.location.search&&(ae=Pt.Replace);let oe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Ce=(D&&D.unstable_flushSync)===!0,xe=ir({currentLocation:Z,nextLocation:K,historyAction:ae});if(xe){In(xe,{state:"blocked",location:K,proceed(){In(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),xt(L,D)},reset(){let le=new Map(P.blockers);le.set(xe,Vl),qe({blockers:le})}});return}return await zt(ae,K,{submission:q,pendingError:ee,preventScrollReset:oe,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition,flushSync:Ce})}function Br(){if(Qe(),qe({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){zt(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}zt(C||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation})}}async function zt(L,D,U){T&&T.abort(),T=null,C=L,k=(U&&U.startUninterruptedRevalidation)===!0,be(P.location,P.matches),_=(U&&U.preventScrollReset)===!0,I=(U&&U.enableViewTransition)===!0;let z=a||o,q=U&&U.overrideNavigation,ee=so(z,D,l),Z=(U&&U.flushSync)===!0,K=Kt(ee,z,D.pathname);if(K.active&&K.matches&&(ee=K.matches),!ee){let{error:ve,notFoundMatches:rt,route:Be}=wn(D.pathname);An(D,{matches:rt,loaderData:{},errors:{[Be.id]:ve}},{flushSync:Z});return}if(P.initialized&&!ie&&jA(P.location,D)&&!(U&&U.submission&&Rr(U.submission.formMethod))){An(D,{matches:ee},{flushSync:Z});return}T=new AbortController;let me=Xo(t.history,D,T.signal,U&&U.submission),ae;if(U&&U.pendingError)ae=[gc(ee).route.id,{type:Je.error,error:U.pendingError}];else if(U&&U.submission&&Rr(U.submission.formMethod)){let ve=await _r(me,D,U.submission,ee,K.active,{replace:U.replace,flushSync:Z});if(ve.shortCircuited)return;if(ve.pendingActionResult){let[rt,Be]=ve.pendingActionResult;if(Bn(Be)&&ff(Be.error)&&Be.error.status===404){T=null,An(D,{matches:ve.matches,loaderData:{},errors:{[rt]:Be.error}});return}}ee=ve.matches||ee,ae=ve.pendingActionResult,q=Mp(D,U.submission),Z=!1,K.active=!1,me=Xo(t.history,me.url,me.signal)}let{shortCircuited:oe,matches:Ce,loaderData:xe,errors:le}=await Ke(me,D,ee,K.active,q,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,Z,ae);oe||(T=null,An(D,pt({matches:Ce||ee},n2(ae),{loaderData:xe,errors:le})))}async function _r(L,D,U,z,q,ee){ee===void 0&&(ee={}),Qe();let Z=qA(D,U);if(qe({navigation:Z},{flushSync:ee.flushSync===!0}),q){let ae=await X(z,D.pathname,L.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{error:oe,notFoundMatches:Ce,route:xe}=$n(D.pathname,ae);return{matches:Ce,pendingActionResult:[xe.id,{type:Je.error,error:oe}]}}else if(ae.matches)z=ae.matches;else{let{notFoundMatches:oe,error:Ce,route:xe}=wn(D.pathname);return{matches:oe,pendingActionResult:[xe.id,{type:Je.error,error:Ce}]}}}let K,me=Zl(z,D);if(!me.route.action&&!me.route.lazy)K={type:Je.error,error:En(405,{method:L.method,pathname:D.pathname,routeId:me.route.id})};else if(K=(await Gt("action",L,[me],z))[0],L.signal.aborted)return{shortCircuited:!0};if(uo(K)){let ae;return ee&&ee.replace!=null?ae=ee.replace:ae=Zv(K.response.headers.get("Location"),new URL(L.url),l)===P.location.pathname+P.location.search,await sn(L,K,{submission:U,replace:ae}),{shortCircuited:!0}}if(co(K))throw En(400,{type:"defer-action"});if(Bn(K)){let ae=gc(z,me.route.id);return(ee&&ee.replace)!==!0&&(C=Pt.Push),{matches:z,pendingActionResult:[ae.route.id,K]}}return{matches:z,pendingActionResult:[me.route.id,K]}}async function Ke(L,D,U,z,q,ee,Z,K,me,ae,oe){let Ce=q||Mp(D,ee),xe=ee||Z||o2(Ce),le=!k&&(!h.v7_partialHydration||!me);if(z){if(le){let it=wr(oe);qe(pt({navigation:Ce},it!==void 0?{actionData:it}:{}),{flushSync:ae})}let Ee=await X(U,D.pathname,L.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let{error:it,notFoundMatches:an,route:ze}=$n(D.pathname,Ee);return{matches:an,loaderData:{},errors:{[ze.id]:it}}}else if(Ee.matches)U=Ee.matches;else{let{error:it,notFoundMatches:an,route:ze}=wn(D.pathname);return{matches:an,loaderData:{},errors:{[ze.id]:it}}}}let ve=a||o,[rt,Be]=Qv(t.history,P,U,xe,D,h.v7_partialHydration&&me===!0,h.unstable_skipActionErrorRevalidation,ie,je,De,ut,ye,pe,ve,l,oe);if(Ye(Ee=>!(U&&U.some(it=>it.route.id===Ee))||rt&&rt.some(it=>it.route.id===Ee)),J=++W,rt.length===0&&Be.length===0){let Ee=rr();return An(D,pt({matches:U,loaderData:{},errors:oe&&Bn(oe[1])?{[oe[0]]:oe[1].error}:null},n2(oe),Ee?{fetchers:new Map(P.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(le){let Ee={};if(!z){Ee.navigation=Ce;let it=wr(oe);it!==void 0&&(Ee.actionData=it)}Be.length>0&&(Ee.fetchers=Er(Be)),qe(Ee,{flushSync:ae})}Be.forEach(Ee=>{de.has(Ee.key)&&Ue(Ee.key),Ee.controller&&de.set(Ee.key,Ee.controller)});let Gr=()=>Be.forEach(Ee=>Ue(Ee.key));T&&T.signal.addEventListener("abort",Gr);let{loaderResults:xn,fetcherResults:Tr}=await nt(P.matches,U,rt,Be,L);if(L.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Gr),Be.forEach(Ee=>de.delete(Ee.key));let pi=i2([...xn,...Tr]);if(pi){if(pi.idx>=rt.length){let Ee=Be[pi.idx-rt.length].key;pe.add(Ee)}return await sn(L,pi.result,{replace:K}),{shortCircuited:!0}}let{loaderData:Kr,errors:on}=e2(P,U,rt,xn,oe,Be,Tr,Ct);Ct.forEach((Ee,it)=>{Ee.subscribe(an=>{(an||Ee.done)&&Ct.delete(it)})}),h.v7_partialHydration&&me&&P.errors&&Object.entries(P.errors).filter(Ee=>{let[it]=Ee;return!rt.some(an=>an.route.id===it)}).forEach(Ee=>{let[it,an]=Ee;on=Object.assign(on||{},{[it]:an})});let sr=rr(),Gi=br(J),Wo=sr||Gi||Be.length>0;return pt({matches:U,loaderData:Kr,errors:on},Wo?{fetchers:new Map(P.fetchers)}:{})}function wr(L){if(L&&!Bn(L[1]))return{[L[0]]:L[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Er(L){return L.forEach(D=>{let U=P.fetchers.get(D.key),z=Ul(void 0,U?U.data:void 0);P.fetchers.set(D.key,z)}),new Map(P.fetchers)}function Hr(L,D,U,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");de.has(L)&&Ue(L);let q=(z&&z.unstable_flushSync)===!0,ee=a||o,Z=Y0(P.location,P.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,D,z==null?void 0:z.relative),K=so(ee,Z,l),me=Kt(K,ee,Z);if(me.active&&me.matches&&(K=me.matches),!K){Bt(L,D,En(404,{pathname:Z}),{flushSync:q});return}let{path:ae,submission:oe,error:Ce}=Kv(h.v7_normalizeFormMethod,!0,Z,z);if(Ce){Bt(L,D,Ce,{flushSync:q});return}let xe=Zl(K,ae);if(_=(z&&z.preventScrollReset)===!0,oe&&Rr(oe.formMethod)){hi(L,D,ae,xe,K,me.active,q,oe);return}ye.set(L,{routeId:D,path:ae}),Wr(L,D,ae,xe,K,me.active,q,oe)}async function hi(L,D,U,z,q,ee,Z,K){Qe(),ye.delete(L);function me(ze){if(!ze.route.action&&!ze.route.lazy){let Fn=En(405,{method:K.formMethod,pathname:U,routeId:D});return Bt(L,D,Fn,{flushSync:Z}),!0}return!1}if(!ee&&me(z))return;let ae=P.fetchers.get(L);kt(L,GA(K,ae),{flushSync:Z});let oe=new AbortController,Ce=Xo(t.history,U,oe.signal,K);if(ee){let ze=await X(q,U,Ce.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:Fn}=$n(U,ze);Bt(L,D,Fn,{flushSync:Z});return}else if(ze.matches){if(q=ze.matches,z=Zl(q,U),me(z))return}else{Bt(L,D,En(404,{pathname:U}),{flushSync:Z});return}}de.set(L,oe);let xe=W,ve=(await Gt("action",Ce,[z],q))[0];if(Ce.signal.aborted){de.get(L)===oe&&de.delete(L);return}if(h.v7_fetcherPersist&&ut.has(L)){if(uo(ve)||Bn(ve)){kt(L,ts(void 0));return}}else{if(uo(ve))if(de.delete(L),J>xe){kt(L,ts(void 0));return}else return pe.add(L),kt(L,Ul(K)),sn(Ce,ve,{fetcherSubmission:K});if(Bn(ve)){Bt(L,D,ve.error);return}}if(co(ve))throw En(400,{type:"defer-action"});let rt=P.navigation.location||P.location,Be=Xo(t.history,rt,oe.signal),Gr=a||o,xn=P.navigation.state!=="idle"?so(Gr,P.navigation.location,l):P.matches;Ae(xn,"Didn't find any matches after fetcher action");let Tr=++W;Y.set(L,Tr);let pi=Ul(K,ve.data);P.fetchers.set(L,pi);let[Kr,on]=Qv(t.history,P,xn,K,rt,!1,h.unstable_skipActionErrorRevalidation,ie,je,De,ut,ye,pe,Gr,l,[z.route.id,ve]);on.filter(ze=>ze.key!==L).forEach(ze=>{let Fn=ze.key,wl=P.fetchers.get(Fn),$u=Ul(void 0,wl?wl.data:void 0);P.fetchers.set(Fn,$u),de.has(Fn)&&Ue(Fn),ze.controller&&de.set(Fn,ze.controller)}),qe({fetchers:new Map(P.fetchers)});let sr=()=>on.forEach(ze=>Ue(ze.key));oe.signal.addEventListener("abort",sr);let{loaderResults:Gi,fetcherResults:Wo}=await nt(P.matches,xn,Kr,on,Be);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",sr),Y.delete(L),de.delete(L),on.forEach(ze=>de.delete(ze.key));let Ee=i2([...Gi,...Wo]);if(Ee){if(Ee.idx>=Kr.length){let ze=on[Ee.idx-Kr.length].key;pe.add(ze)}return sn(Be,Ee.result)}let{loaderData:it,errors:an}=e2(P,P.matches,Kr,Gi,void 0,on,Wo,Ct);if(P.fetchers.has(L)){let ze=ts(ve.data);P.fetchers.set(L,ze)}br(Tr),P.navigation.state==="loading"&&Tr>J?(Ae(C,"Expected pending action"),T&&T.abort(),An(P.navigation.location,{matches:xn,loaderData:it,errors:an,fetchers:new Map(P.fetchers)})):(qe({errors:an,loaderData:t2(P.loaderData,it,xn,an),fetchers:new Map(P.fetchers)}),ie=!1)}async function Wr(L,D,U,z,q,ee,Z,K){let me=P.fetchers.get(L);kt(L,Ul(K,me?me.data:void 0),{flushSync:Z});let ae=new AbortController,oe=Xo(t.history,U,ae.signal);if(ee){let ve=await X(q,U,oe.signal);if(ve.type==="aborted")return;if(ve.type==="error"){let{error:rt}=$n(U,ve);Bt(L,D,rt,{flushSync:Z});return}else if(ve.matches)q=ve.matches,z=Zl(q,U);else{Bt(L,D,En(404,{pathname:U}),{flushSync:Z});return}}de.set(L,ae);let Ce=W,le=(await Gt("loader",oe,[z],q))[0];if(co(le)&&(le=await j4(le,oe.signal,!0)||le),de.get(L)===ae&&de.delete(L),!oe.signal.aborted){if(ut.has(L)){kt(L,ts(void 0));return}if(uo(le))if(J>Ce){kt(L,ts(void 0));return}else{pe.add(L),await sn(oe,le);return}if(Bn(le)){Bt(L,D,le.error);return}Ae(!co(le),"Unhandled fetcher deferred data"),kt(L,ts(le.data))}}async function sn(L,D,U){let{submission:z,fetcherSubmission:q,replace:ee}=U===void 0?{}:U;D.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let Z=D.response.headers.get("Location");Ae(Z,"Expected a Location header on the redirect Response"),Z=Zv(Z,new URL(L.url),l);let K=Wc(P.location,Z,{_isRedirect:!0});if(n){let le=!1;if(D.response.headers.has("X-Remix-Reload-Document"))le=!0;else if(Dg.test(Z)){const ve=t.history.createURL(Z);le=ve.origin!==e.location.origin||al(ve.pathname,l)==null}if(le){ee?e.location.replace(Z):e.location.assign(Z);return}}T=null;let me=ee===!0?Pt.Replace:Pt.Push,{formMethod:ae,formAction:oe,formEncType:Ce}=P.navigation;!z&&!q&&ae&&oe&&Ce&&(z=o2(P.navigation));let xe=z||q;if(IA.has(D.response.status)&&xe&&Rr(xe.formMethod))await zt(me,K,{submission:pt({},xe,{formAction:Z}),preventScrollReset:_});else{let le=Mp(K,z);await zt(me,K,{overrideNavigation:le,fetcherSubmission:q,preventScrollReset:_})}}async function Gt(L,D,U,z){try{let q=await MA(u,L,D,U,z,s,i);return await Promise.all(q.map((ee,Z)=>{if(BA(ee)){let K=ee.result;return{type:Je.redirect,response:$A(K,D,U[Z].route.id,z,l,h.v7_relativeSplatPath)}}return UA(ee)}))}catch(q){return U.map(()=>({type:Je.error,error:q}))}}async function nt(L,D,U,z,q){let[ee,...Z]=await Promise.all([U.length?Gt("loader",q,U,D):[],...z.map(K=>{if(K.matches&&K.match&&K.controller){let me=Xo(t.history,K.path,K.controller.signal);return Gt("loader",me,[K.match],K.matches).then(ae=>ae[0])}else return Promise.resolve({type:Je.error,error:En(404,{pathname:K.path})})})]);return await Promise.all([s2(L,U,ee,ee.map(()=>q.signal),!1,P.loaderData),s2(L,z.map(K=>K.match),Z,z.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:Z}}function Qe(){ie=!0,je.push(...Ye()),ye.forEach((L,D)=>{de.has(D)&&(De.push(D),Ue(D))})}function kt(L,D,U){U===void 0&&(U={}),P.fetchers.set(L,D),qe({fetchers:new Map(P.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Bt(L,D,U,z){z===void 0&&(z={});let q=gc(P.matches,D);nr(L),qe({errors:{[q.route.id]:U},fetchers:new Map(P.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function tr(L){return h.v7_fetcherPersist&&(Ve.set(L,(Ve.get(L)||0)+1),ut.has(L)&&ut.delete(L)),P.fetchers.get(L)||xA}function nr(L){let D=P.fetchers.get(L);de.has(L)&&!(D&&D.state==="loading"&&Y.has(L))&&Ue(L),ye.delete(L),Y.delete(L),pe.delete(L),ut.delete(L),P.fetchers.delete(L)}function Dt(L){if(h.v7_fetcherPersist){let D=(Ve.get(L)||0)-1;D<=0?(Ve.delete(L),ut.add(L)):Ve.set(L,D)}else nr(L);qe({fetchers:new Map(P.fetchers)})}function Ue(L){let D=de.get(L);Ae(D,"Expected fetch controller: "+L),D.abort(),de.delete(L)}function qr(L){for(let D of L){let U=tr(D),z=ts(U.data);P.fetchers.set(D,z)}}function rr(){let L=[],D=!1;for(let U of pe){let z=P.fetchers.get(U);Ae(z,"Expected fetcher: "+U),z.state==="loading"&&(pe.delete(U),L.push(U),D=!0)}return qr(L),D}function br(L){let D=[];for(let[U,z]of Y)if(z<L){let q=P.fetchers.get(U);Ae(q,"Expected fetcher: "+U),q.state==="loading"&&(Ue(U),Y.delete(U),D.push(U))}return qr(D),D.length>0}function fi(L,D){let U=P.blockers.get(L)||Vl;return ft.get(L)!==D&&ft.set(L,D),U}function Un(L){P.blockers.delete(L),ft.delete(L)}function In(L,D){let U=P.blockers.get(L)||Vl;Ae(U.state==="unblocked"&&D.state==="blocked"||U.state==="blocked"&&D.state==="blocked"||U.state==="blocked"&&D.state==="proceeding"||U.state==="blocked"&&D.state==="unblocked"||U.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+D.state);let z=new Map(P.blockers);z.set(L,D),qe({blockers:z})}function ir(L){let{currentLocation:D,nextLocation:U,historyAction:z}=L;if(ft.size===0)return;ft.size>1&&Va(!1,"A router only supports one blocker at a time");let q=Array.from(ft.entries()),[ee,Z]=q[q.length-1],K=P.blockers.get(ee);if(!(K&&K.state==="proceeding")&&Z({currentLocation:D,nextLocation:U,historyAction:z}))return ee}function wn(L){let D=En(404,{pathname:L}),U=a||o,{matches:z,route:q}=r2(U);return Ye(),{notFoundMatches:z,route:q,error:D}}function $n(L,D){let U=D.partialMatches,z=U[U.length-1].route,q=En(400,{type:"route-discovery",routeId:z.id,pathname:L,message:D.error!=null&&"message"in D.error?D.error:String(D.error)});return{notFoundMatches:U,route:z,error:q}}function Ye(L){let D=[];return Ct.forEach((U,z)=>{(!L||L(z))&&(U.cancel(),D.push(z),Ct.delete(z))}),D}function wt(L,D,U){if(y=L,x=D,E=U||null,!w&&P.navigation===Dp){w=!0;let z=Mt(P.location,P.matches);z!=null&&qe({restoreScrollPosition:z})}return()=>{y=null,x=null,E=null}}function ce(L,D){return E&&E(L,D.map(z=>sA(z,P.loaderData)))||L.key}function be(L,D){if(y&&x){let U=ce(L,D);y[U]=x()}}function Mt(L,D){if(y){let U=ce(L,D),z=y[U];if(typeof z=="number")return z}return null}function Kt(L,D,U){if(d)if(L){let z=L[L.length-1].route;if(z.path&&(z.path==="*"||z.path.endsWith("/*")))return{active:!0,matches:$d(D,U,l,!0)}}else return{active:!0,matches:$d(D,U,l,!0)||[]};return{active:!1,matches:null}}async function X(L,D,U){let z=L,q=z.length>0?z[z.length-1].route:null;for(;;){let ee=a==null,Z=a||o;try{await OA(d,D,z,Z,s,i,Ge,U)}catch(oe){return{type:"error",error:oe,partialMatches:z}}finally{ee&&(o=[...o])}if(U.aborted)return{type:"aborted"};let K=so(Z,D,l),me=!1;if(K){let oe=K[K.length-1].route;if(oe.index)return{type:"success",matches:K};if(oe.path&&oe.path.length>0)if(oe.path==="*")me=!0;else return{type:"success",matches:K}}let ae=$d(Z,D,l,!0);if(!ae||z.map(oe=>oe.route.id).join("-")===ae.map(oe=>oe.route.id).join("-"))return{type:"success",matches:me?K:null};if(z=ae,q=z[z.length-1].route,q.path==="*")return{type:"success",matches:z}}}function ne(L){s={},a=qc(L,i,void 0,s)}function he(L,D){let U=a==null;U4(L,D,a||o,s,i),U&&(o=[...o],qe({}))}return F={get basename(){return l},get future(){return h},get state(){return P},get routes(){return o},get window(){return e},initialize:vn,subscribe:er,enableScrollRestoration:wt,navigate:xt,fetch:Hr,revalidate:Br,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:tr,deleteFetcher:Dt,dispose:_n,getBlocker:fi,deleteBlocker:Un,patchRoutes:he,_internalFetchControllers:de,_internalActiveDeferreds:Ct,_internalSetRoutes:ne},F}function PA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y0(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=hf(i||".",df(l,s),al(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Mg(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ri([n,d.pathname])),Ao(d)}function Kv(t,e,n,r){if(!r||!PA(r))return{path:n};if(r.formMethod&&!WA(r.formMethod))return{path:n,error:En(405,{method:r.formMethod})};let i=()=>({path:n,error:En(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=$4(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rr(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,y)=>{let[E,x]=y;return""+g+E+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Rr(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Z0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Z0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Jv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Jv(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rr(d.formMethod))return{path:n,submission:d};let h=Bs(n);return e&&h.search&&Mg(h.search)&&l.append("index",""),h.search="?"+l,{path:Ao(h),submission:d}}function LA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Qv(t,e,n,r,i,s,o,a,l,u,d,h,p,g,y,E){let x=E?Bn(E[1])?E[1].error:E[1].data:void 0,w=t.createURL(e.location),v=t.createURL(i),A=E&&Bn(E[1])?E[0]:void 0,M=A?LA(n,A):n,F=E?E[1].statusCode:void 0,P=o&&F&&F>=400,C=M.filter((T,I)=>{let{route:R}=T;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(NA(e.loaderData,e.matches[I],T)||l.some(ie=>ie===T.route.id))return!0;let N=e.matches[I],k=T;return Xv(T,pt({currentUrl:w,currentParams:N.params,nextUrl:v,nextParams:k.params},r,{actionResult:x,unstable_actionStatus:F,defaultShouldRevalidate:P?!1:a||w.pathname+w.search===v.pathname+v.search||w.search!==v.search||V4(N,k)}))}),_=[];return h.forEach((T,I)=>{if(s||!n.some(je=>je.route.id===T.routeId)||d.has(I))return;let R=so(g,T.path,y);if(!R){_.push({key:I,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(I),k=Zl(R,T.path),ie=!1;p.has(I)?ie=!1:u.includes(I)?ie=!0:N&&N.state!=="idle"&&N.data===void 0?ie=a:ie=Xv(k,pt({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:x,unstable_actionStatus:F,defaultShouldRevalidate:P?!1:a})),ie&&_.push({key:I,routeId:T.routeId,path:T.path,matches:R,match:k,controller:new AbortController})}),[C,_]}function NA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function V4(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function OA(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(d,h)=>{a.aborted||U4(d,h,r,i,s)}}),o.set(l,u)),u&&zA(u)&&await u}finally{o.delete(l)}}function U4(t,e,n,r,i){if(t){var s;let o=r[t];Ae(o,"No route found to patch children into: routeId = "+t);let a=qc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=qc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Yv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ae(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Va(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!rA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,pt({},e(i),{lazy:void 0}))}function DA(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function MA(t,e,n,r,i,s,o,a){let l=r.reduce((h,p)=>h.add(p.route.id),new Set),u=new Set,d=await t({matches:i.map(h=>{let p=l.has(h.route.id);return pt({},h,{shouldLoad:p,resolve:y=>(u.add(h.route.id),p?VA(e,n,h,s,o,y,a):Promise.resolve({type:Je.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(h=>Ae(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,p)=>l.has(i[p].route.id))}async function VA(t,e,n,r,i,s,o){let a,l,u=d=>{let h,p=new Promise((E,x)=>h=x);l=()=>h(),e.signal.addEventListener("abort",l);let g=E=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...E!==void 0?[E]:[]),y;return s?y=s(E=>g(E)):y=(async()=>{try{return{type:"data",result:await g()}}catch(E){return{type:"error",result:E}}})(),Promise.race([y,p])};try{let d=n.route[t];if(n.route.lazy)if(d){let h,[p]=await Promise.all([u(d).catch(g=>{h=g}),Yv(n.route,i,r)]);if(h!==void 0)throw h;a=p}else if(await Yv(n.route,i,r),d=n.route[t],d)a=await u(d);else if(t==="action"){let h=new URL(e.url),p=h.pathname+h.search;throw En(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(d)a=await u(d);else{let h=new URL(e.url),p=h.pathname+h.search;throw En(404,{pathname:p})}Ae(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Je.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function UA(t){let{result:e,type:n,status:r}=t;if(F4(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Je.error,error:a}}return n===Je.error?{type:Je.error,error:new Og(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Je.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Je.error)return{type:Je.error,error:e,statusCode:ff(e)?e.status:r};if(HA(e)){var i,s;return{type:Je.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Je.data,data:e,statusCode:r}}function $A(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dg.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Y0(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Zv(t,e,n){if(Dg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=al(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Xo(t,e,n,r){let i=t.createURL($4(e)).toString(),s={signal:n};if(r&&Rr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Z0(r.formData):s.body=r.formData}return new Request(i,s)}function Z0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Jv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function FA(t,e,n,r,i,s){let o={},a=null,l,u=!1,d={},h=r&&Bn(r[1])?r[1].error:void 0;return n.forEach((p,g)=>{let y=e[g].route.id;if(Ae(!uo(p),"Cannot handle redirect results in processLoaderData"),Bn(p)){let E=p.error;h!==void 0&&(E=h,h=void 0),a=a||{};{let x=gc(t,y);a[x.route.id]==null&&(a[x.route.id]=E)}o[y]=void 0,u||(u=!0,l=ff(p.error)?p.error.status:500),p.headers&&(d[y]=p.headers)}else co(p)?(i.set(y,p.deferredData),o[y]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!u&&(l=p.statusCode),p.headers&&(d[y]=p.headers)):(o[y]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(l=p.statusCode),p.headers&&(d[y]=p.headers))}),h!==void 0&&r&&(a={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function e2(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=FA(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:h,match:p,controller:g}=s[d];Ae(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(!(g&&g.signal.aborted))if(Bn(y)){let E=gc(t.matches,p==null?void 0:p.route.id);u&&u[E.route.id]||(u=pt({},u,{[E.route.id]:y.error})),t.fetchers.delete(h)}else if(uo(y))Ae(!1,"Unhandled fetcher revalidation redirect");else if(co(y))Ae(!1,"Unhandled fetcher deferred data");else{let E=ts(y.data);t.fetchers.set(h,E)}}return{loaderData:l,errors:u}}function t2(t,e,n,r){let i=pt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function n2(t){return t?Bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function r2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function En(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Og(t||500,a,new Error(l),!0)}function i2(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(uo(n))return{result:n,idx:e}}}function $4(t){let e=typeof t=="string"?Bs(t):t;return Ao(pt({},e,{hash:""}))}function jA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zA(t){return typeof t=="object"&&t!=null&&"then"in t}function BA(t){return F4(t.result)&&AA.has(t.result.status)}function co(t){return t.type===Je.deferred}function Bn(t){return t.type===Je.error}function uo(t){return(t&&t.type)===Je.redirect}function HA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function F4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WA(t){return SA.has(t.toLowerCase())}function Rr(t){return TA.has(t.toLowerCase())}async function s2(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),d=u!=null&&!V4(u,l)&&(s&&s[l.route.id])!==void 0;if(co(a)&&(i||d)){let h=r[o];Ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await j4(a,h,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function j4(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Je.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Je.error,error:i}}return{type:Je.data,data:t.deferredData.data}}}function Mg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Zl(t,e){let n=typeof e=="string"?Bs(e).search:e.search;if(t[t.length-1].route.index&&Mg(n||""))return t[t.length-1];let r=O4(t);return r[r.length-1]}function o2(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Mp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ul(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ts(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KA(t,e){try{let n=t.sessionStorage.getItem(M4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function QA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(M4,JSON.stringify(n))}catch(r){Va(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}const pf=O.createContext(null),z4=O.createContext(null),Hs=O.createContext(null),Vg=O.createContext(null),zi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),B4=O.createContext(null);function XA(t,e){let{relative:n}=e===void 0?{}:e;ll()||Ae(!1);let{basename:r,navigator:i}=O.useContext(Hs),{hash:s,pathname:o,search:a}=W4(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ri([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ll(){return O.useContext(Vg)!=null}function Ws(){return ll()||Ae(!1),O.useContext(Vg).location}function H4(t){O.useContext(Hs).static||O.useLayoutEffect(t)}function $o(){let{isDataRoute:t}=O.useContext(zi);return t?uI():YA()}function YA(){ll()||Ae(!1);let t=O.useContext(pf),{basename:e,future:n,navigator:r}=O.useContext(Hs),{matches:i}=O.useContext(zi),{pathname:s}=Ws(),o=JSON.stringify(df(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return H4(()=>{a.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=hf(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ri([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const ZA=O.createContext(null);function JA(t){let e=O.useContext(zi).outlet;return e&&O.createElement(ZA.Provider,{value:t},e)}function W4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Hs),{matches:i}=O.useContext(zi),{pathname:s}=Ws(),o=JSON.stringify(df(i,r.v7_relativeSplatPath));return O.useMemo(()=>hf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eI(t,e,n,r){ll()||Ae(!1);let{navigator:i}=O.useContext(Hs),{matches:s}=O.useContext(zi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ws(),d;d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=so(t,{pathname:p});return sI(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ri([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ri([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function tI(){let t=cI(),e=ff(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const nI=O.createElement(tI,null);class rI extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(zi.Provider,{value:this.props.routeContext},O.createElement(B4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iI(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(pf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(zi.Provider,{value:e},r)}function sI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,y=!1,E=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||nI,l&&(u<0&&p===0?(y=!0,x=null):u===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),v=()=>{let A;return g?A=E:y?A=x:h.route.Component?A=O.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,O.createElement(iI,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?O.createElement(rI,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var q4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(q4||{}),bh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bh||{});function oI(t){let e=O.useContext(pf);return e||Ae(!1),e}function aI(t){let e=O.useContext(z4);return e||Ae(!1),e}function lI(t){let e=O.useContext(zi);return e||Ae(!1),e}function G4(t){let e=lI(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function cI(){var t;let e=O.useContext(B4),n=aI(bh.UseRouteError),r=G4(bh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uI(){let{router:t}=oI(q4.UseNavigateStable),e=G4(bh.UseNavigateStable),n=O.useRef(!1);return H4(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Eh({fromRouteId:e},s)))},[t,e])}function dI(t){let{to:e,replace:n,state:r,relative:i}=t;ll()||Ae(!1);let{future:s,static:o}=O.useContext(Hs),{matches:a}=O.useContext(zi),{pathname:l}=Ws(),u=$o(),d=hf(e,df(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return O.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function hI(t){return JA(t.context)}function fI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pt.Pop,navigator:s,static:o=!1,future:a}=t;ll()&&Ae(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:Eh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Bs(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,E=O.useMemo(()=>{let x=al(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:y},navigationType:i}},[l,d,h,p,g,y,i]);return E==null?null:O.createElement(Hs.Provider,{value:u},O.createElement(Vg.Provider,{children:n,value:E}))}new Promise(()=>{});function pI(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}function mI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yI(t,e){return t.button===0&&(!e||e==="_self")&&!gI(t)}const vI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_I="6";try{window.__reactRouterVersion=_I}catch{}function wI(t,e){return RA({basename:void 0,future:Gc({},void 0,{v7_prependBasename:!0}),history:eA({window:void 0}),hydrationData:EI(),routes:t,mapRouteProperties:pI,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function EI(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Gc({},e,{errors:bI(e.errors)})),e}function bI(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Og(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const TI=O.createContext({isTransitioning:!1}),CI=O.createContext(new Map),SI="startTransition",a2=jT[SI],AI="flushSync",l2=JS[AI];function II(t){a2?a2(t):t()}function $l(t){l2?l2(t):t()}let xI=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kI(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=O.useState(n.state),[o,a]=O.useState(),[l,u]=O.useState({isTransitioning:!1}),[d,h]=O.useState(),[p,g]=O.useState(),[y,E]=O.useState(),x=O.useRef(new Map),{v7_startTransition:w}=r||{},v=O.useCallback(C=>{w?II(C):C()},[w]),A=O.useCallback((C,_)=>{let{deletedFetchers:T,unstable_flushSync:I,unstable_viewTransitionOpts:R}=_;T.forEach(k=>x.current.delete(k)),C.fetchers.forEach((k,ie)=>{k.data!==void 0&&x.current.set(ie,k.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||N){I?$l(()=>s(C)):v(()=>s(C));return}if(I){$l(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let k=n.window.document.startViewTransition(()=>{$l(()=>s(C))});k.finished.finally(()=>{$l(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),$l(()=>g(k));return}p?(d&&d.resolve(),p.skipTransition(),E({state:C,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,p,d,x,v]);O.useLayoutEffect(()=>n.subscribe(A),[n,A]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new xI)},[l]),O.useEffect(()=>{if(d&&o&&n.window){let C=o,_=d.promise,T=n.window.document.startViewTransition(async()=>{v(()=>s(C)),await _});T.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(T)}},[v,o,d,n.window]),O.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),O.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),E(void 0))},[l.isTransitioning,y]),O.useEffect(()=>{},[]);let M=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,_,T)=>n.navigate(C,{state:_,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(C,_,T)=>n.navigate(C,{replace:!0,state:_,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),F=n.basename||"/",P=O.useMemo(()=>({router:n,navigator:M,static:!1,basename:F}),[n,M,F]);return O.createElement(O.Fragment,null,O.createElement(pf.Provider,{value:P},O.createElement(z4.Provider,{value:i},O.createElement(CI.Provider,{value:x.current},O.createElement(TI.Provider,{value:l},O.createElement(fI,{basename:F,location:i.location,navigationType:i.historyAction,navigator:M,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?O.createElement(RI,{routes:n.routes,future:n.future,state:i}):e))))),null)}function RI(t){let{routes:e,future:n,state:r}=t;return eI(e,void 0,r,n)}const PI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,p=mI(e,vI),{basename:g}=O.useContext(Hs),y,E=!1;if(typeof u=="string"&&LI.test(u)&&(y=u,PI))try{let A=new URL(window.location.href),M=u.startsWith("//")?new URL(A.protocol+u):new URL(u),F=al(M.pathname,g);M.origin===A.origin&&F!=null?u=F+M.search+M.hash:E=!0}catch{}let x=XA(u,{relative:i}),w=NI(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(A){r&&r(A),A.defaultPrevented||w(A)}return O.createElement("a",Gc({},p,{href:y||x,onClick:E||s?r:v,ref:n,target:l}))});var c2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c2||(c2={}));var u2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u2||(u2={}));function NI(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=$o(),u=Ws(),d=W4(t,{relative:o});return O.useCallback(h=>{if(yI(h,n)){h.preventDefault();let p=r!==void 0?r:Ao(u)===Ao(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const OI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M12%202.25c-5.385%200-9.75%204.365-9.75%209.75s4.365%209.75%209.75%209.75%209.75-4.365%209.75-9.75S17.385%202.25%2012%202.25ZM12.75%209a.75.75%200%200%200-1.5%200v2.25H9a.75.75%200%200%200%200%201.5h2.25V15a.75.75%200%200%200%201.5%200v-2.25H15a.75.75%200%200%200%200-1.5h-2.25V9Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",DI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M5.337%2021.718a6.707%206.707%200%200%201-.533-.074.75.75%200%200%201-.44-1.223%203.73%203.73%200%200%200%20.814-1.686c.023-.115-.022-.317-.254-.543C3.274%2016.587%202.25%2014.41%202.25%2012c0-5.03%204.428-9%209.75-9s9.75%203.97%209.75%209c0%205.03-4.428%209-9.75%209-.833%200-1.643-.097-2.417-.279a6.721%206.721%200%200%201-4.246.997Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",MI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20d='M11.47%203.841a.75.75%200%200%201%201.06%200l8.69%208.69a.75.75%200%201%200%201.06-1.061l-8.689-8.69a2.25%202.25%200%200%200-3.182%200l-8.69%208.69a.75.75%200%201%200%201.061%201.06l8.69-8.689Z'%20/%3e%3cpath%20d='m12%205.432%208.159%208.159c.03.03.06.058.091.086v6.198c0%201.035-.84%201.875-1.875%201.875H15a.75.75%200%200%201-.75-.75v-4.5a.75.75%200%200%200-.75-.75h-3a.75.75%200%200%200-.75.75V21a.75.75%200%200%201-.75.75H5.625a1.875%201.875%200%200%201-1.875-1.875v-6.198a2.29%202.29%200%200%200%20.091-.086L12%205.432Z'%20/%3e%3c/svg%3e",VI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M5.337%2021.718a6.707%206.707%200%200%201-.533-.074.75.75%200%200%201-.44-1.223%203.73%203.73%200%200%200%20.814-1.686c.023-.115-.022-.317-.254-.543C3.274%2016.587%202.25%2014.41%202.25%2012c0-5.03%204.428-9%209.75-9s9.75%203.97%209.75%209c0%205.03-4.428%209-9.75%209-.833%200-1.643-.097-2.417-.279a6.721%206.721%200%200%201-4.246.997Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",UI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20d='m11.645%2020.91-.007-.003-.022-.012a15.247%2015.247%200%200%201-.383-.218%2025.18%2025.18%200%200%201-4.244-3.17C4.688%2015.36%202.25%2012.174%202.25%208.25%202.25%205.322%204.714%203%207.688%203A5.5%205.5%200%200%201%2012%205.052%205.5%205.5%200%200%201%2016.313%203c2.973%200%205.437%202.322%205.437%205.25%200%203.925-2.438%207.111-4.739%209.256a25.175%2025.175%200%200%201-4.244%203.17%2015.247%2015.247%200%200%201-.383.219l-.022.012-.007.004-.003.001a.752.752%200%200%201-.704%200l-.003-.001Z'%20/%3e%3c/svg%3e",$I="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M16.5%203.75a1.5%201.5%200%200%201%201.5%201.5v13.5a1.5%201.5%200%200%201-1.5%201.5h-6a1.5%201.5%200%200%201-1.5-1.5V15a.75.75%200%200%200-1.5%200v3.75a3%203%200%200%200%203%203h6a3%203%200%200%200%203-3V5.25a3%203%200%200%200-3-3h-6a3%203%200%200%200-3%203V9A.75.75%200%201%200%209%209V5.25a1.5%201.5%200%200%201%201.5-1.5h6ZM5.78%208.47a.75.75%200%200%200-1.06%200l-3%203a.75.75%200%200%200%200%201.06l3%203a.75.75%200%200%200%201.06-1.06l-1.72-1.72H15a.75.75%200%200%200%200-1.5H4.06l1.72-1.72a.75.75%200%200%200%200-1.06Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",FI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20d='M12%209a3.75%203.75%200%201%200%200%207.5A3.75%203.75%200%200%200%2012%209Z'%20/%3e%3cpath%20fill-rule='evenodd'%20d='M9.344%203.071a49.52%2049.52%200%200%201%205.312%200c.967.052%201.83.585%202.332%201.39l.821%201.317c.24.383.645.643%201.11.71.386.054.77.113%201.152.177%201.432.239%202.429%201.493%202.429%202.909V18a3%203%200%200%201-3%203h-15a3%203%200%200%201-3-3V9.574c0-1.416.997-2.67%202.429-2.909.382-.064.766-.123%201.151-.178a1.56%201.56%200%200%200%201.11-.71l.822-1.315a2.942%202.942%200%200%201%202.332-1.39ZM6.75%2012.75a5.25%205.25%200%201%201%2010.5%200%205.25%205.25%200%200%201-10.5%200Zm12-1.5a.75.75%200%201%200%200-1.5.75.75%200%200%200%200%201.5Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",jI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20d='M5.85%203.5a.75.75%200%200%200-1.117-1%209.719%209.719%200%200%200-2.348%204.876.75.75%200%200%200%201.479.248A8.219%208.219%200%200%201%205.85%203.5ZM19.267%202.5a.75.75%200%201%200-1.118%201%208.22%208.22%200%200%201%201.987%204.124.75.75%200%200%200%201.48-.248A9.72%209.72%200%200%200%2019.266%202.5Z'%20/%3e%3cpath%20fill-rule='evenodd'%20d='M12%202.25A6.75%206.75%200%200%200%205.25%209v.75a8.217%208.217%200%200%201-2.119%205.52.75.75%200%200%200%20.298%201.206c1.544.57%203.16.99%204.831%201.243a3.75%203.75%200%201%200%207.48%200%2024.583%2024.583%200%200%200%204.83-1.244.75.75%200%200%200%20.298-1.205%208.217%208.217%200%200%201-2.118-5.52V9A6.75%206.75%200%200%200%2012%202.25ZM9.75%2018c0-.034%200-.067.002-.1a25.05%2025.05%200%200%200%204.496%200l.002.1a2.25%202.25%200%201%201-4.5%200Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",zI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M18.685%2019.097A9.723%209.723%200%200%200%2021.75%2012c0-5.385-4.365-9.75-9.75-9.75S2.25%206.615%202.25%2012a9.723%209.723%200%200%200%203.065%207.097A9.716%209.716%200%200%200%2012%2021.75a9.716%209.716%200%200%200%206.685-2.653Zm-12.54-1.285A7.486%207.486%200%200%201%2012%2015a7.486%207.486%200%200%201%205.855%202.812A8.224%208.224%200%200%201%2012%2020.25a8.224%208.224%200%200%201-5.855-2.438ZM15.75%209a3.75%203.75%200%201%201-7.5%200%203.75%203.75%200%200%201%207.5%200Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",BI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20class='w-6%20h-6'%3e%3cpath%20fill-rule='evenodd'%20d='M11.078%202.25c-.917%200-1.699.663-1.85%201.567L9.05%204.889c-.02.12-.115.26-.297.348a7.493%207.493%200%200%200-.986.57c-.166.115-.334.126-.45.083L6.3%205.508a1.875%201.875%200%200%200-2.282.819l-.922%201.597a1.875%201.875%200%200%200%20.432%202.385l.84.692c.095.078.17.229.154.43a7.598%207.598%200%200%200%200%201.139c.015.2-.059.352-.153.43l-.841.692a1.875%201.875%200%200%200-.432%202.385l.922%201.597a1.875%201.875%200%200%200%202.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178%201.071c.151.904.933%201.567%201.85%201.567h1.844c.916%200%201.699-.663%201.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875%201.875%200%200%200%202.28-.819l.923-1.597a1.875%201.875%200%200%200-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614%207.614%200%200%200%200-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875%201.875%200%200%200-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49%207.49%200%200%200-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875%201.875%200%200%200-1.85-1.567h-1.843ZM12%2015.75a3.75%203.75%200%201%200%200-7.5%203.75%203.75%200%200%200%200%207.5Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e",ns={add:OI,comment:DI,home:MI,direct:VI,heart:UI,logout:$I,myphoto:FI,notification:jI,profile:zI,settings:BI};function K4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K4(t))&&(r&&(r+=" "),r+=e);return r}const Ug="-";function WI(t){const e=GI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(o){const a=o.split(Ug);return a[0]===""&&a.length!==1&&a.shift(),Q4(a,e)||qI(o)}function s(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function Q4(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Q4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ug);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const d2=/^\[(.+)\]$/;function qI(t){if(d2.test(t)){const e=d2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function GI(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return QI(Object.entries(t.classGroups),n).forEach(([s,o])=>{J0(o,r,s,e)}),r}function J0(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:h2(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(KI(i)){J0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{J0(o,h2(e,s),n,r)})})}function h2(t,e){let n=t;return e.split(Ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function KI(t){return t.isThemeGetter}function QI(t,e){return e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t}function XI(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const X4="!";function YI(t){const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length;function o(a){const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let w=a[x];if(u===0){if(w===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(w==="/"){h=x;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(X4),y=g?p.substring(1):p,E=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:E}}return n?function(l){return n({className:l,parseClassName:o})}:o}function ZI(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function JI(t){return{cache:XI(t.cacheSize),parseClassName:YI(t),...WI(t)}}const ex=/\s+/;function tx(t,e){const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(ex).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(o);let h=!!d,p=r(h?u.substring(0,d):u);if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=r(u),!p)return{isTailwindClass:!1,originalClassName:o};h=!1}const g=ZI(a).join(":");return{isTailwindClass:!0,modifierId:l?g+X4:g,classGroupId:p,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=o,d=a+l;return s.has(d)?!1:(s.add(d),i(l,u).forEach(h=>s.add(a+h)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function nx(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Y4(e))&&(r&&(r+=" "),r+=n);return r}function Y4(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Y4(t[r]))&&(n&&(n+=" "),n+=e);return n}function rx(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=JI(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=tx(l,n);return i(l,d),d}return function(){return s(nx.apply(null,arguments))}}function ot(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Z4=/^\[(?:([a-z-]+):)?(.+)\]$/i,ix=/^\d+\/\d+$/,sx=new Set(["px","full","screen"]),ox=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ax=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ux=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yi(t){return ho(t)||sx.has(t)||ix.test(t)}function Zi(t){return cl(t,"length",vx)}function ho(t){return!!t&&!Number.isNaN(Number(t))}function fd(t){return cl(t,"number",ho)}function Fl(t){return!!t&&Number.isInteger(Number(t))}function dx(t){return t.endsWith("%")&&ho(t.slice(0,-1))}function Te(t){return Z4.test(t)}function Ji(t){return ox.test(t)}const hx=new Set(["length","size","percentage"]);function fx(t){return cl(t,hx,J4)}function px(t){return cl(t,"position",J4)}const mx=new Set(["image","url"]);function gx(t){return cl(t,mx,wx)}function yx(t){return cl(t,"",_x)}function jl(){return!0}function cl(t,e,n){const r=Z4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function vx(t){return ax.test(t)&&!lx.test(t)}function J4(){return!1}function _x(t){return cx.test(t)}function wx(t){return ux.test(t)}function Ex(){const t=ot("colors"),e=ot("spacing"),n=ot("blur"),r=ot("brightness"),i=ot("borderColor"),s=ot("borderRadius"),o=ot("borderSpacing"),a=ot("borderWidth"),l=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),h=ot("invert"),p=ot("gap"),g=ot("gradientColorStops"),y=ot("gradientColorStopPositions"),E=ot("inset"),x=ot("margin"),w=ot("opacity"),v=ot("padding"),A=ot("saturate"),M=ot("scale"),F=ot("sepia"),P=ot("skew"),C=ot("space"),_=ot("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Te,e],N=()=>[Te,e],k=()=>["",yi,Zi],ie=()=>["auto",ho,Te],je=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],De=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Te],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[ho,fd],ye=()=>[ho,Te];return{cacheSize:500,separator:":",theme:{colors:[jl],spacing:[yi,Zi],blur:["none","",Ji,Te],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Ji,Te],borderSpacing:N(),borderWidth:k(),contrast:pe(),grayscale:J(),hueRotate:ye(),invert:J(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[dx,Zi],inset:R(),margin:R(),opacity:pe(),padding:N(),saturate:pe(),scale:pe(),sepia:J(),skew:ye(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Ji]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...je(),Te]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,Te]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Fl,Te]}],"grid-cols":[{"grid-cols":[jl]}],"col-start-end":[{col:["auto",{span:["full",Fl,Te]},Te]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[jl]}],"row-start-end":[{row:["auto",{span:[Fl,Te]},Te]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[Ji]},Ji]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ji,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fd]}],"font-family":[{font:[jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ho,fd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yi,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yi,Zi]}],"underline-offset":[{"underline-offset":["auto",yi,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...je(),px]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gx]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...De(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:De()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...De()]}],"outline-offset":[{"outline-offset":[yi,Te]}],"outline-w":[{outline:[yi,Zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yi,Zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ji,yx]}],"shadow-color":[{shadow:[jl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ji,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Fl,Te]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[yi,Zi,fd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const bx=rx(Ex);function Xn(...t){return bx(HI(t))}function Tx(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Cx(...t){return e=>t.forEach(n=>Tx(n,e))}var $g=O.forwardRef((t,e)=>{const{children:n,...r}=t,i=O.Children.toArray(n),s=i.find(Ax);if(s){const o=s.props.children,a=i.map(l=>l===s?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:l);return S.jsx(em,{...r,ref:e,children:O.isValidElement(o)?O.cloneElement(o,void 0,a):null})}return S.jsx(em,{...r,ref:e,children:n})});$g.displayName="Slot";var em=O.forwardRef((t,e)=>{const{children:n,...r}=t;if(O.isValidElement(n)){const i=xx(n);return O.cloneElement(n,{...Ix(r,n.props),ref:e?Cx(e,i):i})}return O.Children.count(n)>1?O.Children.only(null):null});em.displayName="SlotClone";var Sx=({children:t})=>S.jsx(S.Fragment,{children:t});function Ax(t){return O.isValidElement(t)&&t.type===Sx}function Ix(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function xx(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=eE(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function kx(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=eE(t))&&(r&&(r+=" "),r+=e);return r}const f2=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,p2=kx,tE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return p2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const p=f2(d)||f2(h);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(y=>{let[E,x]=y;return Array.isArray(x)?x.includes({...s,...a}[E]):{...s,...a}[E]===x})?[...u,h,p]:u},[]);return p2(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},tm=tE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$r=O.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?$g:"button";return S.jsx(o,{className:Xn(tm({variant:e,size:n,className:t})),ref:s,...i})});$r.displayName="Button";var m2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Px;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lx=function(t){const e=nE(t);return rE.encodeByteArray(e,!0)},Th=function(t){return Lx(t).replace(/\./g,"")},iE=function(t){try{return rE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=()=>Nx().__FIREBASE_DEFAULTS__,Dx=()=>{if(typeof process>"u"||typeof m2>"u")return;const t=m2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iE(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return Ox()||Dx()||Mx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sE=t=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vx=t=>{const e=sE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oE=()=>{var t;return(t=mf())===null||t===void 0?void 0:t.config},aE=t=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Th(JSON.stringify(n)),Th(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function jx(){var t;const e=(t=mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hx(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Gx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kx,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,a,r)}}function Qx(t,e){return t.replace(Xx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xx=/\{\$([^}]+)}/g;function Yx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ch(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(g2(s)&&g2(o)){if(!Ch(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function g2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zx(t,e){const n=new Jx(t,e);return n.subscribe.bind(n)}class Jx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ux;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r6(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n6(t){return t===io?void 0:t}function r6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const s6={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},o6=Le.INFO,a6={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},l6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=o6,this._logHandler=l6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const c6=(t,e)=>e.some(n=>t instanceof n);let y2,v2;function u6(){return y2||(y2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d6(){return v2||(v2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,nm=new WeakMap,cE=new WeakMap,Up=new WeakMap,jg=new WeakMap;function h6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lE.set(n,t)}).catch(()=>{}),jg.set(e,t),e}function f6(t){if(nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nm.set(t,e)}let rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p6(t){rm=t(rm)}function m6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($p(this),e,...n);return cE.set(r,e.sort?e.sort():[e]),Ts(r)}:d6().includes(t)?function(...e){return t.apply($p(this),e),Ts(lE.get(this))}:function(...e){return Ts(t.apply($p(this),e))}}function g6(t){return typeof t=="function"?m6(t):(t instanceof IDBTransaction&&f6(t),c6(t,u6())?new Proxy(t,rm):t)}function Ts(t){if(t instanceof IDBRequest)return h6(t);if(Up.has(t))return Up.get(t);const e=g6(t);return e!==t&&(Up.set(t,e),jg.set(e,t)),e}const $p=t=>jg.get(t);function y6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const v6=["get","getKey","getAll","getAllKeys","count"],_6=["put","add","delete","clear"],Fp=new Map;function _2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fp.set(e,s),s}p6(t=>({...t,get:(e,n,r)=>_2(e,n)||t.get(e,n,r),has:(e,n)=>!!_2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",w2="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Fg("@firebase/app"),b6="@firebase/app-compat",T6="@firebase/analytics-compat",C6="@firebase/analytics",S6="@firebase/app-check-compat",A6="@firebase/app-check",I6="@firebase/auth",x6="@firebase/auth-compat",k6="@firebase/database",R6="@firebase/database-compat",P6="@firebase/functions",L6="@firebase/functions-compat",N6="@firebase/installations",O6="@firebase/installations-compat",D6="@firebase/messaging",M6="@firebase/messaging-compat",V6="@firebase/performance",U6="@firebase/performance-compat",$6="@firebase/remote-config",F6="@firebase/remote-config-compat",j6="@firebase/storage",z6="@firebase/storage-compat",B6="@firebase/firestore",H6="@firebase/vertexai-preview",W6="@firebase/firestore-compat",q6="firebase",G6="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",K6={[im]:"fire-core",[b6]:"fire-core-compat",[C6]:"fire-analytics",[T6]:"fire-analytics-compat",[A6]:"fire-app-check",[S6]:"fire-app-check-compat",[I6]:"fire-auth",[x6]:"fire-auth-compat",[k6]:"fire-rtdb",[R6]:"fire-rtdb-compat",[P6]:"fire-fn",[L6]:"fire-fn-compat",[N6]:"fire-iid",[O6]:"fire-iid-compat",[D6]:"fire-fcm",[M6]:"fire-fcm-compat",[V6]:"fire-perf",[U6]:"fire-perf-compat",[$6]:"fire-rc",[F6]:"fire-rc-compat",[j6]:"fire-gcs",[z6]:"fire-gcs-compat",[B6]:"fire-fst",[W6]:"fire-fst-compat",[H6]:"fire-vertex","fire-js":"fire-js",[q6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,Q6=new Map,om=new Map;function E2(t,e){try{t.container.addComponent(e)}catch(n){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ua(t){const e=t.name;if(om.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of Sh.values())E2(n,t);for(const n of Q6.values())E2(n,t);return!0}function zg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new pu("app","Firebase",X6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=G6;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=oE()),!n)throw Cs.create("no-options");const s=Sh.get(i);if(s){if(Ch(n,s.options)&&Ch(r,s.config))return s;throw Cs.create("duplicate-app",{appName:i})}const o=new i6(i);for(const l of om.values())o.addComponent(l);const a=new Y6(n,r,o);return Sh.set(i,a),a}function dE(t=sm){const e=Sh.get(t);if(!e&&t===sm&&oE())return uE();if(!e)throw Cs.create("no-app",{appName:t});return e}function Ss(t,e,n){var r;let i=(r=K6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(a.join(" "));return}Ua(new Io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="firebase-heartbeat-database",J6=1,Qc="firebase-heartbeat-store";let jp=null;function hE(){return jp||(jp=y6(Z6,J6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),jp}async function e8(t){try{const n=(await hE()).transaction(Qc),r=await n.objectStore(Qc).get(fE(t));return await n.done,r}catch(e){if(e instanceof Bi)xo.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(n.message)}}}async function b2(t,e){try{const r=(await hE()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,fE(t)),await r.done}catch(n){if(n instanceof Bi)xo.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xo.warn(r.message)}}}function fE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=1024,n8=30*24*60*60*1e3;class r8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=T2();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=n8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T2(),{heartbeatsToSend:r,unsentEntries:i}=i8(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function T2(){return new Date().toISOString().substring(0,10)}function i8(t,e=t8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qx()?Gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C2(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){Ua(new Io("platform-logger",e=>new w6(e),"PRIVATE")),Ua(new Io("heartbeat",e=>new r8(e),"PRIVATE")),Ss(im,w2,t),Ss(im,w2,"esm2017"),Ss("fire-js","")}o8("");var a8="firebase",l8="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(a8,l8,"app");function Bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c8=pE,mE=new pu("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Fg("@firebase/auth");function u8(t,...e){Ah.logLevel<=Le.WARN&&Ah.warn(`Auth (${ul}): ${t}`,...e)}function Fd(t,...e){Ah.logLevel<=Le.ERROR&&Ah.error(`Auth (${ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw Wg(t,...e)}function Dr(t,...e){return Wg(t,...e)}function Hg(t,e,n){const r=Object.assign(Object.assign({},c8()),{[e]:n});return new pu("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return Hg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yr(t,"argument-error"),Hg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mE.create(t,...e)}function fe(t,e,...n){if(!t)throw Wg(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function Vi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h8(){return S2()==="http:"||S2()==="https:"}function S2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h8()||zx()||"connection"in navigator)?navigator.onLine:!0}function p8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=Fx()||Bx()}get(){return f8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new gu(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return yE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),gE.fetch()(vE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function yE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m8),e);try{const i=new v8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hg(t,d,u);yr(t,d)}}catch(i){if(i instanceof Bi)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function yu(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qg(t.config,i):`${t.config.apiScheme}://${i}`}function y8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),g8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dr(t,e,r);return i.customData._tokenResponse=n,i}function A2(t){return t!==void 0&&t.enterprise!==void 0}class _8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w8(t,e){return Hi(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function _E(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b8(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Gg(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yc(zp(i.auth_time)),issuedAtTime:yc(zp(i.iat)),expirationTime:yc(zp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zp(t){return Number(t)*1e3}function Gg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=iE(n);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function I2(t){const e=Gg(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&T8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $a(t,_E(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wE(s.providerUserInfo):[],a=A8(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function S8(t){const e=jt(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wE(t){return t.map(e=>{var{providerId:n}=e,r=Bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e){const n=await yE(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x8(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=I2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await I8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Sa;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $a(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b8(this,e)}reload(){return S8(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await $a(this,E8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:P,stsTokenManager:C}=n;fe(A&&C,e,"internal-error");const _=Sa.fromJSON(this.name,C);fe(typeof A=="string",e,"internal-error"),es(h,e.name),es(p,e.name),fe(typeof M=="boolean",e,"internal-error"),fe(typeof F=="boolean",e,"internal-error"),es(g,e.name),es(y,e.name),es(E,e.name),es(x,e.name),es(w,e.name),es(v,e.name);const T=new Ii({uid:A,auth:e,email:p,emailVerified:M,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:g,tenantId:E,stsTokenManager:_,createdAt:w,lastLoginAt:v});return P&&Array.isArray(P)&&(T.providerData=P.map(I=>Object.assign({},I))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sa;i.updateFromServerResponse(n);const s=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ih(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Sa;a.updateFromIdToken(r);const l=new Ii({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map;function xi(t){Vi(t instanceof Function,"Expected a class definition");let e=x2.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EE.type="NONE";const k2=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t,e,n){return`firebase:${t}:${e}:${n}`}class Aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jd(this.userKey,i.apiKey,s),this.fullPersistenceKey=jd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Aa(xi(k2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xi(k2);const o=jd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ii._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Aa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Aa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AE(e))return"Blackberry";if(IE(e))return"Webos";if(Kg(e))return"Safari";if((e.includes("chrome/")||TE(e))&&!e.includes("edge/"))return"Chrome";if(SE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bE(t=rn()){return/firefox\//i.test(t)}function Kg(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TE(t=rn()){return/crios\//i.test(t)}function CE(t=rn()){return/iemobile/i.test(t)}function SE(t=rn()){return/android/i.test(t)}function AE(t=rn()){return/blackberry/i.test(t)}function IE(t=rn()){return/webos/i.test(t)}function gf(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k8(t=rn()){var e;return gf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R8(){return Hx()&&document.documentMode===10}function xE(t=rn()){return gf(t)||SE(t)||IE(t)||AE(t)||/windows phone/i.test(t)||CE(t)}function P8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e=[]){let n;switch(t){case"Browser":n=R2(rn());break;case"Worker":n=`${R2(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=6;class D8{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P2(this),this.idTokenSubscription=new P2(this),this.beforeStateQueue=new L8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _E(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Lr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(Pi(this));const n=e?jt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N8(this),n=new D8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gs(t){return jt(t)}class P2{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zx(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V8(t){yf=t}function RE(t){return yf.loadJS(t)}function U8(){return yf.recaptchaEnterpriseScript}function $8(){return yf.gapiScript}function F8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j8="recaptcha-enterprise",z8="NO_RECAPTCHA";class B8{constructor(e){this.type=j8,this.auth=Gs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{w8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _8(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;A2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(z8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&A2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=U8();l.length!==0&&(l+=a),RE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function L2(t,e,n,r=!1){const i=new B8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await L2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await L2(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t,e){const n=zg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ch(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function W8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q8(t,e,n){const r=Gs(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=PE(e),{host:o,port:a}=G8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),K8()}function PE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G8(t){const e=PE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:N2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:N2(o)}}}function N2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function Q8(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e){return yu(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function Z8(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Qg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",X8);case"emailLink":return Y8(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",Q8);case"emailLink":return Z8(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return yu(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="http://localhost";class ko extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ko(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:J8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tk(t){const e=Jl(ec(t)).link,n=e?Jl(ec(e)).deep_link_id:null,r=Jl(ec(t)).deep_link_id;return(r?Jl(ec(r)).link:null)||r||n||e||t}class Xg{constructor(e){var n,r,i,s,o,a;const l=Jl(ec(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ek((i=l.mode)!==null&&i!==void 0?i:null);fe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=tk(e);try{return new Xg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xg.parseLink(n);return fe(r,"argument-error"),Xc._fromEmailAndCode(e,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends vu{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ko._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends vu{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends vu{constructor(){super("twitter.com")}static credential(e,n){return ko._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return yu(t,"POST","/v1/accounts:signUp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ii._fromIdTokenResponse(e,r,i),o=O2(r);return new Ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O2(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xh(e,n,r,i)}}function LE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,s,e,r):s})}async function rk(t,e,n=!1){const r=await $a(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const s=await $a(t,LE(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=Gg(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(t,e,n=!1){if(Lr(t.app))return Promise.reject(Pi(t));const r="signIn",i=await LE(t,r,e),s=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sk(t,e){return NE(Gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t){const e=Gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ok(t,e,n){if(Lr(t.app))return Promise.reject(Pi(t));const r=Gs(t),o=await cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OE(t),l}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ak(t,e,n){return Lr(t.app)?Promise.reject(Pi(t)):sk(jt(t),dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){return Hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await $a(r,lk(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function uk(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function dk(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function DE(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function hk(t){return jt(t).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){const t=rn();return Kg(t)||gf(t)}const pk=1e3,mk=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fk()&&P8(),this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);R8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const gk=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UE.type="SESSION";const $E=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await yk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Zg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function _k(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function wk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ek(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bk(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",Tk=1,Rh="firebaseLocalStorage",zE="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function Ck(){const t=indexedDB.deleteDatabase(jE);return new _u(t).toPromise()}function um(){const t=indexedDB.open(jE,Tk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:zE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await Ck(),e(await um()))})})}async function D2(t,e,n){const r=_f(t,!0).put({[zE]:e,value:n});return new _u(r).toPromise()}async function Sk(t,e){const n=_f(t,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function M2(t,e){const n=_f(t,!0).delete(e);return new _u(n).toPromise()}const Ak=800,Ik=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ik)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wk(),!this.activeServiceWorker)return;this.sender=new vk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await D2(e,kh,"1"),await M2(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Sk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_f(i,!1).getAll();return new _u(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const xk=BE;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){return e?xi(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kk(t){return NE(t.auth,new Jg(t),t.bypassAuthState)}function Rk(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),ik(n,new Jg(t),t.bypassAuthState)}async function Pk(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),rk(n,new Jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kk;case"linkViaPopup":case"linkViaRedirect":return Pk;case"reauthViaPopup":case"reauthViaRedirect":return Rk;default:yr(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new gu(2e3,1e4);async function Nk(t,e,n){if(Lr(t.app))return Promise.reject(Dr(t,"operation-not-supported-in-this-environment"));const r=Gs(t);d8(t,e,Yg);const i=HE(r,n);return new fo(r,"signInViaPopup",e,i).executeNotNull()}class fo extends WE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lk.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="pendingRedirect",zd=new Map;class Dk extends WE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await Mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mk(t,e){const n=$k(e),r=Uk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Vk(t,e){zd.set(t._key(),e)}function Uk(t){return xi(t._redirectPersistence)}function $k(t){return jd(Ok,t.config.apiKey,t.name)}async function Fk(t,e,n=!1){if(Lr(t.app))return Promise.reject(Pi(t));const r=Gs(t),i=HE(r,e),o=await new Dk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=10*60*1e3;class zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(V2(e))}saveEventToCache(e){this.cachedEventUids.add(V2(e)),this.lastProcessedEventTime=Date.now()}}function V2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qk=/^https?/;async function Gk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hk(t);for(const n of e)try{if(Kk(n))return}catch{}yr(t,"unauthorized-domain")}function Kk(t){const e=am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qk.test(n))return!1;if(Wk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new gu(3e4,6e4);function U2(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xk(t){return new Promise((e,n)=>{var r,i,s;function o(){U2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U2(),n(Dr(t,"network-request-failed"))},timeout:Qk.get()})}if(!((i=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ri().gapi)===null||s===void 0)&&s.load)o();else{const a=F8("iframefcb");return ri()[a]=()=>{gapi.load?o():n(Dr(t,"network-request-failed"))},RE(`${$8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function Yk(t){return Bd=Bd||Xk(t),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new gu(5e3,15e3),Jk="__/auth/iframe",e9="emulator/auth/iframe",t9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r9(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qg(e,e9):`https://${t.config.authDomain}/${Jk}`,r={apiKey:e.apiKey,appName:t.name,v:ul},i=n9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mu(r).slice(1)}`}async function i9(t){const e=await Yk(t),n=ri().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:r9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dr(t,"network-request-failed"),a=ri().setTimeout(()=>{s(o)},Zk.get());function l(){ri().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o9=500,a9=600,l9="_blank",c9="http://localhost";class $2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u9(t,e,n,r=o9,i=a9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},s9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=rn().toLowerCase();n&&(a=TE(u)?l9:n),bE(u)&&(e=e||c9,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(k8(u)&&a!=="_self")return d9(e||"",a),new $2(null);const h=window.open(e||"",a,d);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new $2(h)}function d9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="__/auth/handler",f9="emulator/auth/handler",p9=encodeURIComponent("fac");async function F2(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ul,eventId:i};if(e instanceof Yg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof vu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${p9}=${encodeURIComponent(l)}`:"";return`${m9(t)}?${mu(a).slice(1)}${u}`}function m9({config:t}){return t.emulator?qg(t,f9):`https://${t.authDomain}/${h9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class g9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=Fk,this._overrideRedirectResult=Vk}async _openPopup(e,n,r,i){var s;Vi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await F2(e,n,r,am(),i);return u9(e,o,Zg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await F2(e,n,r,am(),i);return _k(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i9(e),r=new zk(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bp];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xE()||Kg()||gf()}}const y9=g9;var j2="@firebase/auth",z2="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w9(t){Ua(new Io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(t)},u=new M8(r,i,s,l);return W8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ua(new Io("auth-internal",e=>{const n=Gs(e.getProvider("auth").getImmediate());return(r=>new v9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(j2,z2,_9(t)),Ss(j2,z2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=5*60,b9=aE("authIdTokenMaxAge")||E9;let B2=null;const T9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b9)return;const i=n==null?void 0:n.token;B2!==i&&(B2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GE(t=dE()){const e=zg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H8(t,{popupRedirectResolver:y9,persistence:[xk,gk,$E]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=T9(s.toString());dk(n,o,()=>o(n.currentUser)),uk(n,a=>o(a))}}const i=sE("auth");return i&&q8(n,`http://${i}`),n}function C9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w9("Browser");var H2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,KE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function T(){}T.prototype=_.prototype,C.D=_.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(I,R,N){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return _.prototype[R].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,T){T||(T=0);var I=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)I[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;16>R;++R)I[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=C.g[0],T=C.g[1],R=C.g[2];var N=C.g[3],k=_+(N^T&(R^N))+I[0]+3614090360&4294967295;_=T+(k<<7&4294967295|k>>>25),k=N+(R^_&(T^R))+I[1]+3905402710&4294967295,N=_+(k<<12&4294967295|k>>>20),k=R+(T^N&(_^T))+I[2]+606105819&4294967295,R=N+(k<<17&4294967295|k>>>15),k=T+(_^R&(N^_))+I[3]+3250441966&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(N^T&(R^N))+I[4]+4118548399&4294967295,_=T+(k<<7&4294967295|k>>>25),k=N+(R^_&(T^R))+I[5]+1200080426&4294967295,N=_+(k<<12&4294967295|k>>>20),k=R+(T^N&(_^T))+I[6]+2821735955&4294967295,R=N+(k<<17&4294967295|k>>>15),k=T+(_^R&(N^_))+I[7]+4249261313&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(N^T&(R^N))+I[8]+1770035416&4294967295,_=T+(k<<7&4294967295|k>>>25),k=N+(R^_&(T^R))+I[9]+2336552879&4294967295,N=_+(k<<12&4294967295|k>>>20),k=R+(T^N&(_^T))+I[10]+4294925233&4294967295,R=N+(k<<17&4294967295|k>>>15),k=T+(_^R&(N^_))+I[11]+2304563134&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(N^T&(R^N))+I[12]+1804603682&4294967295,_=T+(k<<7&4294967295|k>>>25),k=N+(R^_&(T^R))+I[13]+4254626195&4294967295,N=_+(k<<12&4294967295|k>>>20),k=R+(T^N&(_^T))+I[14]+2792965006&4294967295,R=N+(k<<17&4294967295|k>>>15),k=T+(_^R&(N^_))+I[15]+1236535329&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(R^N&(T^R))+I[1]+4129170786&4294967295,_=T+(k<<5&4294967295|k>>>27),k=N+(T^R&(_^T))+I[6]+3225465664&4294967295,N=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(N^_))+I[11]+643717713&4294967295,R=N+(k<<14&4294967295|k>>>18),k=T+(N^_&(R^N))+I[0]+3921069994&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^N&(T^R))+I[5]+3593408605&4294967295,_=T+(k<<5&4294967295|k>>>27),k=N+(T^R&(_^T))+I[10]+38016083&4294967295,N=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(N^_))+I[15]+3634488961&4294967295,R=N+(k<<14&4294967295|k>>>18),k=T+(N^_&(R^N))+I[4]+3889429448&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^N&(T^R))+I[9]+568446438&4294967295,_=T+(k<<5&4294967295|k>>>27),k=N+(T^R&(_^T))+I[14]+3275163606&4294967295,N=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(N^_))+I[3]+4107603335&4294967295,R=N+(k<<14&4294967295|k>>>18),k=T+(N^_&(R^N))+I[8]+1163531501&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^N&(T^R))+I[13]+2850285829&4294967295,_=T+(k<<5&4294967295|k>>>27),k=N+(T^R&(_^T))+I[2]+4243563512&4294967295,N=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(N^_))+I[7]+1735328473&4294967295,R=N+(k<<14&4294967295|k>>>18),k=T+(N^_&(R^N))+I[12]+2368359562&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(T^R^N)+I[5]+4294588738&4294967295,_=T+(k<<4&4294967295|k>>>28),k=N+(_^T^R)+I[8]+2272392833&4294967295,N=_+(k<<11&4294967295|k>>>21),k=R+(N^_^T)+I[11]+1839030562&4294967295,R=N+(k<<16&4294967295|k>>>16),k=T+(R^N^_)+I[14]+4259657740&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^N)+I[1]+2763975236&4294967295,_=T+(k<<4&4294967295|k>>>28),k=N+(_^T^R)+I[4]+1272893353&4294967295,N=_+(k<<11&4294967295|k>>>21),k=R+(N^_^T)+I[7]+4139469664&4294967295,R=N+(k<<16&4294967295|k>>>16),k=T+(R^N^_)+I[10]+3200236656&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^N)+I[13]+681279174&4294967295,_=T+(k<<4&4294967295|k>>>28),k=N+(_^T^R)+I[0]+3936430074&4294967295,N=_+(k<<11&4294967295|k>>>21),k=R+(N^_^T)+I[3]+3572445317&4294967295,R=N+(k<<16&4294967295|k>>>16),k=T+(R^N^_)+I[6]+76029189&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^N)+I[9]+3654602809&4294967295,_=T+(k<<4&4294967295|k>>>28),k=N+(_^T^R)+I[12]+3873151461&4294967295,N=_+(k<<11&4294967295|k>>>21),k=R+(N^_^T)+I[15]+530742520&4294967295,R=N+(k<<16&4294967295|k>>>16),k=T+(R^N^_)+I[2]+3299628645&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(R^(T|~N))+I[0]+4096336452&4294967295,_=T+(k<<6&4294967295|k>>>26),k=N+(T^(_|~R))+I[7]+1126891415&4294967295,N=_+(k<<10&4294967295|k>>>22),k=R+(_^(N|~T))+I[14]+2878612391&4294967295,R=N+(k<<15&4294967295|k>>>17),k=T+(N^(R|~_))+I[5]+4237533241&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~N))+I[12]+1700485571&4294967295,_=T+(k<<6&4294967295|k>>>26),k=N+(T^(_|~R))+I[3]+2399980690&4294967295,N=_+(k<<10&4294967295|k>>>22),k=R+(_^(N|~T))+I[10]+4293915773&4294967295,R=N+(k<<15&4294967295|k>>>17),k=T+(N^(R|~_))+I[1]+2240044497&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~N))+I[8]+1873313359&4294967295,_=T+(k<<6&4294967295|k>>>26),k=N+(T^(_|~R))+I[15]+4264355552&4294967295,N=_+(k<<10&4294967295|k>>>22),k=R+(_^(N|~T))+I[6]+2734768916&4294967295,R=N+(k<<15&4294967295|k>>>17),k=T+(N^(R|~_))+I[13]+1309151649&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~N))+I[4]+4149444226&4294967295,_=T+(k<<6&4294967295|k>>>26),k=N+(T^(_|~R))+I[11]+3174756917&4294967295,N=_+(k<<10&4294967295|k>>>22),k=R+(_^(N|~T))+I[2]+718787259&4294967295,R=N+(k<<15&4294967295|k>>>17),k=T+(N^(R|~_))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var T=_-this.blockSize,I=this.B,R=this.h,N=0;N<_;){if(R==0)for(;N<=T;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<_;)if(I[R++]=C.charCodeAt(N++),R==this.blockSize){i(this,I),R=0;break}}else for(;N<_;)if(I[R++]=C[N++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var T=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=T&255,T/=256;for(this.u(C),C=Array(16),_=T=0;4>_;++_)for(var I=0;32>I;I+=8)C[T++]=this.g[_]>>>I&255;return C};function s(C,_){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=_(C)}function o(C,_){this.h=_;for(var T=[],I=!0,R=C.length-1;0<=R;R--){var N=C[R]|0;I&&N==_||(T[R]=N,I=!1)}this.g=T}var a={};function l(C){return-128<=C&&128>C?s(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return x(u(-C));for(var _=[],T=1,I=0;C>=T;I++)_[I]=C/T|0,T*=4294967296;return new o(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return x(d(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(_,8)),I=h,R=0;R<C.length;R+=8){var N=Math.min(8,C.length-R),k=parseInt(C.substring(R,R+N),_);8>N?(N=u(Math.pow(_,N)),I=I.j(N).add(u(k))):(I=I.j(T),I=I.add(u(k)))}return I}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-x(this).m();for(var C=0,_=1,T=0;T<this.g.length;T++){var I=this.i(T);C+=(0<=I?I:4294967296+I)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(E(this))return"-"+x(this).toString(C);for(var _=u(Math.pow(C,6)),T=this,I="";;){var R=M(T,_).g;T=w(T,R.j(_));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=R,y(T))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=w(this,C),E(C)?-1:y(C)?0:1};function x(C){for(var _=C.g.length,T=[],I=0;I<_;I++)T[I]=~C.g[I];return new o(T,~C.h).add(p)}t.abs=function(){return E(this)?x(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0,R=0;R<=_;R++){var N=I+(this.i(R)&65535)+(C.i(R)&65535),k=(N>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);I=k>>>16,N&=65535,k&=65535,T[R]=k<<16|N}return new o(T,T[T.length-1]&-2147483648?-1:0)};function w(C,_){return C.add(x(_))}t.j=function(C){if(y(this)||y(C))return h;if(E(this))return E(C)?x(this).j(x(C)):x(x(this).j(C));if(E(C))return x(this.j(x(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,T=[],I=0;I<2*_;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<C.g.length;R++){var N=this.i(I)>>>16,k=this.i(I)&65535,ie=C.i(R)>>>16,je=C.i(R)&65535;T[2*I+2*R]+=k*je,v(T,2*I+2*R),T[2*I+2*R+1]+=N*je,v(T,2*I+2*R+1),T[2*I+2*R+1]+=k*ie,v(T,2*I+2*R+1),T[2*I+2*R+2]+=N*ie,v(T,2*I+2*R+2)}for(I=0;I<_;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=_;I<2*_;I++)T[I]=0;return new o(T,0)};function v(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function A(C,_){this.g=C,this.h=_}function M(C,_){if(y(_))throw Error("division by zero");if(y(C))return new A(h,h);if(E(C))return _=M(x(C),_),new A(x(_.g),x(_.h));if(E(_))return _=M(C,x(_)),new A(x(_.g),_.h);if(30<C.g.length){if(E(C)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var T=p,I=_;0>=I.l(C);)T=F(T),I=F(I);var R=P(T,1),N=P(I,1);for(I=P(I,2),T=P(T,2);!y(I);){var k=N.add(I);0>=k.l(C)&&(R=R.add(T),N=k),I=P(I,1),T=P(T,1)}return _=w(C,R.j(_)),new A(R,_)}for(R=h;0<=C.l(_);){for(T=Math.max(1,Math.floor(C.m()/_.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(T),k=N.j(_);E(k)||0<k.l(C);)T-=I,N=u(T),k=N.j(_);y(N)&&(N=p),R=R.add(N),C=w(C,k)}return new A(R,C)}t.A=function(C){return M(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)&C.i(I);return new o(T,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)|C.i(I);return new o(T,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)^C.i(I);return new o(T,this.h^C.h)};function F(C){for(var _=C.g.length+1,T=[],I=0;I<_;I++)T[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(T,C.h)}function P(C,_){var T=_>>5;_%=32;for(var I=C.g.length-T,R=[],N=0;N<I;N++)R[N]=0<_?C.i(N+T)>>>_|C.i(N+T+1)<<32-_:C.i(N+T);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,yo=o}).apply(typeof H2<"u"?H2:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QE,XE,tc,YE,Hd,dm,ZE,JE,e3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var V=c[b];if(!(V in m))break e;m=m[V]}c=c[c.length-1],b=m[c],f=f(b),f!=b&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,b=!1,V={next:function(){if(!b&&m<c.length){var j=m++;return{value:f(j,c[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,m){return c.call.apply(c.bind,arguments)}function h(c,f,m){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),c.apply(f,V)}}return function(){return c.apply(f,arguments)}}function p(c,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function y(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(b,V,j){for(var Q=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Q[Xe-2]=arguments[Xe];return f.prototype[V].apply(b,Q)}}function E(c){const f=c.length;if(0<f){const m=Array(f);for(let b=0;b<f;b++)m[b]=c[b];return m}return[]}function x(c,f){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(l(b)){const V=c.length||0,j=b.length||0;c.length=V+j;for(let Q=0;Q<j;Q++)c[V+Q]=b[Q]}else c.push(b)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(c){return/^[\s\xa0]*$/.test(c)}function A(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function P(c,f,m){for(const b in c)f.call(m,c[b],b,c)}function C(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function _(c){const f={};for(const m in c)f[m]=c[m];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,f){let m,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(m in b)c[m]=b[m];for(let j=0;j<T.length;j++)m=T[j],Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])}}function R(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function N(c){a.setTimeout(()=>{throw c},0)}function k(){var c=J;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class ie{constructor(){this.h=this.g=null}add(f,m){const b=je.get();b.set(f,m),this.h?this.h.next=b:this.g=b,this.h=b}}var je=new w(()=>new De,c=>c.reset());class De{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let de,W=!1,J=new ie,Y=()=>{const c=a.Promise.resolve(void 0);de=()=>{c.then(pe)}};var pe=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(m){N(m)}var f=je;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}W=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Ct(c,f){if(Ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(F){e:{try{M(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ft[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}y(Ct,Ve);var ft={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function vn(c,f,m,b,V){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!b,this.ha=V,this.key=++Jn,this.da=this.fa=!1}function _n(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function er(c){this.src=c,this.g={},this.h=0}er.prototype.add=function(c,f,m,b,V){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var Q=An(c,f,b,V);return-1<Q?(f=c[Q],m||(f.fa=!1)):(f=new vn(f,this.src,j,!!b,V),f.fa=m,c.push(f)),f};function qe(c,f){var m=f.type;if(m in c.g){var b=c.g[m],V=Array.prototype.indexOf.call(b,f,void 0),j;(j=0<=V)&&Array.prototype.splice.call(b,V,1),j&&(_n(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function An(c,f,m,b){for(var V=0;V<c.length;++V){var j=c[V];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==b)return V}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),Br={};function zt(c,f,m,b,V){if(Array.isArray(f)){for(var j=0;j<f.length;j++)zt(c,f[j],m,b,V);return null}return m=Gt(m),c&&c[Ge]?c.K(f,m,u(b)?!!b.capture:!!b,V):_r(c,f,m,!1,b,V)}function _r(c,f,m,b,V,j){if(!f)throw Error("Invalid event type");var Q=u(V)?!!V.capture:!!V,Xe=Wr(c);if(Xe||(c[xt]=Xe=new er(c)),m=Xe.add(f,m,b,Q,j),m.proxy)return m;if(b=Ke(),m.proxy=b,b.src=c,b.listener=m,c.addEventListener)ut||(V=Q),V===void 0&&(V=!1),c.addEventListener(f.toString(),b,V);else if(c.attachEvent)c.attachEvent(Hr(f.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ke(){function c(m){return f.call(c.src,c.listener,m)}const f=hi;return c}function wr(c,f,m,b,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)wr(c,f[j],m,b,V);else b=u(b)?!!b.capture:!!b,m=Gt(m),c&&c[Ge]?(c=c.i,f=String(f).toString(),f in c.g&&(j=c.g[f],m=An(j,m,b,V),-1<m&&(_n(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete c.g[f],c.h--)))):c&&(c=Wr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=An(f,m,b,V)),(m=-1<c?f[c]:null)&&Er(m))}function Er(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Ge])qe(f.i,c);else{var m=c.type,b=c.proxy;f.removeEventListener?f.removeEventListener(m,b,c.capture):f.detachEvent?f.detachEvent(Hr(m),b):f.addListener&&f.removeListener&&f.removeListener(b),(m=Wr(f))?(qe(m,c),m.h==0&&(m.src=null,f[xt]=null)):_n(c)}}}function Hr(c){return c in Br?Br[c]:Br[c]="on"+c}function hi(c,f){if(c.da)c=!0;else{f=new Ct(f,this);var m=c.listener,b=c.ha||c.src;c.fa&&Er(c),c=m.call(b,f)}return c}function Wr(c){return c=c[xt],c instanceof er?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(f){return c.handleEvent(f)}),c[sn])}function nt(){ye.call(this),this.i=new er(this),this.M=this,this.F=null}y(nt,ye),nt.prototype[Ge]=!0,nt.prototype.removeEventListener=function(c,f,m,b){wr(this,c,f,m,b)};function Qe(c,f){var m,b=c.F;if(b)for(m=[];b;b=b.F)m.push(b);if(c=c.M,b=f.type||f,typeof f=="string")f=new Ve(f,c);else if(f instanceof Ve)f.target=f.target||c;else{var V=f;f=new Ve(b,c),I(f,V)}if(V=!0,m)for(var j=m.length-1;0<=j;j--){var Q=f.g=m[j];V=kt(Q,b,!0,f)&&V}if(Q=f.g=c,V=kt(Q,b,!0,f)&&V,V=kt(Q,b,!1,f)&&V,m)for(j=0;j<m.length;j++)Q=f.g=m[j],V=kt(Q,b,!1,f)&&V}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],b=0;b<m.length;b++)_n(m[b]);delete c.g[f],c.h--}}this.F=null},nt.prototype.K=function(c,f,m,b){return this.i.add(String(c),f,!1,m,b)},nt.prototype.L=function(c,f,m,b){return this.i.add(String(c),f,!0,m,b)};function kt(c,f,m,b){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,j=0;j<f.length;++j){var Q=f[j];if(Q&&!Q.da&&Q.capture==m){var Xe=Q.listener,Qt=Q.ha||Q.src;Q.fa&&qe(c.i,Q),V=Xe.call(Qt,b)!==!1&&V}}return V&&!b.defaultPrevented}function Bt(c,f,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function tr(c){c.g=Bt(()=>{c.g=null,c.i&&(c.i=!1,tr(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class nr extends ye{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:tr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(c){ye.call(this),this.h=c,this.g={}}y(Dt,ye);var Ue=[];function qr(c){P(c.g,function(f,m){this.g.hasOwnProperty(m)&&Er(f)},c),c.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),qr(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=a.JSON.stringify,br=a.JSON.parse,fi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Un(){}Un.prototype.h=null;function In(c){return c.h||(c.h=c.i())}function ir(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){Ve.call(this,"d")}y($n,Ve);function Ye(){Ve.call(this,"c")}y(Ye,Ve);var wt={},ce=null;function be(){return ce=ce||new nt}wt.La="serverreachability";function Mt(c){Ve.call(this,wt.La,c)}y(Mt,Ve);function Kt(c){const f=be();Qe(f,new Mt(f))}wt.STAT_EVENT="statevent";function X(c,f){Ve.call(this,wt.STAT_EVENT,c),this.stat=f}y(X,Ve);function ne(c){const f=be();Qe(f,new X(f,c))}wt.Ma="timingevent";function he(c,f){Ve.call(this,wt.Ma,c),this.size=f}y(he,Ve);function L(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function D(){this.g=!0}D.prototype.xa=function(){this.g=!1};function U(c,f,m,b,V,j){c.info(function(){if(c.g)if(j)for(var Q="",Xe=j.split("&"),Qt=0;Qt<Xe.length;Qt++){var $e=Xe[Qt].split("=");if(1<$e.length){var ln=$e[0];$e=$e[1];var cn=ln.split("_");Q=2<=cn.length&&cn[1]=="type"?Q+(ln+"="+$e+"&"):Q+(ln+"=redacted&")}}else Q=null;else Q=j;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+f+`
`+m+`
`+Q})}function z(c,f,m,b,V,j,Q){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+f+`
`+m+`
`+j+" "+Q})}function q(c,f,m,b){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Z(c,m)+(b?" "+b:"")})}function ee(c,f){c.info(function(){return"TIMEOUT: "+f})}D.prototype.info=function(){};function Z(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var b=m[c];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return rr(m)}catch{return f}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ae;function oe(){}y(oe,Un),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},ae=new oe;function Ce(c,f,m,b){this.j=c,this.i=f,this.l=m,this.R=b||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var le={},ve={};function rt(c,f,m){c.L=1,c.v=zu(mi(f)),c.m=m,c.P=!0,Be(c,null)}function Be(c,f){c.F=Date.now(),Tr(c),c.A=mi(c.v);var m=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),fy(m.i,"t",b),c.C=0,m=c.j.J,c.h=new xe,c.g=Py(c.j,m?f:null,!c.m),0<c.O&&(c.M=new nr(p(c.Y,c,c.g),c.O)),f=c.U,m=c.g,b=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ue[0]=V.toString()),V=Ue);for(var j=0;j<V.length;j++){var Q=zt(m,V[j],b||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Kt(),U(c.i,c.u,c.A,c.l,c.R,c.m)}Ce.prototype.ca=function(c){c=c.target;const f=this.M;f&&gi(c)==3?f.j():this.Y(c)},Ce.prototype.Y=function(c){try{if(c==this.g)e:{const cn=gi(this.g);var f=this.g.Ba();const Ko=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||wy(this.g)))){this.J||cn!=4||f==7||(f==8||0>=Ko?Kt(3):Kt(2)),Kr(this);var m=this.g.Z();this.X=m;t:if(Gr(this)){var b=wy(this.g);c="";var V=b.length,j=gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),on(this);var Q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,c+=this.h.i.decode(b[f],{stream:!(j&&f==V-1)});b.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=m==200,z(this.i,this.u,this.A,this.l,this.R,cn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Qt=this.g;if((Xe=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Xe)){var $e=Xe;break t}}$e=null}if(m=$e)q(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,m);else{this.o=!1,this.s=3,ne(12),sr(this),on(this);break e}}if(this.P){m=!0;let Cr;for(;!this.J&&this.C<Q.length;)if(Cr=xn(this,Q),Cr==ve){cn==4&&(this.s=4,ne(14),m=!1),q(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==le){this.s=4,ne(15),q(this.i,this.l,Q,"[Invalid Chunk]"),m=!1;break}else q(this.i,this.l,Cr,null),Gi(this,Cr);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Q.length!=0||this.h.h||(this.s=1,ne(16),m=!1),this.o=this.o&&m,!m)q(this.i,this.l,Q,"[Invalid Chunked Response]"),sr(this),on(this);else if(0<Q.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),op(ln),ln.M=!0,ne(11))}}else q(this.i,this.l,Q,null),Gi(this,Q);cn==4&&sr(this),this.o&&!this.J&&(cn==4?Iy(this.j,this):(this.o=!1,Tr(this)))}else wT(this.g),m==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),sr(this),on(this)}}}catch{}finally{}};function Gr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xn(c,f){var m=c.C,b=f.indexOf(`
`,m);return b==-1?ve:(m=Number(f.substring(m,b)),isNaN(m)?le:(b+=1,b+m>f.length?ve:(f=f.slice(b,b+m),c.C=b+m,f)))}Ce.prototype.cancel=function(){this.J=!0,sr(this)};function Tr(c){c.S=Date.now()+c.I,pi(c,c.I)}function pi(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=L(p(c.ba,c),f)}function Kr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ce.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ee(this.i,this.A),this.L!=2&&(Kt(),ne(17)),sr(this),this.s=2,on(this)):pi(this,this.S-c)};function on(c){c.j.G==0||c.J||Iy(c.j,c)}function sr(c){Kr(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,qr(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Gi(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||ze(m.h,c))){if(!c.K&&ze(m.h,c)&&m.G==3){try{var b=m.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Gu(m),Wu(m);else break e;sp(m),ne(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=L(p(m.Za,m),6e3));if(1>=an(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zs(m,11)}else if((c.K||m.g==c)&&Gu(m),!v(f))for(V=m.Da.g.parse(f),f=0;f<V.length;f++){let $e=V[f];if(m.T=$e[0],$e=$e[1],m.G==2)if($e[0]=="c"){m.K=$e[1],m.ia=$e[2];const ln=$e[3];ln!=null&&(m.la=ln,m.j.info("VER="+m.la));const cn=$e[4];cn!=null&&(m.Aa=cn,m.j.info("SVER="+m.Aa));const Ko=$e[5];Ko!=null&&typeof Ko=="number"&&0<Ko&&(b=1.5*Ko,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const Cr=c.g;if(Cr){const Qu=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var j=b.h;j.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Fn(j,j.h),j.h=null))}if(b.D){const ap=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;ap&&(b.ya=ap,st(b.I,b.D,ap))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var Q=c;if(b.qa=Ry(b,b.J?b.ia:null,b.W),Q.K){wl(b.h,Q);var Xe=Q,Qt=b.L;Qt&&(Xe.I=Qt),Xe.B&&(Kr(Xe),Tr(Xe)),b.g=Q}else Sy(b);0<m.i.length&&qu(m)}else $e[0]!="stop"&&$e[0]!="close"||Zs(m,7);else m.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Zs(m,7):ip(m):$e[0]!="noop"&&m.l&&m.l.ta($e),m.v=0)}}Kt(4)}catch{}}var Wo=class{constructor(c,f){this.g=c,this.map=f}};function Ee(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function it(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function an(c){return c.h?1:c.g?c.g.size:0}function ze(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Fn(c,f){c.g?c.g.add(f):c.h=f}function wl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Ee.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return E(c.i)}function sT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,b=0;b<m;b++)f.push(c[b]);return f}f=[],m=0;for(b in c)f[m++]=c[b];return f}function oT(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const b in c)f[m++]=b;return f}}}function ay(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=oT(c),b=sT(c),V=b.length,j=0;j<V;j++)f.call(void 0,b[j],m&&m[j],c)}var ly=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aT(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var b=c[m].indexOf("="),V=null;if(0<=b){var j=c[m].substring(0,b);V=c[m].substring(b+1)}else j=c[m];f(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ys){this.h=c.h,Fu(this,c.j),this.o=c.o,this.g=c.g,ju(this,c.s),this.l=c.l;var f=c.i,m=new Tl;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),cy(this,m),this.m=c.m}else c&&(f=String(c).match(ly))?(this.h=!1,Fu(this,f[1]||"",!0),this.o=El(f[2]||""),this.g=El(f[3]||"",!0),ju(this,f[4]),this.l=El(f[5]||"",!0),cy(this,f[6]||"",!0),this.m=El(f[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}Ys.prototype.toString=function(){var c=[],f=this.j;f&&c.push(bl(f,uy,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(bl(f,uy,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(bl(m,m.charAt(0)=="/"?uT:cT,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",bl(m,hT)),c.join("")};function mi(c){return new Ys(c)}function Fu(c,f,m){c.j=m?El(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function ju(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function cy(c,f,m){f instanceof Tl?(c.i=f,fT(c.i,c.h)):(m||(f=bl(f,dT)),c.i=new Tl(f,c.h))}function st(c,f,m){c.i.set(f,m)}function zu(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function El(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bl(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,lT),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uy=/[#\/\?@]/g,cT=/[#\?:]/g,uT=/[#\?]/g,dT=/[#\?@]/g,hT=/#/g;function Tl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Ki(c){c.g||(c.g=new Map,c.h=0,c.i&&aT(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Tl.prototype,t.add=function(c,f){Ki(this),this.i=null,c=qo(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function dy(c,f){Ki(c),f=qo(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function hy(c,f){return Ki(c),f=qo(c,f),c.g.has(f)}t.forEach=function(c,f){Ki(this),this.g.forEach(function(m,b){m.forEach(function(V){c.call(f,V,b,this)},this)},this)},t.na=function(){Ki(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let b=0;b<f.length;b++){const V=c[b];for(let j=0;j<V.length;j++)m.push(f[b])}return m},t.V=function(c){Ki(this);let f=[];if(typeof c=="string")hy(this,c)&&(f=f.concat(this.g.get(qo(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Ki(this),this.i=null,c=qo(this,c),hy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function fy(c,f,m){dy(c,f),0<m.length&&(c.i=null,c.g.set(qo(c,f),E(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var b=f[m];const j=encodeURIComponent(String(b)),Q=this.V(b);for(b=0;b<Q.length;b++){var V=j;Q[b]!==""&&(V+="="+encodeURIComponent(String(Q[b]))),c.push(V)}}return this.i=c.join("&")};function qo(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function fT(c,f){f&&!c.j&&(Ki(c),c.i=null,c.g.forEach(function(m,b){var V=b.toLowerCase();b!=V&&(dy(this,b),fy(this,V,m))},c)),c.j=f}function pT(c,f){const m=new D;if(a.Image){const b=new Image;b.onload=g(Qi,m,"TestLoadImage: loaded",!0,f,b),b.onerror=g(Qi,m,"TestLoadImage: error",!1,f,b),b.onabort=g(Qi,m,"TestLoadImage: abort",!1,f,b),b.ontimeout=g(Qi,m,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else f(!1)}function mT(c,f){const m=new D,b=new AbortController,V=setTimeout(()=>{b.abort(),Qi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:b.signal}).then(j=>{clearTimeout(V),j.ok?Qi(m,"TestPingServer: ok",!0,f):Qi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),Qi(m,"TestPingServer: error",!1,f)})}function Qi(c,f,m,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(m)}catch{}}function gT(){this.g=new fi}function yT(c,f,m){const b=m||"";try{ay(c,function(V,j){let Q=V;u(V)&&(Q=rr(V)),f.push(b+j+"="+encodeURIComponent(Q))})}catch(V){throw f.push(b+"type="+encodeURIComponent("_badmap")),V}}function Cl(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Cl,Un),Cl.prototype.g=function(){return new Bu(this.l,this.j)},Cl.prototype.i=function(c){return function(){return c}}({});function Bu(c,f){nt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Bu,nt),t=Bu.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Al(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;py(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function py(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Sl(this):Al(this),this.readyState==3&&py(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Sl(this))},t.Qa=function(c){this.g&&(this.response=c,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Al(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Al(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function my(c){let f="";return P(c,function(m,b){f+=b,f+=":",f+=m,f+=`\r
`}),f}function rp(c,f,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=my(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):st(c,f,m))}function Et(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Et,nt);var vT=/^https?$/i,_T=["POST","PUT"];t=Et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ae.g(),this.v=this.o?In(this.o):In(ae),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){gy(this,j);return}if(c=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)m.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())m.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_T,f,void 0))||b||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of m)this.g.setRequestHeader(j,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_y(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){gy(this,j)}};function gy(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,yy(c),Hu(c)}function yy(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vy(this):this.bb())},t.bb=function(){vy(this)};function vy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||gi(c)!=4||c.Z()!=2)){if(c.u&&gi(c)==4)Bt(c.Ea,0,c);else if(Qe(c,"readystatechange"),gi(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var b;if(b=Q===0){var V=String(c.D).match(ly)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),b=!vT.test(V?V.toLowerCase():"")}m=b}if(m)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var j=2<gi(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",yy(c)}}finally{Hu(c)}}}}function Hu(c,f){if(c.g){_y(c);const m=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Qe(c,"ready");try{m.onreadystatechange=b}catch{}}}function _y(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function gi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<gi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),br(f)}};function wy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wT(c){const f={};c=(c.g&&2<=gi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(v(c[b]))continue;var m=R(c[b]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[V]||[];f[V]=j,j.push(m)}C(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Ey(c){this.Aa=0,this.i=[],this.j=new D,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Il("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Il("baseRetryDelayMs",5e3,c),this.cb=Il("retryDelaySeedMs",1e4,c),this.Wa=Il("forwardChannelMaxRetries",2,c),this.wa=Il("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ee(c&&c.concurrentRequestLimit),this.Da=new gT,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ey.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,b){ne(0),this.W=c,this.H=f||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=Ry(this,null,this.W),qu(this)};function ip(c){if(by(c),c.G==3){var f=c.U++,m=mi(c.I);if(st(m,"SID",c.K),st(m,"RID",f),st(m,"TYPE","terminate"),xl(c,m),f=new Ce(c,c.j,f),f.L=2,f.v=zu(mi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Py(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Tr(f)}ky(c)}function Wu(c){c.g&&(op(c),c.g.cancel(),c.g=null)}function by(c){Wu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qu(c){if(!it(c.h)&&!c.s){c.s=!0;var f=c.Ga;de||Y(),W||(de(),W=!0),J.add(f,c),c.B=0}}function ET(c,f){return an(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=L(p(c.Ga,c,f),xy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Ce(this,this.j,c);let j=this.o;if(this.S&&(j?(j=_(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Cy(this,V,f),m=mi(this.I),st(m,"RID",c),st(m,"CVER",22),this.D&&st(m,"X-HTTP-Session-Id",this.D),xl(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(my(j)))+"&"+f:this.m&&rp(m,this.m,j)),Fn(this.h,V),this.Ua&&st(m,"TYPE","init"),this.P?(st(m,"$req",f),st(m,"SID","null"),V.T=!0,rt(V,m,null)):rt(V,m,f),this.G=2}}else this.G==3&&(c?Ty(this,c):this.i.length==0||it(this.h)||Ty(this))};function Ty(c,f){var m;f?m=f.l:m=c.U++;const b=mi(c.I);st(b,"SID",c.K),st(b,"RID",m),st(b,"AID",c.T),xl(c,b),c.m&&c.o&&rp(b,c.m,c.o),m=new Ce(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Cy(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fn(c.h,m),rt(m,b,f)}function xl(c,f){c.H&&P(c.H,function(m,b){st(f,b,m)}),c.l&&ay({},function(m,b){st(f,b,m)})}function Cy(c,f,m){m=Math.min(c.i.length,m);var b=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let j=-1;for(;;){const Q=["count="+m];j==-1?0<m?(j=V[0].g,Q.push("ofs="+j)):j=0:Q.push("ofs="+j);let Xe=!0;for(let Qt=0;Qt<m;Qt++){let $e=V[Qt].g;const ln=V[Qt].map;if($e-=j,0>$e)j=Math.max(0,V[Qt].g-100),Xe=!1;else try{yT(ln,Q,"req"+$e+"_")}catch{b&&b(ln)}}if(Xe){b=Q.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,b}function Sy(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;de||Y(),W||(de(),W=!0),J.add(f,c),c.v=0}}function sp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=L(p(c.Fa,c),xy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ay(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=L(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Wu(this),Ay(this))};function op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ay(c){c.g=new Ce(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=mi(c.qa);st(f,"RID","rpc"),st(f,"SID",c.K),st(f,"AID",c.T),st(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(f,"TO",c.ja),st(f,"TYPE","xmlhttp"),xl(c,f),c.m&&c.o&&rp(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=zu(mi(f)),m.m=null,m.P=!0,Be(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),sp(this),ne(19))};function Gu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Iy(c,f){var m=null;if(c.g==f){Gu(c),op(c),c.g=null;var b=2}else if(ze(c.h,f))m=f.D,wl(c.h,f),b=1;else return;if(c.G!=0){if(f.o)if(b==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var V=c.B;b=be(),Qe(b,new he(b,m)),qu(c)}else Sy(c);else if(V=f.s,V==3||V==0&&0<f.X||!(b==1&&ET(c,f)||b==2&&sp(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),V){case 1:Zs(c,5);break;case 4:Zs(c,10);break;case 3:Zs(c,6);break;default:Zs(c,2)}}}function xy(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Zs(c,f){if(c.j.info("Error code "+f),f==2){var m=p(c.fb,c),b=c.Xa;const V=!b;b=new Ys(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(b,"https"),zu(b),V?pT(b.toString(),m):mT(b.toString(),m)}else ne(2);c.G=0,c.l&&c.l.sa(f),ky(c),by(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function ky(c){if(c.G=0,c.ka=[],c.l){const f=$u(c.h);(f.length!=0||c.i.length!=0)&&(x(c.ka,f),x(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function Ry(c,f,m){var b=m instanceof Ys?mi(m):new Ys(m);if(b.g!="")f&&(b.g=f+"."+b.g),ju(b,b.s);else{var V=a.location;b=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var j=new Ys(null);b&&Fu(j,b),f&&(j.g=f),V&&ju(j,V),m&&(j.l=m),b=j}return m=c.D,f=c.ya,m&&f&&st(b,m,f),st(b,"VER",c.la),xl(c,b),b}function Py(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Et(new Cl({eb:m})):new Et(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ly(){}t=Ly.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(c,f){return new jn(c,f)};function jn(c,f){nt.call(this),this.g=new Ey(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!v(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Go(this)}y(jn,nt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){ip(this.g)},jn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=rr(c),c=m);f.i.push(new Wo(f.Ya++,c)),f.G==3&&qu(f)},jn.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,jn.aa.N.call(this)};function Ny(c){$n.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}y(Ny,$n);function Oy(){Ye.call(this),this.status=1}y(Oy,Ye);function Go(c){this.g=c}y(Go,Ly),Go.prototype.ua=function(){Qe(this.g,"a")},Go.prototype.ta=function(c){Qe(this.g,new Ny(c))},Go.prototype.sa=function(c){Qe(this.g,new Oy)},Go.prototype.ra=function(){Qe(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,e3=function(){return new Ku},JE=function(){return be()},ZE=wt,dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Hd=K,me.COMPLETE="complete",YE=me,ir.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,tc=ir,XE=Cl,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,QE=Et}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const W2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Fg("@firebase/firestore");function zl(){return Po.logLevel}function se(t,...e){if(Po.logLevel<=Le.DEBUG){const n=e.map(e1);Po.debug(`Firestore (${hl}): ${t}`,...n)}}function Ui(t,...e){if(Po.logLevel<=Le.ERROR){const n=e.map(e1);Po.error(`Firestore (${hl}): ${t}`,...n)}}function Fa(t,...e){if(Po.logLevel<=Le.WARN){const n=e.map(e1);Po.warn(`Firestore (${hl}): ${t}`,...n)}}function e1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function tt(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class A9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I9{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new As;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new As,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new As)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new t3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new fn(e)}}class x9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new R9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=L9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Ft(0,0))}static max(){return new _e(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Yc{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const N9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Yc{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return N9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(lt.fromString(e))}static fromName(e){return new ue(lt.fromString(e).popFirst(5))}static empty(){return new ue(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new lt(e.slice()))}}function O9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new Ns(i,ue.empty(),e)}function D9(t){return new Ns(t.readTime,t.key,-1)}class Ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ns(_e.min(),ue.empty(),-1)}static max(){return new Ns(_e.max(),ue.empty(),-1)}}function M9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==V9)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}t1.oe=-1;function wf(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function F9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G2(this.data.getIterator())}getIteratorFrom(e){return new G2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class G2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new tn(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new i3("Invalid base64 string: "+s):s}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const j9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(tt(!!t),typeof t=="string"){let e=0;const n=j9.exec(t);if(tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function r1(t){const e=t.mapValue.fields.__previous_value__;return n1(e)?r1(e):e}function Zc(t){const e=Os(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n1(t)?4:B9(t)?9007199254740991:10:ge()}function li(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Os(i.timestampValue),a=Os(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Lo(i.bytesValue).isEqual(Lo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Lt(i.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Lt(i.integerValue)===Lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Lt(i.doubleValue),a=Lt(s.doubleValue);return o===a?Ph(o)===Ph(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(q2(o)!==q2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!li(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function eu(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function za(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Lt(s.integerValue||s.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return K2(t.timestampValue,e.timestampValue);case 4:return K2(Zc(t),Zc(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Lo(s),l=Lo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Fe(a[u],l[u]);if(d!==0)return d}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Fe(Lt(s.latitude),Lt(o.latitude));return a!==0?a:Fe(Lt(s.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=za(a[u],l[u]);if(d)return d}return Fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===yd.mapValue&&o===yd.mapValue)return 0;if(s===yd.mapValue)return 1;if(o===yd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Fe(l[h],d[h]);if(p!==0)return p;const g=za(a[l[h]],u[d[h]]);if(g!==0)return g}return Fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function K2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Os(t),r=Os(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function Ba(t){return hm(t)}function hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hm(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function Q2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fm(t){return!!t&&"integerValue"in t}function i1(t){return!!t&&"arrayValue"in t}function X2(t){return!!t&&"nullValue"in t}function Y2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pn(vc(this.value))}}function s3(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new Jt([n]);if(Wd(r)){const s=s3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mn(e,0,_e.min(),_e.min(),_e.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new mn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new mn(e,2,n,_e.min(),_e.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,_e.min(),_e.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function Z2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=za(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function H9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{}class Ot extends o3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new q9(e,n,r):n==="array-contains"?new Q9(e,r):n==="in"?new X9(e,r):n==="not-in"?new Y9(e,r):n==="array-contains-any"?new Z9(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new G9(e,r):new K9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(za(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends o3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return a3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a3(t){return t.op==="and"}function l3(t){return W9(t)&&a3(t)}function W9(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function pm(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(l3(t))return t.filters.map(e=>pm(e)).join(",");{const e=t.filters.map(n=>pm(n)).join(",");return`${t.op}(${e})`}}function c3(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&c3(o,i.filters[a]),!0):!1}(t,e):void ge()}function u3(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(u3).join(" ,")+"}"}(t):"Filter"}class q9 extends Ot{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class G9 extends Ot{constructor(e,n){super(e,"in",n),this.keys=d3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class K9 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=d3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class Q9 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i1(n)&&eu(n.arrayValue,this.value)}}class X9 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class Y9 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class Z9 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function e_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new J9(t,e,n,r,i,s,o)}function s1(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.ue=n}return e.ue}function o1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J2(t.startAt,e.startAt)&&J2(t.endAt,e.endAt)}function mm(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eR(t,e,n,r,i,s,o,a){return new fl(t,e,n,r,i,s,o,a)}function h3(t){return new fl(t)}function t_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function _c(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(Jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new tu(s,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new tu(Jt.keyField(),r))}return e.ce}function ii(t){const e=we(t);return e.le||(e.le=tR(e,_c(t))),e.le}function tR(t,e){if(t.limitType==="F")return e_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tu(i.field,s)});const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return e_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gm(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ef(t,e){return o1(ii(t),ii(e))&&t.limitType===e.limitType}function p3(t){return`${s1(ii(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u3(i)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(ii(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Z2(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,_c(r),i)||r.endAt&&!function(o,a,l){const u=Z2(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,_c(r),i))}(t,e)}function nR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m3(t){return(e,n)=>{let r=!1;for(const i of _c(t)){const s=rR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rR(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?za(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return r3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new _t(ue.comparator);function $i(){return iR}const g3=new _t(ue.comparator);function nc(...t){let e=g3;for(const n of t)e=e.insert(n.key,n);return e}function y3(t){let e=g3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return wc()}function v3(){return wc()}function wc(){return new pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const sR=new _t(ue.comparator),oR=new tn(ue.comparator);function Pe(...t){let e=oR;for(const n of t)e=e.add(n);return e}const aR=new tn(Fe);function lR(){return aR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function w3(t){return{integerValue:""+t}}function cR(t,e){return F9(e)?w3(e):_3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function uR(t,e,n){return t instanceof Nh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&n1(s)&&(s=r1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nu?b3(t,e):t instanceof ru?T3(t,e):function(i,s){const o=E3(i,s),a=n_(o)+n_(i.Pe);return fm(o)&&fm(i.Pe)?w3(a):_3(i.serializer,a)}(t,e)}function dR(t,e,n){return t instanceof nu?b3(t,e):t instanceof ru?T3(t,e):n}function E3(t,e){return t instanceof Oh?function(r){return fm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Nh extends Tf{}class nu extends Tf{constructor(e){super(),this.elements=e}}function b3(t,e){const n=C3(e);for(const r of t.elements)n.some(i=>li(i,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends Tf{constructor(e){super(),this.elements=e}}function T3(t,e){let n=C3(e);for(const r of t.elements)n=n.filter(i=>!li(i,r));return{arrayValue:{values:n}}}class Oh extends Tf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function n_(t){return Lt(t.integerValue||t.doubleValue)}function C3(t){return i1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?ja(r.elements,i.elements,li):r instanceof Oh&&i instanceof Oh?li(r.Pe,i.Pe):r instanceof Nh&&i instanceof Nh}(t.transform,e.transform)}class fR{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cf{}function S3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I3(t.key,si.none()):new bu(t.key,t.data,si.none());{const n=t.data,r=Pn.empty();let i=new tn(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ks(t.key,r,new Wn(i.toArray()),si.none())}}function pR(t,e,n){t instanceof bu?function(i,s,o){const a=i.value.clone(),l=i_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(i,s,o){if(!qd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=i_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(A3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof bu?function(s,o,a,l){if(!qd(s.precondition,o))return a;const u=s.value.clone(),d=s_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(s,o,a,l){if(!qd(s.precondition,o))return a;const u=s_(s.fieldTransforms,l,o),d=o.data;return d.setAll(A3(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return qd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function mR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=E3(r.transform,i||null);s!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,s))}return n||null}function r_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ja(r,i,(s,o)=>hR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends Cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function i_(t,e,n){const r=new Map;tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,dR(o,a,n[i]))}return r}function s_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uR(s,o,e))}return r}class I3 extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&pR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=v3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=S3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>r_(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>r_(n,r))}}class a1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tt(e.mutations.length===r.length);let i=function(){return sR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new a1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ne;function wR(t){switch(t){default:return ge();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function x3(t){if(t===void 0)return Ui("GRPC error has no .code"),B.UNKNOWN;switch(t){case Rt.OK:return B.OK;case Rt.CANCELLED:return B.CANCELLED;case Rt.UNKNOWN:return B.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return B.INTERNAL;case Rt.UNAVAILABLE:return B.UNAVAILABLE;case Rt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Rt.NOT_FOUND:return B.NOT_FOUND;case Rt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Rt.ABORTED:return B.ABORTED;case Rt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Rt.DATA_LOSS:return B.DATA_LOSS;default:return ge()}}(Ne=Rt||(Rt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new yo([4294967295,4294967295],0);function o_(t){const e=ER().encode(t),n=new KE;return n.update(e),new Uint8Array(n.digest())}function a_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yo([n,r],0),new yo([i,s],0)]}class l1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yo.fromNumber(r)));return i.compare(bR)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=o_(e),[r,i]=a_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new l1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=o_(e),[r,i]=a_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sf(_e.min(),i,new _t(Fe),$i(),Pe())}}class Tu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class k3{constructor(e,n){this.targetId=e,this.me=n}}class R3{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l_{constructor(){this.fe=0,this.ge=u_(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Tu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=u_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TR{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=c_(),this.Qe=new _t(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(mm(s))if(r===0){const o=new ue(s.path);this.Ue(n,o,mn.newNoDocument(o,_e.min()))}else tt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Lo(r).toUint8Array()}catch(l){if(l instanceof i3)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l1(o,i,s)}catch(l){return Fa(l instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&mm(a.target)){const l=new ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,mn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sf(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=c_(),this.Qe=new _t(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new l_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new l_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function c_(){return new _t(ue.comparator)}function u_(){return new _t(ue.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class IR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xR(t,e){return Dh(t,e.toTimestamp())}function oi(t){return tt(!!t),_e.fromTimestamp(function(n){const r=Os(n);return new Ft(r.seconds,r.nanos)}(t))}function c1(t,e){return _m(t,e).canonicalString()}function _m(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function L3(t){const e=lt.fromString(t);return tt(V3(e)),e}function wm(t,e){return c1(t.databaseId,e.path)}function Hp(t,e){const n=L3(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(O3(n))}function N3(t,e){return c1(t.databaseId,e)}function kR(t){const e=L3(t);return e.length===4?lt.emptyPath():O3(e)}function Em(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O3(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d_(t,e,n){return{name:wm(t,e),fields:n.value.mapValue.fields}}function RR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(tt(d===void 0||typeof d=="string"),yn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:x3(u.code);return new re(d,u.message||"")}(o);n=new R3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hp(t,r.document.name),s=oi(r.document.updateTime),o=r.document.createTime?oi(r.document.createTime):_e.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Gd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hp(t,r.document),s=r.readTime?oi(r.readTime):_e.min(),o=mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hp(t,r.document),s=r.removedTargetIds||[];n=new Gd([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _R(i,s),a=r.targetId;n=new k3(a,o)}}return n}function PR(t,e){let n;if(e instanceof bu)n={update:d_(t,e.key,e.value)};else if(e instanceof I3)n={delete:wm(t,e.key)};else if(e instanceof Ks)n={update:d_(t,e.key,e.data),updateMask:FR(e.fieldMask)};else{if(!(e instanceof gR))return ge();n={verify:wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function LR(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?oi(i.updateTime):oi(s);return o.isEqual(_e.min())&&(o=oi(s)),new fR(o,i.transformResults||[])}(n,e))):[]}function NR(t,e){return{documents:[N3(t,e.path)]}}function OR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N3(t,i);const s=function(u){if(u.length!==0)return M3(Fr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ta(p.field),direction:VR(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function DR(t){let e=kR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=D3(h);return p instanceof Fr&&l3(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new tu(na(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,wf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Lh(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Lh(g,p)}(n.endAt)),eR(e,i,o,s,a,"F",l,u)}function MR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>D3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function VR(t){return CR[t]}function UR(t){return SR[t]}function $R(t){return AR[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return Jt.fromServerFormat(t.fieldPath)}function M3(t){return t instanceof Ot?function(n){if(n.op==="=="){if(Y2(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(X2(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y2(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(X2(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:UR(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>M3(i));return r.length===1?r[0]:{compositeFilter:{op:$R(n.op),filters:r}}}(t):ge()}function FR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.ct=e}}function zR(t){const e=DR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this._n=new HR}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ns.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class HR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ha(0)}static Ln(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.changes=new pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ec(r.mutation,i,Wn.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$i();const o=wc(),a=function(){return wc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ks)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ec(d.mutation,u,d.mutation.getFieldMask(),Ft.now())):o.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new qR(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wc();let i=new _t((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Wn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=v3();d.forEach(p=>{if(!s.has(p)){const g=S3(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(po());let a=-1,l=s;return o.next(u=>H.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Pe())).next(d=>({batchId:a,changes:y3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nc();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(h,p){return new fl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,mn.newInvalidDocument(d)))});let a=nc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Ec(d.mutation,u,Wn.empty(),Ft.now()),bf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:oi(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zR(i.bundledQuery),readTime:oi(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.overlays=new _t(ue.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=po();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=po(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=po(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=po(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vR(n,r));let s=this.hr.get(n);s===void 0&&(s=Pe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.Pr=new tn(Ht.Ir),this.Tr=new tn(Ht.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ht(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ue(new lt([])),r=new Ht(n,e),i=new Ht(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ue(new lt([])),r=new Ht(n,e),i=new Ht(n,e+1);let s=Pe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ht(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ue.comparator(e.key,n.key)||Fe(e.pr,n.pr)}static Er(e,n){return Fe(e.pr,n.pr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tn(Ht.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Fe);return n.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new ue(s),0);let a=new tn(Fe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),H.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){tt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,i=>{const s=new Ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ht(n,0),i=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.vr=e,this.docs=function(){return new _t(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$i();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||M9(D9(d),r)<=0||(i.has(d.key)||bf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZR(this)}getSize(e){return H.resolve(this.size)}}class ZR extends WR{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.persistence=e,this.Mr=new pl(n=>s1(n),o1),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new u1,this.targetCount=0,this.Lr=Ha.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.Br={},this.overlays={},this.kr=new t1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JR(this),this.indexManager=new BR,this.remoteDocumentCache=function(i){return new YR(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new jR(n),this.$r=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new XR(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new tP(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class tP extends U9{constructor(e){super(),this.currentSequenceNumber=e}}class d1{constructor(e){this.persistence=e,this.zr=new u1,this.jr=null}static Hr(e){return new d1(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const i=ue.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Wx()?8:$9(rn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nP;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(zl()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(zl()<=Le.DEBUG&&se("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(zl()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(n))):H.resolve())}ji(e,n){if(t_(n))return H.resolve(null);let r=ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ym(n,null,"F"),r=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,ym(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return t_(n)||i.isEqual(_e.min())?H.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?H.resolve(null):(zl()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.es(e,o,n,O9(i,-1)).next(a=>a))})}Zi(e,n){let r=new tn(m3(e));return n.forEach((i,s)=>{bf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return zl()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ea(n)),this.zi.getDocumentsMatchingQuery(e,n,Ns.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _t(Fe),this.rs=new pl(s=>s1(s),o1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GR(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function sP(t,e,n,r){return new iP(t,e,n,r)}async function U3(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Pe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function oP(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=H.resolve();return p.forEach(y=>{g=g.next(()=>d.getEntry(l,y)).next(E=>{const x=u.docVersions.get(y);tt(x!==null),E.version.compareTo(x)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $3(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function aP(t,e){const n=we(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(yn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(E,x,w){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=$i(),u=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(lP(s,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(_e.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function lP(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$i();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function cP(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uP(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bm(t,e,n){const r=we(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eu(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function h_(t,e,n){const r=we(t);let i=_e.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=we(l),p=h.rs.get(d);return p!==void 0?H.resolve(h.ns.get(p)):h.Qr.getTargetData(u,d)}(r,o,ii(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Pe())).next(a=>(dP(r,nR(e),a),{documents:a,hs:s})))}function dP(t,e,n){let r=t.ss.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class f_{constructor(){this.activeTargetIds=lR()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hP{constructor(){this.no=new f_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new f_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Wp(){return vd===null?vd=function(){return 268435456+Math.round(2147483648*Math.random())}():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class gP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Wp(),l=this.vo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(d=>(se("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=pP[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Wp();return new Promise((o,a)=>{const l=new QE;l.setWithCredentials(!0),l.listenOnce(YE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hd.NO_ERROR:const d=l.getResponseJson();se(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Hd.TIMEOUT:se(hn,`RPC '${e}' ${s} timed out`),a(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const h=l.getStatus();if(se(hn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(g.status);a(new re(y,g.message))}else a(new re(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(B.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{se(hn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);se(hn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=Wp(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e3(),a=JE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new XE({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");se(hn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const y=new mP({lo:x=>{g?se(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(se(hn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),se(hn,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},ho:()=>h.close()}),E=(x,w,v)=>{x.listen(w,A=>{try{v(A)}catch(M){setTimeout(()=>{throw M},0)}})};return E(h,tc.EventType.OPEN,()=>{g||(se(hn,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),E(h,tc.EventType.CLOSE,()=>{g||(g=!0,se(hn,`RPC '${e}' stream ${i} transport closed`),y.po())}),E(h,tc.EventType.ERROR,x=>{g||(g=!0,Fa(hn,`RPC '${e}' stream ${i} transport errored:`,x),y.po(new re(B.UNAVAILABLE,"The operation could not be completed")))}),E(h,tc.EventType.MESSAGE,x=>{var w;if(!g){const v=x.data[0];tt(!!v);const A=v,M=A.error||((w=A[0])===null||w===void 0?void 0:w.error);if(M){se(hn,`RPC '${e}' stream ${i} received error:`,M);const F=M.status;let P=function(T){const I=Rt[T];if(I!==void 0)return x3(I)}(F),C=M.message;P===void 0&&(P=B.INTERNAL,C="Unknown error status: "+F+" with message "+M.message),g=!0,y.po(new re(P,C)),h.close()}else se(hn,`RPC '${e}' stream ${i} received:`,v),y.yo(v)}}),E(a,ZE.STAT_EVENT,x=>{x.stat===dm.PROXY?se(hn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===dm.NOPROXY&&se(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new IR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new F3(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yP extends j3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=RR(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?oi(o.readTime):_e.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Em(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=mm(l)?{documents:NR(s,l)}:{query:OR(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=P3(s,o.resumeToken);const u=vm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Dh(s,o.snapshotVersion.toTimestamp());const u=vm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=MR(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Em(this.serializer),n.removeTarget=e,this.i_(n)}}class vP extends j3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=LR(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.A_(r,n)}return tt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Em(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PR(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,_m(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,_m(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class wP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ui(n),this.y_=!1):se("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{jo(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.M_.add(4),await Cu(u),u.N_.set("Unknown"),u.M_.delete(4),await If(u)}(this))})}),this.N_=new wP(r,i)}}async function If(t){if(jo(t))for(const e of t.x_)await e(!0)}async function Cu(t){for(const e of t.x_)await e(!1)}function z3(t,e){const n=we(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),g1(n)?m1(n):ml(n).Xo()&&p1(n,e))}function f1(t,e){const n=we(t),r=ml(n);n.F_.delete(e),r.Xo()&&B3(n,e),n.F_.size===0&&(r.Xo()?r.n_():jo(n)&&n.N_.set("Unknown"))}function p1(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).P_(e)}function B3(t,e){t.L_.xe(e),ml(t).I_(e)}function m1(t){t.L_=new TR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.N_.w_()}function g1(t){return jo(t)&&!ml(t).Zo()&&t.F_.size>0}function jo(t){return we(t).M_.size===0}function H3(t){t.L_=void 0}async function bP(t){t.N_.set("Online")}async function TP(t){t.F_.forEach((e,n)=>{p1(t,e)})}async function CP(t,e){H3(t),g1(t)?(t.N_.D_(e),m1(t)):t.N_.set("Unknown")}async function SP(t,e,n){if(t.N_.set("Online"),e instanceof R3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(t,r)}else if(e instanceof Gd?t.L_.Ke(e):e instanceof k3?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{const r=await $3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),B3(s,l);const h=new fs(d.target,l,u,d.sequenceNumber);p1(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Mh(t,r)}}async function Mh(t,e,n){if(!Eu(e))throw e;t.M_.add(1),await Cu(t),t.N_.set("Offline"),n||(n=()=>$3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await If(t)})}function W3(t,e){return e().catch(n=>Mh(t,n,e))}async function xf(t){const e=we(t),n=Ds(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;AP(e);)try{const i=await cP(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,IP(e,i)}catch(i){await Mh(e,i)}q3(e)&&G3(e)}function AP(t){return jo(t)&&t.v_.length<10}function IP(t,e){t.v_.push(e);const n=Ds(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function q3(t){return jo(t)&&!Ds(t).Zo()&&t.v_.length>0}function G3(t){Ds(t).start()}async function xP(t){Ds(t).V_()}async function kP(t){const e=Ds(t);for(const n of t.v_)e.d_(n.mutations)}async function RP(t,e,n){const r=t.v_.shift(),i=a1.from(r,e,n);await W3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xf(t)}async function PP(t,e){e&&Ds(t).E_&&await async function(r,i){if(function(o){return wR(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();Ds(r).t_(),await W3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xf(r)}}(t,e),q3(t)&&G3(t)}async function m_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=jo(n);n.M_.add(3),await Cu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await If(n)}async function LP(t,e){const n=we(t);e?(n.M_.delete(2),await If(n)):e||(n.M_.add(2),await Cu(n),n.N_.set("Unknown"))}function ml(t){return t.B_||(t.B_=function(n,r,i){const s=we(n);return s.f_(),new yP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:bP.bind(null,t),To:TP.bind(null,t),Ao:CP.bind(null,t),h_:SP.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),g1(t)?m1(t):t.N_.set("Unknown")):(await t.B_.stop(),H3(t))})),t.B_}function Ds(t){return t.k_||(t.k_=function(n,r,i){const s=we(n);return s.f_(),new vP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:xP.bind(null,t),Ao:PP.bind(null,t),R_:kP.bind(null,t),A_:RP.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await xf(t)):(await t.k_.stop(),t.v_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new y1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v1(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Eu(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new xa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.q_=new _t(ue.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ge():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wa(e,n,xa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class OP{constructor(){this.queries=new pl(e=>p3(e),Ef),this.onlineState="Unknown",this.z_=new Set}}async function DP(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new NP,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=v1(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&_1(n)}async function MP(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VP(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&_1(n)}function UP(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function _1(t){t.z_.forEach(e=>{e.next()})}var Tm,y_;(y_=Tm||(Tm={})).J_="default",y_.Cache="cache";class $P{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.key=e}}class Q3{constructor(e){this.key=e}}class FP{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Pe(),this.mutatedKeys=Pe(),this.Ia=m3(e),this.Ta=new xa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new g_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=bf(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?y!==E&&(r.track({type:3,doc:g}),x=!0):this.Ra(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Ia(g,l)>0||u&&this.Ia(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,h)=>function(g,y){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(g)-E(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Wa(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new g_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Pe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Q3(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new K3(r))}),n}pa(e){this.la=e.hs,this.Pa=Pe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Wa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class jP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zP{constructor(e){this.key=e,this.wa=!1}}class BP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new pl(a=>p3(a),Ef),this.Da=new Map,this.Ca=new Set,this.va=new _t(ue.comparator),this.Fa=new Map,this.Ma=new u1,this.xa={},this.Oa=new Map,this.Na=Ha.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function HP(t,e,n=!0){const r=tb(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await X3(r,e,n,!0),i}async function WP(t,e){const n=tb(t);await X3(n,e,!0,!1)}async function X3(t,e,n,r){const i=await uP(t.localStore,ii(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await qP(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&z3(t.remoteStore,i),a}async function qP(t,e,n,r,i){t.Ba=(h,p,g)=>async function(E,x,w,v){let A=x.view.da(w);A.Xi&&(A=await h_(E.localStore,x.query,!1).then(({documents:C})=>x.view.da(C,A)));const M=v&&v.targetChanges.get(x.targetId),F=v&&v.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(A,E.isPrimaryClient,M,F);return __(E,x.targetId,P.fa),P.snapshot}(t,h,p,g);const s=await h_(t.localStore,e,!0),o=new FP(e,s.hs),a=o.da(s.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);__(t,n,u.fa);const d=new jP(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function GP(t,e,n){const r=we(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ef(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&f1(r.remoteStore,i.targetId),Cm(r,i.targetId)}).catch(wu)):(Cm(r,i.targetId),await bm(r.localStore,i.targetId,!0))}async function KP(t,e){const n=we(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),f1(n.remoteStore,r.targetId))}async function QP(t,e,n){const r=nL(t);try{const i=await function(o,a){const l=we(o),u=Ft.now(),d=a.reduce((g,y)=>g.add(y.key),Pe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=$i(),E=Pe();return l.os.getEntries(g,d).next(x=>{y=x,y.forEach((w,v)=>{v.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(x=>{h=x;const w=[];for(const v of a){const A=mR(v,h.get(v.key).overlayedDocument);A!=null&&w.push(new Ks(v.key,A,s3(A.value.mapValue),si.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(x=>{p=x;const w=x.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(g,x.batchId,w)})}).then(()=>({batchId:p.batchId,changes:y3(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new _t(Fe)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Su(r,i.changes),await xf(r.remoteStore)}catch(i){const s=v1(i,"Failed to persist write");n.reject(s)}}async function Y3(t,e){const n=we(t);try{const r=await aP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?tt(o.wa):i.removedDocuments.size>0&&(tt(o.wa),o.wa=!1))}),await Su(n,r,e)}catch(r){await wu(r)}}function v_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(u=!0)}),u&&_1(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XP(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new _t(ue.comparator);o=o.insert(s,mn.newNoDocument(s,_e.min()));const a=Pe().add(s),l=new Sf(_e.min(),new Map,new _t(Fe),o,a);await Y3(r,l),r.va=r.va.remove(s),r.Fa.delete(e),w1(r)}else await bm(r.localStore,e,!1).then(()=>Cm(r,e,n)).catch(wu)}async function YP(t,e){const n=we(t),r=e.batch.batchId;try{const i=await oP(n.localStore,e);J3(n,r,null),Z3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await wu(i)}}async function ZP(t,e,n){const r=we(t);try{const i=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(tt(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);J3(r,e,n),Z3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await wu(i)}}function Z3(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function J3(t,e,n){const r=we(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||eb(t,r)})}function eb(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(f1(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),w1(t))}function __(t,e,n){for(const r of n)r instanceof K3?(t.Ma.addReference(r.key,e),JP(t,r)):r instanceof Q3?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||eb(t,r.key)):ge()}function JP(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(se("SyncEngine","New document in limbo: "+n),t.Ca.add(r),w1(t))}function w1(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ue(lt.fromString(e)),r=t.Na.next();t.Fa.set(r,new zP(n)),t.va=t.va.insert(n,r),z3(t.remoteStore,new fs(ii(h3(n.path)),r,"TargetPurposeLimboResolution",t1.oe))}}async function Su(t,e,n){const r=we(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=h1.Ki(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const d=we(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,p=>H.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>H.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Eu(h))throw h;se("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.ns.get(p),y=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(p,E)}}}(r.localStore,s))}async function eL(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await U3(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new re(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.us)}}function tL(t,e){const n=we(t),r=n.Fa.get(e);if(r&&r.wa)return Pe().add(r.key);{let i=Pe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function tb(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XP.bind(null,e),e.Sa.h_=VP.bind(null,e.eventManager),e.Sa.ka=UP.bind(null,e.eventManager),e}function nL(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZP.bind(null,e),e}class w_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sP(this.persistence,new rP,e.initialUser,this.serializer)}createPersistence(e){return new eP(d1.Hr,this.serializer)}createSharedClientState(e){return new hP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eL.bind(null,this.syncEngine),await LP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OP}()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=function(s){return new gP(s)}(e.databaseInfo);return function(s,o,a,l){return new _P(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new EP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>v_(this.syncEngine,n,0),function(){return p_.D()?new p_:new fP}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new BP(i,s,o,a,l,u);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=we(r);se("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Cu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=n3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aL(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>m_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>m_(e.remoteStore,i)),t._onlineComponents=e}function oL(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function aL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oL(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Gp(t,new w_)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Gp(t,new w_);return t._offlineComponents}async function nb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await E_(t,new rL))),t._onlineComponents}function lL(t){return nb(t).then(e=>e.syncEngine)}async function cL(t){const e=await nb(t),n=e.eventManager;return n.onListen=HP.bind(null,e.syncEngine),n.onUnlisten=GP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KP.bind(null,e.syncEngine),n}function uL(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new iL({next:p=>{o.enqueueAndForget(()=>MP(s,h)),p.fromCache&&l.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new $P(a,d,{includeMetadataChanges:!0,ra:!0});return DP(s,h)}(await cL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dL(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T_(t){if(!ue.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(ue.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function qa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S9;switch(r.type){case"firstParty":return new k9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b_.get(n);r&&(se("ComponentProvider","Removing Datastore"),b_.delete(n),r.terminate())}(this),Promise.resolve()}}function hL(t,e,n,r={}){var i;const s=(t=qa(t,Rf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=$x(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new A9(new t3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class Is extends zo{constructor(e,n,r){super(e,n,h3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new ue(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Bo(t,e,...n){if(t=jt(t),ib("collection","path",e),t instanceof Rf){const r=lt.fromString(e,...n);return C_(r),new Is(t,null,r)}{if(!(t instanceof Gn||t instanceof Is))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return C_(r),new Is(t.firestore,null,r)}}function Pf(t,e,...n){if(t=jt(t),arguments.length===1&&(e=n3.newId()),ib("doc","path",e),t instanceof Rf){const r=lt.fromString(e,...n);return T_(r),new Gn(t,null,new ue(r))}{if(!(t instanceof Gn||t instanceof Is))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return T_(r),new Gn(t.firestore,t instanceof Is?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new F3(this,"async_queue_retry"),this.hu=()=>{const n=qp();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new As;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Eu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=y1.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ge()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Lf extends Rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}function pL(t,e){const n=typeof t=="object"?t:dE(),r=typeof t=="string"?t:"(default)",i=zg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Vx("firestore");s&&hL(i,...s)}return i}function sb(t){return t._firestoreClient||ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ob(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new z9(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(yn.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ga(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^__.*__$/;class gL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class ab{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class T1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new T1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Vh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(lb(this.fu)&&mL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class yL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}Fu(e,n,r,i=!1){return new T1({fu:e,methodName:n,vu:r,path:Jt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new yL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vL(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);S1("Data must be an object, but it was:",o,r);const a=cb(r,o);let l,u;if(s.merge)l=new Wn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Sm(e,h,n);if(!o.contains(p))throw new re(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);db(d,p)||d.push(p)}l=new Wn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new gL(new Pn(a),l,u)}class Of extends E1{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function _L(t,e,n,r){const i=t.Fu(1,e,n);S1("Data must be an object, but it was:",i,r);const s=[],o=Pn.empty();Fo(r,(l,u)=>{const d=A1(e,l,n);u=jt(u);const h=i.Su(d);if(u instanceof Of)s.push(d);else{const p=Au(u,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new Wn(s);return new ab(o,a,i.fieldTransforms)}function wL(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Sm(e,r,n)],l=[i];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Sm(e,s[p])),l.push(s[p+1]);const u=[],d=Pn.empty();for(let p=a.length-1;p>=0;--p)if(!db(u,a[p])){const g=a[p];let y=l[p];y=jt(y);const E=o.Su(g);if(y instanceof Of)u.push(g);else{const x=Au(y,E);x!=null&&(u.push(g),d.set(g,x))}}const h=new Wn(u);return new ab(d,h,o.fieldTransforms)}function EL(t,e,n,r=!1){return Au(n,t.Fu(r?4:3,e))}function Au(t,e){if(ub(t=jt(t)))return S1("Unsupported field value:",e,t),cb(t,e);if(t instanceof E1)return function(r,i){if(!lb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Au(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ft.fromDate(r);return{timestampValue:Dh(i.serializer,s)}}if(r instanceof Ft){const s=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(i.serializer,s)}}if(r instanceof b1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ga)return{bytesValue:P3(i.serializer,r._byteString)};if(r instanceof Gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${kf(r)}`)}(t,e)}function cb(t,e){const n={};return r3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const s=Au(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof b1||t instanceof Ga||t instanceof Gn||t instanceof E1)}function S1(t,e,n){if(!ub(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Sm(t,e,n){if((e=jt(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return A1(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const bL=new RegExp("[~\\*/\\[\\]]");function A1(t,e,n){if(e.search(bL)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new re(B.INVALID_ARGUMENT,a+t+l)}function db(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TL extends hb{data(){return super.data()}}function Df(t,e){return typeof e=="string"?A1(t,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}class fb extends I1{}function Mf(t,e,...n){let r=[];e instanceof I1&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof k1).length,a=s.filter(l=>l instanceof Vf).length;if(o>1||o>0&&a>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vf extends fb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vf(e,n,r)}_apply(e){const n=this._parse(e);return pb(e._query,n),new zo(e.firestore,e.converter,gm(e._query,n))}_parse(e){const n=C1(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){I_(h,d);const g=[];for(const y of h)g.push(A_(l,s,y));p={arrayValue:{values:g}}}else p=A_(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||I_(h,d),p=EL(a,o,h,d==="in"||d==="not-in");return Ot.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x1(t,e,n){const r=e,i=Df("where",t);return Vf._create(i,r,n)}class k1 extends I1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)pb(o,l),o=gm(o,l)}(e._query,n),new zo(e.firestore,e.converter,gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R1 extends fb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R1(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(s,o)}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function SL(t,e="asc"){const n=e,r=Df("orderBy",t);return R1._create(r,n)}function A_(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f3(e)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ue.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Q2(t,new ue(r))}if(n instanceof Gn)return Q2(t,n._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function I_(t,e){if(!Array.isArray(t)||t.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AL{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new b1(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=r1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Os(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);tt(V3(r));const i=new Jc(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xL extends hb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kd extends xL{data(e={}){return super.data(e)}}class kL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new _d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:RL(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class PL extends AL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function Iu(t){t=qa(t,zo);const e=qa(t.firestore,Lf),n=sb(e),r=new PL(e);return CL(t._query),uL(n,t._query).then(i=>new kL(e,r,t,i))}function P1(t,e,n,...r){t=qa(t,Gn);const i=qa(t.firestore,Lf),s=C1(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof Nf?wL(s,"updateDoc",t._key,e,n,r):_L(s,"updateDoc",t._key,e),gb(i,[o.toMutation(t._key,si.exists(!0))])}function mb(t,e){const n=qa(t.firestore,Lf),r=Pf(t),i=IL(t.converter,e);return gb(n,[vL(C1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}function gb(t,e){return function(r,i){const s=new As;return r.asyncQueue.enqueueAndForget(async()=>QP(await lL(r),i,s)),s.promise}(sb(t),e)}(function(e,n=!0){(function(i){hl=i})(ul),Ua(new Io("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lf(new I9(r.getProvider("auth-internal")),new P9(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ss(W2,"4.6.4",e),Ss(W2,"4.6.4","esm2017")})();const LL={apiKey:"AIzaSyBdGUifgqve2r3-VImFab7_rSGd4jB1G-0",authDomain:"photogram-a78f5.firebaseapp.com",projectId:"photogram-a78f5",storageBucket:"photogram-a78f5.appspot.com",messagingSenderId:"515394875975",appId:"1:515394875975:web:9cb31f91ed9bc8df057762"},yb=uE(LL),xu=GE(yb),ci=pL(yb),vb=(t,e)=>ak(xu,t,e),_b=(t,e)=>ok(xu,t,e),wb=()=>{hk(xu)},Eb=()=>{const t=new Ti;return Nk(xu,t)},bb=t=>(console.log("The user profile info is: ",t),ck(t.user,{displayName:t.displayName,photoURL:t.photoURL})),Tb=O.createContext({user:null,logIn:vb,signUp:_b,logOut:wb,googleSignIn:Eb,updateProfileInfo:bb}),NL=({children:t})=>{const[e,n]=O.useState(null);O.useEffect(()=>{const i=DE(xu,s=>(s&&n(s),()=>{i()}))});const r={user:e,logIn:vb,signUp:_b,logOut:wb,googleSignIn:Eb,updateProfileInfo:bb};return S.jsx(Tb.Provider,{value:r,children:t})},di=()=>O.useContext(Tb),OL=[{name:"Home",link:"/",icon:ns.home},{name:"Add Photos",link:"/create-post",icon:ns.add},{name:"My Photos",link:"/my-photos",icon:ns.myphoto},{name:"Profile",link:"/profile",icon:ns.profile},{name:"Notifications",link:"#",icon:ns.notification},{name:"Direct",link:"#",icon:ns.direct},{name:"Settings",link:"#",icon:ns.settings}];function DL({}){const{pathname:t}=Ws(),{logOut:e}=di();return S.jsxs("nav",{className:"max-w-sm w-full h-screen flex flex-col space-x-7 relative",children:[S.jsx("div",{className:"flex justify-center m-5",children:S.jsx("div",{className:"text-lg text-white",children:"PhotoGram"})}),OL.map(n=>S.jsx(Kc,{to:n.link,className:Xn(tm({variant:"default"}),t===n.link?"bg-white text-white-800 rounded-l-full hover:bg-white":"bg-transparent rounded-l-full hover:bg-slate-950 duration-300 hover:text-white","justify-start mb-2"),children:S.jsxs("div",{className:"flex",children:[S.jsx("span",{children:S.jsx("img",{src:n.icon,className:"w-5 h-5 mr-2",style:{filter:`${t===n.link?"invert(0)":"invert(1)"}`}})}),S.jsx("span",{children:n.name})]})},n.name)),S.jsx(Kc,{to:"/login",onClick:e,className:Xn(tm({variant:"default"}),t==="/login"?"bg-white text-white-800 rounded-l-full hover:bg-white":"bg-transparent rounded-l-full hover:bg-slate-950 duration-300 hover:text-white","justify-start"),children:S.jsxs("div",{className:"flex",children:[S.jsx("span",{children:S.jsx("img",{src:ns.logout,className:"w-5 h-5 mr-2",style:{filter:`${t==="/login"?"invert(0)":"invert(1)"}`}})}),S.jsx("span",{children:"Logout"})]})})]})}const ML="/assets/image1-CoqYZn9M.jpg",VL="/assets/image2-n_CPjltO.jpg",UL="/assets/image3-DgA0XuPA.jpg",$L="/assets/image4-C82QDRdx.jpg",FL="/assets/image5-DZOQ_6Ay.jpg",jL="/assets/image6-D7ViGmDS.jpg",zL="/assets/image7-Bo2YHah9.jpg",BL="/assets/avatar-YAMwZbe4.png",Ze={img1:ML,img2:VL,img3:UL,img4:$L,img5:FL,img6:jL,img7:zL,avtDefault:BL},Uf="users",HL=t=>{try{return mb(Bo(ci,Uf),t)}catch(e){console.log(e)}},WL=async t=>{try{const e=Mf(Bo(ci,Uf),x1("userId","==",t)),n=await Iu(e);let r={};return n.size>0?(n.forEach(i=>{const s=i.data();r={id:i.id,...s}}),r):(console.log("No such document"),null)}catch(e){console.log(e)}},qL=async(t,e)=>{const n=Pf(ci,Uf,t);return P1(n,{...e})},GL=async t=>{try{const e=await Iu(Bo(ci,Uf)),n=[];if(e.size>0)return e.forEach(r=>{const i=r.data(),s={id:r.id,...i};n.push(s)}),n.filter(r=>r.userId!=t);console.log("No such documents")}catch(e){console.log(e)}};function KL({}){const{user:t}=di(),[e,n]=O.useState([]),r=async s=>{const o=await GL(s)||[];n(o)};O.useEffect(()=>{(t==null?void 0:t.uid)!=null&&r(t.uid)},[]);const i=()=>e.map((s,o)=>S.jsxs("div",{className:"flex flex-row items-center justify-start border-gray-400 mb-4",children:[S.jsx("span",{className:"mr-2",children:S.jsx("img",{src:s.photoURL?s.photoURL:Ze.avtDefault,alt:"avatar",className:"size-10 rounded-full border-2 border-yellow-200 object-cover"})}),S.jsx("span",{className:"text-xs",children:s.displayName?s.displayName:"Guest_User"}),S.jsx($r,{className:"h-6 text-xs p-3 py-2 bg-slate-700 last-of-type:ml-auto",children:"Follow"})]},o));return S.jsxs("div",{className:"text-white py-8 px-3",children:[S.jsx(Kc,{to:"/profile",children:S.jsxs("div",{className:"flex flex-row items-center border-b border-gray-400 pb-4 mb-4 cursor-pointer",children:[S.jsx("span",{className:"mr-2",children:S.jsx("img",{src:t!=null&&t.photoURL?t.photoURL:Ze.avtDefault,alt:"avatar",className:"size-10 rounded-full border-2 border-yellow-200 object-cover"})}),S.jsx("span",{className:"text-xs",children:t!=null&&t.displayName?t.displayName:"Guest_User"})]})}),S.jsx("h3",{className:"text-sm text-slate-300",children:"Suggested Friends"}),S.jsx("div",{className:"my-4",children:e.length>0?i():""})]})}function ku({children:t}){return S.jsxs("div",{className:"flex bg-white",children:[S.jsx("aside",{className:"flex gap-x-4 bg-slate-800 fixed top-0 left-0 lg:w-60 h-screen z-40",children:S.jsx(DL,{})}),S.jsx("div",{className:"flex-1 lg:ml-60 ml-36 lg:mr-60 p-8",children:t}),S.jsx("aside",{className:"lg:w-60 h-screen lg:block hidden bg-slate-800 fixed top-0 right-0 z-40",children:S.jsx(KL,{})})]})}const $f=O.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$f.displayName="Card";const Ff=O.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xn("flex flex-col space-y-1.5 p-6",t),...e}));Ff.displayName="CardHeader";const jf=O.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:Xn("text-2xl font-semibold leading-none tracking-tight",t),...e}));jf.displayName="CardTitle";const L1=O.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:Xn("text-sm text-muted-foreground",t),...e}));L1.displayName="CardDescription";const zf=O.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xn("p-6 pt-0",t),...e}));zf.displayName="CardContent";const Bf=O.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Xn("flex items-center p-6 pt-0",t),...e}));Bf.displayName="CardFooter";/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...XL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cb("lucide",i),...a},[...o.map(([u,d])=>O.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=(t,e)=>{const n=O.forwardRef(({className:r,...i},s)=>O.createElement(YL,{ref:s,iconNode:e,className:Cb(`lucide-${QL(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=Ru("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ru("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=Ru("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Ru("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Ru("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ka="posts",nN=t=>mb(Bo(ci,Ka),t),rN=async()=>{try{const t=Mf(Bo(ci,Ka),SL("date","desc")),e=await Iu(t),n=[];if(e.size>0)return e.forEach(r=>{const i=r.data(),s={id:r.id,...i};n.push(s)}),n;console.log("No such document")}catch(t){console.log(t)}},Sb=t=>{const e=Mf(Bo(ci,Ka),x1("userId","==",t));return Iu(e)},iN=(t,e,n)=>{const r=Pf(ci,Ka,t);return P1(r,{likes:n,userlikes:e})},sN=async t=>{var r;const e=Mf(Bo(ci,Ka),x1("userId","==",(r=t.user)==null?void 0:r.uid)),n=await Iu(e);n.size>0?n.forEach(i=>{const s=Pf(ci,Ka,i.id);P1(s,{username:t.displayName,photoURL:t.photoURL})}):console.log("The user doesn't have anu post")};function oN({data:t}){var s;const{user:e}=di(),[n,r]=O.useState({likes:t.likes,isLike:!!((s=t.userlikes)!=null&&s.includes(e.uid))}),i=async o=>{var a,l;r({likes:o?n.likes+1:n.likes-1,isLike:!n.isLike}),o?(a=t.userlikes)==null||a.push(e.uid):(l=t.userlikes)==null||l.splice(t.userlikes.indexOf(e.uid),1),await iN(t.id,t.userlikes,o?n.likes+1:n.likes-1)};return S.jsxs($f,{className:"mb-6",children:[S.jsx(Ff,{className:"flex flex-col p-3",children:S.jsxs(jf,{className:"flex justify-start items-center text-sm text-center",children:[S.jsx("span",{className:"mr-2",children:S.jsx("img",{className:"size-10 border-2 border-slate-800 rounded-full object-cover",src:t.photoURL})}),S.jsx("span",{children:t.username})]})}),S.jsx(zf,{className:"p-0",children:S.jsx("img",{src:t.photos?t.photos[0].cdnUrl:""})}),S.jsxs(Bf,{className:"flex flex-col p-3 mx-1",children:[S.jsxs("div",{className:"w-full flex justify-between mb-3",children:[S.jsx(N1,{className:Xn("stroke-slate-600","cursor-pointer",n.isLike?"fill-red-500 stroke-transparent":"fill-none"),onClick:()=>i(!n.isLike)}),S.jsx(JL,{})]}),S.jsxs("div",{className:"w-full text-sm font-medium",children:[n.likes," Likes"]}),S.jsx("div",{className:"w-full text-sm",children:t.caption})]})]})}function aN(){return S.jsxs("div",{className:"flex justify-between",children:[S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img1,alt:Ze.img1}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img2,alt:Ze.img2}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img3,alt:Ze.img3}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img4,alt:Ze.img4}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img5,alt:Ze.img5}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img6,alt:Ze.img6}),S.jsx("img",{className:"size-20 border-4 border-slate-800 rounded-full object-cover",src:Ze.img7,alt:Ze.img7})]})}const Li=O.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:Xn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Li.displayName="Input";function lN({}){const{user:t}=di(),[e,n]=O.useState([]),r=async()=>{const s=await rN()||[];console.log("Array response: ",s),n(s)};O.useEffect(()=>{t!=null&&r()},[]);const i=()=>e.map(s=>S.jsx(oN,{data:s},s.id));return S.jsx(ku,{children:S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("div",{className:"w-full relative mb-6 text-2xl text-gray-600",children:[S.jsx(Li,{className:"h-10 border-2 border-gray-300 bg-white px-5 pr-16 rounded-sm text-base focus:outline",placeholder:"search",type:"search",name:"search"}),S.jsx($r,{type:"submit",className:"absolute right-1 top-0 bg-transparent",children:S.jsx(tN,{className:"size-5 text-gray-400"})})]}),S.jsxs("div",{className:"mb-5 overflow-y-auto",children:[S.jsx("h2",{className:"mb-5",children:"Stories"}),S.jsx(aN,{})]}),S.jsxs("div",{className:"mb-5",children:[S.jsx("h2",{className:"mb-5",children:"Feed"}),S.jsx("div",{className:"w-full flex justify-center",children:S.jsx("div",{className:"max-w-sm flex flex-col rounded-sm overflow-hidden",children:e?i():S.jsx("div",{children:"...loading"})})})]})]})})}var cN=Object.defineProperty,uN=(t,e,n)=>e in t?cN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O1=(t,e,n)=>(uN(t,typeof e!="symbol"?e+"":e,n),n);function dN(t){let e=n=>{var r;for(let i in n)((r=n[i])==null?void 0:r.constructor)===Object&&(n[i]=e(n[i]));return{...n}};return e(t)}var He=class{constructor(t){t.constructor===Object?this.store=dN(t):(this._storeIsProxy=!0,this.store=t),this.callbackMap=Object.create(null)}static warn(t,e){console.warn(`Symbiote Data: cannot ${t}. Prop name: `+e)}read(t){return!this._storeIsProxy&&!this.store.hasOwnProperty(t)?(He.warn("read",t),null):this.store[t]}has(t){return this._storeIsProxy?this.store[t]!==void 0:this.store.hasOwnProperty(t)}add(t,e,n=!1){!n&&Object.keys(this.store).includes(t)||(this.store[t]=e,this.notify(t))}pub(t,e){if(!this._storeIsProxy&&!this.store.hasOwnProperty(t)){He.warn("publish",t);return}this.store[t]=e,this.notify(t)}multiPub(t){for(let e in t)this.pub(e,t[e])}notify(t){this.callbackMap[t]&&this.callbackMap[t].forEach(e=>{e(this.store[t])})}sub(t,e,n=!0){return!this._storeIsProxy&&!this.store.hasOwnProperty(t)?(He.warn("subscribe",t),null):(this.callbackMap[t]||(this.callbackMap[t]=new Set),this.callbackMap[t].add(e),n&&e(this.store[t]),{remove:()=>{this.callbackMap[t].delete(e),this.callbackMap[t].size||delete this.callbackMap[t]},callback:e})}static registerCtx(t,e=Symbol()){let n=He.globalStore.get(e);return n?console.warn('State: context UID "'+e+'" already in use'):(n=new He(t),He.globalStore.set(e,n)),n}static deleteCtx(t){He.globalStore.delete(t)}static getCtx(t,e=!0){return He.globalStore.get(t)||(e&&console.warn('State: wrong context UID - "'+t+'"'),null)}};He.globalStore=new Map;var Se=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),Ab="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",hN=Ab.length-1,Pu=class{static generate(t="XXXXXXXXX-XXX"){let e="";for(let n=0;n<t.length;n++)e+=t[n]==="-"?t[n]:Ab.charAt(Math.random()*hN);return e}};function Ib(t,e,n){let r=!0,i,s=e.split(".");return s.forEach((o,a)=>{a<s.length-1?t=t[o]:i=o}),t?t[i]=n:r=!1,r}function fN(t){return t.split("-").map((e,n)=>e&&n?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,n)=>e&&n?e.toUpperCase():e).join("")}function pN(t,e){[...t.querySelectorAll(`[${Se.REPEAT_ATTR}]`)].forEach(n=>{let r=n.getAttribute(Se.REPEAT_ITEM_TAG_ATTR),i;if(r&&(i=window.customElements.get(r)),!i){i=class extends e.BaseComponent{constructor(){super(),r||(this.style.display="contents")}};let o=n.innerHTML;i.template=o,i.reg(r)}for(;n.firstChild;)n.firstChild.remove();let s=n.getAttribute(Se.REPEAT_ATTR);e.sub(s,o=>{if(!o){for(;n.firstChild;)n.firstChild.remove();return}let a=[...n.children],l,u=d=>{d.forEach((p,g)=>{if(a[g])if(a[g].set$)setTimeout(()=>{a[g].set$(p)});else for(let y in p)a[g][y]=p[y];else{l||(l=new DocumentFragment);let y=new i;Object.assign(y.init$,p),l.appendChild(y)}}),l&&n.appendChild(l);let h=a.slice(d.length,a.length);for(let p of h)p.remove()};if(o.constructor===Array)u(o);else if(o.constructor===Object){let d=[];for(let h in o){let p=o[h];Object.defineProperty(p,"_KEY_",{value:h,enumerable:!0}),d.push(p)}u(d)}else console.warn("Symbiote repeat data type error:"),console.log(o)}),n.removeAttribute(Se.REPEAT_ATTR),n.removeAttribute(Se.REPEAT_ITEM_TAG_ATTR)})}var x_="__default__";function mN(t,e){if(e.shadowRoot)return;let n=[...t.querySelectorAll("slot")];if(!n.length)return;let r={};n.forEach(i=>{let s=i.getAttribute("name")||x_;r[s]={slot:i,fr:document.createDocumentFragment()}}),e.initChildren.forEach(i=>{var s;let o=x_;i instanceof Element&&i.hasAttribute("slot")&&(o=i.getAttribute("slot"),i.removeAttribute("slot")),(s=r[o])==null||s.fr.appendChild(i)}),Object.values(r).forEach(i=>{if(i.fr.childNodes.length)i.slot.parentNode.replaceChild(i.fr,i.slot);else if(i.slot.childNodes.length){let s=document.createDocumentFragment();s.append(...i.slot.childNodes),i.slot.parentNode.replaceChild(s,i.slot)}else i.slot.remove()})}function gN(t,e){[...t.querySelectorAll(`[${Se.EL_REF_ATTR}]`)].forEach(n=>{let r=n.getAttribute(Se.EL_REF_ATTR);e.ref[r]=n,n.removeAttribute(Se.EL_REF_ATTR)})}function yN(t,e){[...t.querySelectorAll(`[${Se.BIND_ATTR}]`)].forEach(n=>{let i=n.getAttribute(Se.BIND_ATTR).split(";");[...n.attributes].forEach(s=>{if(s.name.startsWith("-")&&s.value){let o=fN(s.name.replace("-",""));i.push(o+":"+s.value),n.removeAttribute(s.name)}}),i.forEach(s=>{if(!s)return;let o=s.split(":").map(d=>d.trim()),a=o[0],l;a.indexOf(Se.ATTR_BIND_PRFX)===0&&(l=!0,a=a.replace(Se.ATTR_BIND_PRFX,""));let u=o[1].split(",").map(d=>d.trim());for(let d of u){let h;d.startsWith("!!")?(h="double",d=d.replace("!!","")):d.startsWith("!")&&(h="single",d=d.replace("!","")),e.sub(d,p=>{h==="double"?p=!!p:h==="single"&&(p=!p),l?(p==null?void 0:p.constructor)===Boolean?p?n.setAttribute(a,""):n.removeAttribute(a):n.setAttribute(a,p):Ib(n,a,p)||(n[Se.SET_LATER_KEY]||(n[Se.SET_LATER_KEY]=Object.create(null)),n[Se.SET_LATER_KEY][a]=p)})}}),n.removeAttribute(Se.BIND_ATTR)})}var Qd="{{",ic="}}",vN="skip-text";function _N(t){let e,n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:i=>{var s;return!((s=i.parentElement)!=null&&s.hasAttribute(vN))&&i.textContent.includes(Qd)&&i.textContent.includes(ic)&&1}});for(;e=r.nextNode();)n.push(e);return n}var wN=function(t,e){_N(t).forEach(r=>{let i=[],s;for(;r.textContent.includes(ic);)r.textContent.startsWith(Qd)?(s=r.textContent.indexOf(ic)+ic.length,r.splitText(s),i.push(r)):(s=r.textContent.indexOf(Qd),r.splitText(s)),r=r.nextSibling;i.forEach(o=>{let a=o.textContent.replace(Qd,"").replace(ic,"");o.textContent="",e.sub(a,l=>{o.textContent=l})})})},EN=[pN,mN,gN,yN,wN],Uh="'",Qa='"',bN=/\\([0-9a-fA-F]{1,6} ?)/g;function TN(t){return(t[0]===Qa||t[0]===Uh)&&(t[t.length-1]===Qa||t[t.length-1]===Uh)}function CN(t){return(t[0]===Qa||t[0]===Uh)&&(t=t.slice(1)),(t[t.length-1]===Qa||t[t.length-1]===Uh)&&(t=t.slice(0,-1)),t}function SN(t){let e="",n="";for(var r=0;r<t.length;r++){const i=t[r+1];t[r]==="\\"&&i==='"'?(e+='\\"',r++):t[r]==='"'&&n!=="\\"?e+='\\"':e+=t[r],n=t[r]}return e}function AN(t){let e=t;TN(t)&&(e=CN(e),e=e.replace(bN,(n,r)=>String.fromCodePoint(parseInt(r.trim(),16))),e=e.replaceAll(`\\
`,"\\n"),e=SN(e),e=Qa+e+Qa);try{return JSON.parse(e)}catch{throw new Error(`Failed to parse CSS property value: ${e}. Original input: ${t}`)}}var k_=0,Yo=null,vi=null,rs=class extends HTMLElement{constructor(){super(),O1(this,"updateCssData",()=>{var t;this.dropCssDataCache(),(t=this.__boundCssProps)==null||t.forEach(e=>{let n=this.getCssData(this.__extractCssName(e),!0);n!==null&&this.$[e]!==n&&(this.$[e]=n)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return rs}initCallback(){}__initCallback(){var t;this.__initialized||(this.__initialized=!0,(t=this.initCallback)==null||t.call(this))}render(t,e=this.renderShadow){let n;if((e||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let i=this.getAttribute(Se.USE_TPL);if(i){let s=this.getRootNode(),o=(s==null?void 0:s.querySelector(i))||document.querySelector(i);o?t=o.content.cloneNode(!0):console.warn(`Symbiote template "${i}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(t||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(t==null?void 0:t.constructor)===DocumentFragment)n=t;else if((t==null?void 0:t.constructor)===String){let i=document.createElement("template");i.innerHTML=t,n=i.content.cloneNode(!0)}else this.constructor.__tpl&&(n=this.constructor.__tpl.content.cloneNode(!0));for(let i of this.tplProcessors)i(n,this)}let r=()=>{n&&(e&&this.shadowRoot.appendChild(n)||this.appendChild(n)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let i=document.createElement("link");i.rel="stylesheet",i.href=this.constructor.__shadowStylesUrl,i.onload=r,this.shadowRoot.prepend(i)}else r()}addTemplateProcessor(t){this.tplProcessors.add(t)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=Pu.generate(),this.style.setProperty(Se.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(Se.CSS_CTX_PROP,!0)}get ctxName(){var t;let e=((t=this.getAttribute(Se.CTX_NAME_ATTR))==null?void 0:t.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=e,e}get localCtx(){return this.__localCtx||(this.__localCtx=He.registerCtx({},this)),this.__localCtx}get nodeCtx(){return He.getCtx(this.ctxName,!1)||He.registerCtx({},this.ctxName)}static __parseProp(t,e){let n,r;if(t.startsWith(Se.EXT_DATA_CTX_PRFX))n=e.nodeCtx,r=t.replace(Se.EXT_DATA_CTX_PRFX,"");else if(t.includes(Se.NAMED_DATA_CTX_SPLTR)){let i=t.split(Se.NAMED_DATA_CTX_SPLTR);n=He.getCtx(i[0]),r=i[1]}else n=e.localCtx,r=t;return{ctx:n,name:r}}sub(t,e,n=!0){let r=s=>{this.isConnected&&e(s)},i=rs.__parseProp(t,this);i.ctx.has(i.name)?this.allSubs.add(i.ctx.sub(i.name,r,n)):window.setTimeout(()=>{this.allSubs.add(i.ctx.sub(i.name,r,n))})}notify(t){let e=rs.__parseProp(t,this);e.ctx.notify(e.name)}has(t){let e=rs.__parseProp(t,this);return e.ctx.has(e.name)}add(t,e,n=!1){let r=rs.__parseProp(t,this);r.ctx.add(r.name,e,n)}add$(t,e=!1){for(let n in t)this.add(n,t[n],e)}get $(){if(!this.__stateProxy){let t=Object.create(null);this.__stateProxy=new Proxy(t,{set:(e,n,r)=>{let i=rs.__parseProp(n,this);return i.ctx.pub(i.name,r),!0},get:(e,n)=>{let r=rs.__parseProp(n,this);return r.ctx.read(r.name)}})}return this.__stateProxy}set$(t,e=!1){for(let n in t){let r=t[n];e||![String,Number,Boolean].includes(r==null?void 0:r.constructor)?this.$[n]=r:this.$[n]!==r&&(this.$[n]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(Se.CTX_OWNER_ATTR)&&this.getAttribute(Se.CTX_OWNER_ATTR)!=="false"}__initDataCtx(){let t=this.constructor.__attrDesc;if(t)for(let e of Object.values(t))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let e in this.init$)if(e.startsWith(Se.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(Se.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(Se.NAMED_DATA_CTX_SPLTR)){let n=e.split(Se.NAMED_DATA_CTX_SPLTR),r=n[0].trim(),i=n[1].trim();if(r&&i){let s=He.getCtx(r,!1);s||(s=He.registerCtx({},r)),s.add(i,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var t;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=(t=this.getAttribute(Se.CTX_NAME_ATTR))==null?void 0:t.trim();if(e&&this.style.setProperty(Se.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this[Se.SET_LATER_KEY]){for(let n in this[Se.SET_LATER_KEY])Ib(this,n,this[Se.SET_LATER_KEY][n]);delete this[Se.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let n of EN)this.addTemplateProcessor(n);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let n=this.getRootNode();if(!n)return;if(n==null?void 0:n.querySelector(`link[${Se.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`)){this.render();return}let i=this.constructor.__rootStylesLink.cloneNode(!0);i.setAttribute(Se.ROOT_STYLE_ATTR_NAME,this.constructor.is),i.onload=()=>{this.render()},n.nodeType===Node.DOCUMENT_NODE?n.head.appendChild(i):n.prepend(i)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let t of this.allSubs)t.remove(),this.allSubs.delete(t);for(let t of this.tplProcessors)this.tplProcessors.delete(t);vi==null||vi.delete(this.updateCssData),vi!=null&&vi.size||(Yo==null||Yo.disconnect(),Yo=null,vi=null)},100)))}static reg(t,e=!1){t||(k_++,t=`${Se.AUTO_TAG_PRFX}-${k_}`),this.__tag=t;let n=window.customElements.get(t);if(n){!e&&n!==this&&console.warn([`Element with tag name "${t}" already registered.`,`You're trying to override it with another class "${this.name}".`,"This is most likely a mistake.","New element will not be registered."].join(`
`));return}window.customElements.define(t,e?class extends this{}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(t){this.observedAttributes=Object.keys(t),this.__attrDesc=t}attributeChangedCallback(t,e,n){var r;if(e===n)return;let i=(r=this.constructor.__attrDesc)==null?void 0:r[t];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[t]=n}getCssData(t,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(t)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let n=this.__computedStyle.getPropertyValue(t).trim();try{this.__cssDataCache[t]=AN(n)}catch{!e&&console.warn(`CSS Data error: ${t}`),this.__cssDataCache[t]=null}}return this.__cssDataCache[t]}__extractCssName(t){return t.split("--").map((e,n)=>n===0?"":e).join("--")}__initStyleAttrObserver(){vi||(vi=new Set),vi.add(this.updateCssData),Yo||(Yo=new MutationObserver(t=>{t[0].type==="attributes"&&vi.forEach(e=>{e()})}),Yo.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(t,e=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(t);let n=this.getCssData(this.__extractCssName(t),!0);n===null&&(n=e),this.add(t,n),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(t,e,n){let r="__"+t;this[r]=this[t],Object.defineProperty(this,t,{set:i=>{this[r]=i,n?window.setTimeout(()=>{e==null||e(i)}):e==null||e(i)},get:()=>this[r]}),this[t]=this[r]}static set shadowStyles(t){let e=new Blob([t],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}static set rootStyles(t){if(!this.__rootStylesLink){let e=new Blob([t],{type:"text/css"}),n=URL.createObjectURL(e),r=document.createElement("link");r.href=n,r.rel="stylesheet",this.__rootStylesLink=r}}},Hf=rs;O1(Hf,"template");function xb(t,e){for(let n in e)n.includes("-")?t.style.setProperty(n,e[n]):t.style[n]=e[n]}function IN(t,e){for(let n in e)e[n].constructor===Boolean?e[n]?t.setAttribute(n,""):t.removeAttribute(n):t.setAttribute(n,e[n])}function kb(t={tag:"div"}){let e=document.createElement(t.tag);if(t.attributes&&IN(e,t.attributes),t.styles&&xb(e,t.styles),t.properties)for(let n in t.properties)e[n]=t.properties[n];return t.processors&&t.processors.forEach(n=>{n(e)}),t.children&&t.children.forEach(n=>{let r=kb(n);e.appendChild(r)}),e}var Rb="idb-store-ready",xN="symbiote-db",kN="symbiote-idb-update_",RN=class{_notifyWhenReady(t=null){window.dispatchEvent(new CustomEvent(Rb,{detail:{dbName:this.name,storeName:this.storeName,event:t}}))}get _updEventName(){return kN+this.name}_getUpdateEvent(t){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:t}})}_notifySubscribers(t){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,t),window.dispatchEvent(this._getUpdateEvent(t))}constructor(t,e){this.name=t,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=n=>{this.db=n.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=r=>{this._notifyWhenReady(r)}},this.request.onsuccess=n=>{this.db=n.target.result,this._notifyWhenReady(n)},this.request.onerror=n=>{console.error(n)},this._subscriptionsMap={},this._updateHandler=n=>{n.key===this.name&&this._subscriptionsMap[n.newValue]&&this._subscriptionsMap[n.newValue].forEach(async i=>{i(await this.read(n.newValue))})},this._localUpdateHandler=n=>{this._updateHandler(n.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(t){let n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(t);return new Promise((r,i)=>{n.onsuccess=s=>{var o;(o=s.target.result)!=null&&o._value?r(s.target.result._value):(r(null),console.warn(`IDB: cannot read "${t}"`))},n.onerror=s=>{i(s)}})}write(t,e,n=!1){let r={_key:t,_value:e},s=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise((o,a)=>{s.onsuccess=l=>{n||this._notifySubscribers(t),o(l.target.result)},s.onerror=l=>{a(l)}})}delete(t,e=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(t);return new Promise((i,s)=>{r.onsuccess=o=>{e||this._notifySubscribers(t),i(o)},r.onerror=o=>{s(o)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((n,r)=>{e.onsuccess=i=>{let s=i.target.result;n(s.map(o=>o._value))},e.onerror=i=>{r(i)}})}subscribe(t,e){this._subscriptionsMap[t]||(this._subscriptionsMap[t]=new Set);let n=this._subscriptionsMap[t];return n.add(e),{remove:()=>{n.delete(e),n.size||delete this._subscriptionsMap[t]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,Pb.clear(this.name)}},Pb=class{static get readyEventName(){return Rb}static open(t=xN,e="store"){let n=t+"/"+e;return this._reg[n]||(this._reg[n]=new RN(t,e)),this._reg[n]}static clear(t){window.indexedDB.deleteDatabase(t);for(let e in this._reg)e.split("/")[0]===t&&delete this._reg[e]}};O1(Pb,"_reg",Object.create(null));const D1="blocks",M1="0.46.3",Lb=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e},V1=(...t)=>t.filter(e=>typeof e=="string"&&e).map(e=>Lb(e)).join("/-/"),Ms=(...t)=>{let e=V1(...t);return e?`-/${e}/`:""};function U1(t){let e=new URL(t),n=e.pathname+e.search+e.hash,r=n.lastIndexOf("http"),i=n.lastIndexOf("/"),s="";return r>=0?s=n.slice(r):i>=0&&(s=n.slice(i+1)),s}function Nb(t){let e=new URL(t),{pathname:n}=e;const r=n.indexOf("/"),i=n.indexOf("/",r+1);return n.substring(r+1,i)}function Ob(t){let e=Db(t),n=new URL(e),r=n.pathname.indexOf("/-/");return r===-1?"":n.pathname.substring(r).slice(1)}function PN(t){return Ob(t).split("/-/").filter(Boolean).map(n=>Lb(n))}function Db(t){let e=new URL(t),n=U1(t),r=Mb(n)?Vb(n).pathname:n;return e.pathname=e.pathname.replace(r,""),e.search="",e.hash="",e.toString()}function Mb(t){return t.startsWith("http")}function Vb(t){let e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}const hr=(t,e,n)=>{let r=new URL(Db(t));if(n=n||U1(t),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),Mb(n)){let i=Vb(n);r.pathname=r.pathname+(e||"")+(i.pathname||""),r.search=i.search,r.hash=i.hash}else r.pathname=r.pathname+(e||"")+(n||"");return r.toString()},iu=(t,e)=>{let n=new URL(t);return n.pathname=e+"/",n.toString()},Vs=(t,e=",")=>t.trim().split(e).map(n=>n.trim()).filter(n=>n.length>0),lr=Object.freeze({brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0,mirror:!1,flip:!1,crop:void 0}),Ub=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function LN(t,e){if(typeof e=="number"){const n=e;return lr[t]!==n?`${t}/${n}`:""}if(typeof e=="boolean"){const n=e;return lr[t]!==n?`${t}`:""}if(t==="filter"&&e){const{name:n,amount:r}=e;return lr.filter===r?"":`${t}/${n}/${r}`}if(t==="crop"&&e){let{dimensions:n,coords:r}=e;return`${t}/${n.join("x")}/${r.join(",")}`}return""}function Wf(t){return V1(...Ub.filter(e=>typeof t[e]<"u"&&t[e]!==null).map(e=>{let n=t[e];return LN(e,n)}).filter(e=>!!e))}const $b=V1("format/auto","progressive/yes"),_i=([t])=>typeof t<"u"?Number(t):void 0,R_=()=>!0,NN=([t,e])=>({name:t,amount:typeof e<"u"?Number(e):100}),ON=([t,e])=>{if(!/\d+x\d+/.test(t)||!/\d+,\d+/.test(e))throw new Error("Crop by aspect ratio, percentage or alignment shortcuts is not supported.");return{dimensions:Vs(t,"x").map(Number),coords:Vs(e).map(Number)}},DN=Object.freeze({enhance:_i,brightness:_i,exposure:_i,gamma:_i,contrast:_i,saturation:_i,vibrance:_i,warmth:_i,filter:NN,mirror:R_,flip:R_,rotate:_i,crop:ON});function MN(t){const e={};for(const n of t){const[r,...i]=n.split("/");if(!Ub.includes(r))continue;const s=r,o=DN[s];try{const a=o(i);e[s]=a}catch(a){console.warn([`Failed to parse URL operation "${n}". It will be ignored.`,a instanceof Error?`Error message: "${a.message}"`:a,"If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new"].join(`
`))}}return e}const At=Object.freeze({CROP:"crop",TUNING:"tuning",FILTERS:"filters"}),ai=[At.CROP,At.TUNING,At.FILTERS],VN=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],UN=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],$N=["rotate","mirror","flip"],Xa=Object.freeze({brightness:{zero:lr.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:lr.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:lr.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:lr.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:lr.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:lr.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:lr.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:lr.enhance,range:[0,100],keypointsNumber:1},filter:{zero:lr.filter,range:[0,100],keypointsNumber:1}}),FN=t=>t?t.split(",").map(e=>e.trim()):[],$1=t=>t?t.join(","):"",jN="https://ucarecdn.com",zN="https://upload.uploadcare.com",BN="https://social.uploadcare.com",xs={pubkey:"",multiple:!0,multipleMin:0,multipleMax:Number.MAX_SAFE_INTEGER,confirmUpload:!1,imgOnly:!1,accept:"",externalSourcesPreferredTypes:"",store:"auto",cameraMirror:!1,cameraCapture:"",sourceList:"local, url, camera, dropbox, gdrive",cloudImageEditorTabs:$1(ai),maxLocalFileSizeBytes:0,thumbSize:76,showEmptyList:!1,useLocalImageEditor:!1,useCloudImageEditor:!0,removeCopyright:!1,cropPreset:"",imageShrink:"",modalScrollLock:!0,modalBackdropStrokes:!1,sourceListWrap:!0,remoteTabSessionKey:"",cdnCname:jN,baseUrl:zN,socialBaseUrl:BN,secureSignature:"",secureExpire:"",secureDeliveryProxy:"",retryThrottledRequestMaxTimes:1,multipartMinFileSize:26214400,multipartChunkSize:5242880,maxConcurrentRequests:10,multipartMaxConcurrentRequests:4,multipartMaxAttempts:3,checkForUrlDuplicates:!1,saveUrlForRecurrentUploads:!1,groupOutput:!1,userAgentIntegration:"",debug:!1,metadata:null,localeName:"en",localeDefinitionOverride:null,secureUploadsExpireThreshold:10*60*1e3,secureUploadsSignatureResolver:null,secureDeliveryProxyUrlResolver:null,iconHrefResolver:null,fileValidators:[],collectionValidators:[]},HN=20,St=Object.freeze({FILE_ADDED:"file-added",FILE_REMOVED:"file-removed",FILE_UPLOAD_START:"file-upload-start",FILE_UPLOAD_PROGRESS:"file-upload-progress",FILE_UPLOAD_SUCCESS:"file-upload-success",FILE_UPLOAD_FAILED:"file-upload-failed",FILE_URL_CHANGED:"file-url-changed",MODAL_OPEN:"modal-open",MODAL_CLOSE:"modal-close",DONE_CLICK:"done-click",UPLOAD_CLICK:"upload-click",ACTIVITY_CHANGE:"activity-change",COMMON_UPLOAD_START:"common-upload-start",COMMON_UPLOAD_PROGRESS:"common-upload-progress",COMMON_UPLOAD_SUCCESS:"common-upload-success",COMMON_UPLOAD_FAILED:"common-upload-failed",CHANGE:"change",GROUP_CREATED:"group-created"});class WN{constructor(e){$(this,"_timeoutStore",new Map);$(this,"_targets",new Set);$(this,"_debugPrint",null);this._debugPrint=e}bindTarget(e){this._targets.add(e)}unbindTarget(e){this._targets.delete(e)}_dispatch(e,n){var r;for(const i of this._targets)i.dispatchEvent(new CustomEvent(e,{detail:n}));(r=this._debugPrint)==null||r.call(this,()=>{const i=n&&typeof n=="object"?{...n}:n;return[`event "${e}"`,i]})}emit(e,n,{debounce:r}={}){if(typeof r!="number"&&!r){this._dispatch(e,typeof n=="function"?n():n);return}this._timeoutStore.has(e)&&window.clearTimeout(this._timeoutStore.get(e));const i=typeof r=="number"?r:HN,s=window.setTimeout(()=>{this._dispatch(e,typeof n=="function"?n():n),this._timeoutStore.delete(e)},i);this._timeoutStore.set(e,s)}}function vr(t,e){let n;const r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)};return r.cancel=()=>{clearTimeout(n)},r}const P_="--uploadcare-blocks-window-height";class $h{static registerClient(e){this.clientsRegistry.size===0&&this.attachTracker(),this.clientsRegistry.add(e)}static unregisterClient(e){this.clientsRegistry.delete(e),this.clientsRegistry.size===0&&this.detachTracker()}static attachTracker(){window.addEventListener("resize",this.flush,{passive:!0,capture:!0}),this.flush()}static detachTracker(){window.removeEventListener("resize",this.flush,{capture:!0}),document.documentElement.style.removeProperty(P_)}}$($h,"clientsRegistry",new Set),$($h,"flush",vr(()=>{document.documentElement.style.setProperty(P_,`${window.innerHeight}px`)},100));const qN=t=>{var r;const e=new Intl.Locale(t);let n="ltr";return typeof e.getTextInfo=="function"&&e.getTextInfo().direction?n=e.getTextInfo().direction:"textInfo"in e&&((r=e.textInfo)!=null&&r.direction)&&(n=e.textInfo.direction),n},Fb=(t,e)=>new Intl.PluralRules(t).select(e),GN=t=>t,Am="{{",jb="}}",L_="plural:";function Im(t,e,n={}){var o;let{openToken:r=Am,closeToken:i=jb,transform:s=GN}=n;for(let a in e){let l=(o=e[a])==null?void 0:o.toString();t=t.replaceAll(r+a+i,typeof l=="string"?s(l):l)}return t}function KN(t){const e=[];let n=t.indexOf(Am);for(;n!==-1;){const r=t.indexOf(jb,n),i=t.substring(n+2,r);if(i.startsWith(L_)){const s=t.substring(n+2,r).replace(L_,""),o=s.substring(0,s.indexOf("(")),a=s.substring(s.indexOf("(")+1,s.indexOf(")"));e.push({variable:i,pluralKey:o,countVariable:a})}n=t.indexOf(Am,r)}return e}const QN=({element:t,attribute:e,onSuccess:n,onTimeout:r,timeout:i=300})=>{const s=t.getAttribute(e);if(s!==null){n(s);return}const o=new MutationObserver(u=>{const d=u[u.length-1];l(d)});o.observe(t,{attributes:!0,attributeFilter:[e]});const a=setTimeout(()=>{o.disconnect(),r()},i),l=u=>{const d=t.getAttribute(e);u.type==="attributes"&&u.attributeName===e&&d!==null&&(clearTimeout(a),o.disconnect(),n(d))}};function N_(t){return Object.prototype.toString.call(t)==="[object Object]"}const XN=/\W|_/g;function YN(t){return t.split(XN).map((e,n)=>e.charAt(0)[n>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")}function O_(t,{ignoreKeys:e}={ignoreKeys:[]}){return Array.isArray(t)?t.map(n=>Wi(n,{ignoreKeys:e})):t}function Wi(t,{ignoreKeys:e}={ignoreKeys:[]}){if(Array.isArray(t))return O_(t,{ignoreKeys:e});if(!N_(t))return t;const n={};for(const r of Object.keys(t)){let i=t[r];if(e.includes(r)){n[r]=i;continue}N_(i)?i=Wi(i,{ignoreKeys:e}):Array.isArray(i)&&(i=O_(i,{ignoreKeys:e})),n[YN(r)]=i}return n}const ZN=t=>new Promise(e=>setTimeout(e,t));function zb({libraryName:t,libraryVersion:e,userAgent:n,publicKey:r="",integration:i=""}){const s="JavaScript";if(typeof n=="string")return n;if(typeof n=="function")return n({publicKey:r,libraryName:t,libraryVersion:e,languageName:s,integration:i});const o=[t,e,r].filter(Boolean).join("/"),a=[s,i].filter(Boolean).join("; ");return`${o} (${a})`}const JN={factor:2,time:100};function eO(t,e=JN){let n=0;function r(i){const s=Math.round(e.time*e.factor**n);return i({attempt:n,retry:a=>ZN(a??s).then(()=>(n+=1,r(i)))})}return r(t)}class F1 extends Error{}class Lu extends F1{constructor(n){super();$(this,"originalProgressEvent");this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,Lu.prototype),this.originalProgressEvent=n}}const qf=(t,e)=>{t&&(t.aborted?Promise.resolve().then(e):t.addEventListener("abort",()=>e(),{once:!0}))};class Oo extends F1{constructor(n="Request canceled"){super(n);$(this,"isCancel",!0);this.name="CancelError",Object.setPrototypeOf(this,Oo.prototype)}}const tO=500,Bb=({check:t,interval:e=tO,timeout:n,signal:r})=>new Promise((i,s)=>{let o,a;qf(r,()=>{o&&clearTimeout(o),s(new Oo("Poll cancelled"))}),n&&(a=setTimeout(()=>{o&&clearTimeout(o),s(new Oo("Timed out"))},n));const l=()=>{try{Promise.resolve(t(r)).then(u=>{u?(a&&clearTimeout(a),i(u)):o=setTimeout(l,e)}).catch(u=>{a&&clearTimeout(a),s(u)})}catch(u){a&&clearTimeout(a),s(u)}};o=setTimeout(l,0)}),Oe={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:50*1024*1024,retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:25*1024*1024,multipartChunkSize:5*1024*1024,multipartMinLastPartSize:1024*1024,maxConcurrentRequests:4,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},Gf="application/octet-stream",Hb="original",Qs=({method:t,url:e,data:n,headers:r={},signal:i,onProgress:s})=>new Promise((o,a)=>{const l=new XMLHttpRequest,u=(t==null?void 0:t.toUpperCase())||"GET";let d=!1;l.open(u,e,!0),r&&Object.entries(r).forEach(h=>{const[p,g]=h;typeof g<"u"&&!Array.isArray(g)&&l.setRequestHeader(p,g)}),l.responseType="text",qf(i,()=>{d=!0,l.abort(),a(new Oo)}),l.onload=()=>{if(l.status!=200)a(new Error(`Error ${l.status}: ${l.statusText}`));else{const h={method:u,url:e,data:n,headers:r||void 0,signal:i,onProgress:s},p=l.getAllResponseHeaders().trim().split(/[\r\n]+/),g={};p.forEach(function(x){const w=x.split(": "),v=w.shift(),A=w.join(": ");v&&typeof v<"u"&&(g[v]=A)});const y=l.response,E=l.status;o({request:h,data:y,headers:g,status:E})}},l.onerror=h=>{d||a(new Lu(h))},s&&typeof s=="function"&&(l.upload.onprogress=h=>{h.lengthComputable?s({isComputable:!0,value:h.loaded/h.total}):s({isComputable:!1})}),n?l.send(n):l.send()});function nO(t,...e){return t}const rO=({name:t})=>t?[t]:[],iO=nO;var sO=()=>new FormData;const Wb=t=>!1,Kf=t=>typeof Blob<"u"&&t instanceof Blob,Qf=t=>typeof File<"u"&&t instanceof File,Xf=t=>!!t&&typeof t=="object"&&!Array.isArray(t)&&"uri"in t&&typeof t.uri=="string",gl=t=>Kf(t)||Qf(t)||Wb()||Xf(t),oO=t=>typeof t=="string"||typeof t=="number"||typeof t>"u",aO=t=>!!t&&typeof t=="object"&&!Array.isArray(t),lO=t=>!!t&&typeof t=="object"&&"data"in t&&gl(t.data);function qb(t,e,n){if(Array.isArray(n))for(const r of n)qb(t,`${e}[]`,r);else if(lO(n)){const{name:r,contentType:i}=n,s=iO(n.data,r,i??Gf),o=rO({name:r,contentType:i});t.push([e,s,...o])}else if(aO(n))for(const[r,i]of Object.entries(n))typeof i<"u"&&t.push([`${e}[${r}]`,String(i)]);else oO(n)&&n&&t.push([e,n.toString()])}function cO(t){const e=[];for(const[n,r]of Object.entries(t))qb(e,n,r);return e}function Yf(t){const e=sO(),n=cO(t);for(const r of n){const[i,s,...o]=r;e.append(i,s,...o)}return e}class Vn extends F1{constructor(n,r,i,s,o){super();$(this,"code");$(this,"request");$(this,"response");$(this,"headers");this.name="UploadError",this.message=n,this.code=r,this.request=i,this.response=s,this.headers=o,Object.setPrototypeOf(this,Vn.prototype)}}const uO=t=>{const e=new URLSearchParams;for(const[n,r]of Object.entries(t))r&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).filter(i=>i[1]??!1).forEach(i=>e.set(`${n}[${i[0]}]`,String(i[1]))):Array.isArray(r)?r.forEach(i=>{e.append(`${n}[]`,i)}):typeof r=="string"&&r?e.set(n,r):typeof r=="number"&&e.set(n,r.toString());return e.toString()},Fi=(t,e,n)=>{const r=new URL(t);return r.pathname=(r.pathname+e).replace("//","/"),n&&(r.search=uO(n)),r.toString()};var dO="6.14.1";const hO="UploadcareUploadClient",fO=dO;function Ho(t){return zb({libraryName:hO,libraryVersion:fO,...t})}const pO="RequestThrottledError",D_=15e3,mO=1e3;function gO(t){const{headers:e}=t||{};if(!e||typeof e["retry-after"]!="string")return D_;const n=parseInt(e["retry-after"],10);return Number.isFinite(n)?n*1e3:D_}function Xs(t,e){const{retryThrottledRequestMaxTimes:n,retryNetworkErrorMaxTimes:r}=e;return eO(({attempt:i,retry:s})=>t().catch(o=>{if("response"in o&&(o==null?void 0:o.code)===pO&&i<n)return s(gO(o));if(o instanceof Lu&&i<r)return s((i+1)*mO);throw o}))}const Gb=t=>{let e="";return(Kf(t)||Qf(t)||Xf(t))&&(e=t.type),e||Gf},Kb=t=>{let e="";return Qf(t)&&t.name?e=t.name:Kf(t)||Wb()?e="":Xf(t)&&t.name&&(e=t.name),e||Hb};function j1(t){return typeof t>"u"||t==="auto"?"auto":t?"1":"0"}function yO(t,{publicKey:e,fileName:n,contentType:r,baseURL:i=Oe.baseURL,secureSignature:s,secureExpire:o,store:a,signal:l,onProgress:u,source:d="local",integration:h,userAgent:p,retryThrottledRequestMaxTimes:g=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=Oe.retryNetworkErrorMaxTimes,metadata:E}){return Xs(()=>Qs({method:"POST",url:Fi(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:h,userAgent:p})},data:Yf({file:{data:t,name:n||Kb(t),contentType:r||Gb(t)},UPLOADCARE_PUB_KEY:e,UPLOADCARE_STORE:j1(a),signature:s,expire:o,source:d,metadata:E}),signal:l,onProgress:u}).then(({data:x,headers:w,request:v})=>{const A=Wi(JSON.parse(x));if("error"in A)throw new Vn(A.error.content,A.error.errorCode,v,A,w);return A}),{retryNetworkErrorMaxTimes:y,retryThrottledRequestMaxTimes:g})}var xm;(function(t){t.Token="token",t.FileInfo="file_info"})(xm||(xm={}));function vO(t,{publicKey:e,baseURL:n=Oe.baseURL,store:r,fileName:i,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,source:u="url",signal:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=Oe.retryNetworkErrorMaxTimes,metadata:E}){return Xs(()=>Qs({method:"POST",headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:h,userAgent:p})},url:Fi(n,"/from_url/",{jsonerrors:1,pub_key:e,source_url:t,store:j1(r),filename:i,check_URL_duplicates:s?1:void 0,save_URL_duplicates:o?1:void 0,signature:a,expire:l,source:u,metadata:E}),signal:d}).then(({data:x,headers:w,request:v})=>{const A=Wi(JSON.parse(x));if("error"in A)throw new Vn(A.error.content,A.error.errorCode,v,A,w);return A}),{retryNetworkErrorMaxTimes:y,retryThrottledRequestMaxTimes:g})}var Ln;(function(t){t.Unknown="unknown",t.Waiting="waiting",t.Progress="progress",t.Error="error",t.Success="success"})(Ln||(Ln={}));const _O=t=>"status"in t&&t.status===Ln.Error;function wO(t,{publicKey:e,baseURL:n=Oe.baseURL,signal:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:a=Oe.retryNetworkErrorMaxTimes}={}){return Xs(()=>Qs({method:"GET",headers:e?{"X-UC-User-Agent":Ho({publicKey:e,integration:i,userAgent:s})}:void 0,url:Fi(n,"/from_url/status/",{jsonerrors:1,token:t}),signal:r}).then(({data:l,headers:u,request:d})=>{const h=Wi(JSON.parse(l));if("error"in h&&!_O(h))throw new Vn(h.error.content,h.error.errorCode,d,h,u);return h}),{retryNetworkErrorMaxTimes:a,retryThrottledRequestMaxTimes:o})}function EO(t,{publicKey:e,baseURL:n=Oe.baseURL,jsonpCallback:r,secureSignature:i,secureExpire:s,signal:o,source:a,integration:l,userAgent:u,retryThrottledRequestMaxTimes:d=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:h=Oe.retryNetworkErrorMaxTimes}){return Xs(()=>Qs({method:"POST",headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:l,userAgent:u})},url:Fi(n,"/group/",{jsonerrors:1}),data:Yf({files:t,callback:r,pub_key:e,signature:i,expire:s,source:a}),signal:o}).then(({data:p,headers:g,request:y})=>{const E=Wi(JSON.parse(p));if("error"in E)throw new Vn(E.error.content,E.error.errorCode,y,E,g);return E}),{retryNetworkErrorMaxTimes:h,retryThrottledRequestMaxTimes:d})}function Qb(t,{publicKey:e,baseURL:n=Oe.baseURL,signal:r,source:i,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:l=Oe.retryNetworkErrorMaxTimes}){return Xs(()=>Qs({method:"GET",headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:s,userAgent:o})},url:Fi(n,"/info/",{jsonerrors:1,pub_key:e,file_id:t,source:i}),signal:r}).then(({data:u,headers:d,request:h})=>{const p=Wi(JSON.parse(u));if("error"in p)throw new Vn(p.error.content,p.error.errorCode,h,p,d);return p}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})}function bO(t,{publicKey:e,contentType:n,fileName:r,multipartChunkSize:i=Oe.multipartChunkSize,baseURL:s="",secureSignature:o,secureExpire:a,store:l,signal:u,source:d="local",integration:h,userAgent:p,retryThrottledRequestMaxTimes:g=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=Oe.retryNetworkErrorMaxTimes,metadata:E}){return Xs(()=>Qs({method:"POST",url:Fi(s,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:h,userAgent:p})},data:Yf({filename:r||Hb,size:t,content_type:n||Gf,part_size:i,UPLOADCARE_STORE:j1(l),UPLOADCARE_PUB_KEY:e,signature:o,expire:a,source:d,metadata:E}),signal:u}).then(({data:x,headers:w,request:v})=>{const A=Wi(JSON.parse(x));if("error"in A)throw new Vn(A.error.content,A.error.errorCode,v,A,w);return A.parts=Object.keys(A.parts).map(M=>A.parts[Number(M)]),A}),{retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})}function TO(t,e,{contentType:n,signal:r,onProgress:i,retryThrottledRequestMaxTimes:s=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:o=Oe.retryNetworkErrorMaxTimes}){return Xs(()=>Qs({method:"PUT",url:e,data:t,onProgress:i,signal:r,headers:{"Content-Type":n||Gf}}).then(a=>(i&&i({isComputable:!0,value:1}),a)).then(({status:a})=>({code:a})),{retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o})}function CO(t,{publicKey:e,baseURL:n=Oe.baseURL,source:r="local",signal:i,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=Oe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:l=Oe.retryNetworkErrorMaxTimes}){return Xs(()=>Qs({method:"POST",url:Fi(n,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":Ho({publicKey:e,integration:s,userAgent:o})},data:Yf({uuid:t,UPLOADCARE_PUB_KEY:e,source:r}),signal:i}).then(({data:u,headers:d,request:h})=>{const p=Wi(JSON.parse(u));if("error"in p)throw new Vn(p.error.content,p.error.errorCode,h,p,d);return p}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})}function z1(t,{publicKey:e,baseURL:n,source:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a,signal:l,onProgress:u}){return Bb({check:d=>Qb(t,{publicKey:e,baseURL:n,signal:d,source:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a}).then(h=>h.isReady?h:(u&&u({isComputable:!0,value:1}),!1)),signal:l})}function SO(t){return"defaultEffects"in t}class yl{constructor(e,{baseCDN:n=Oe.baseCDN,fileName:r}={}){$(this,"uuid");$(this,"name",null);$(this,"size",null);$(this,"isStored",null);$(this,"isImage",null);$(this,"mimeType",null);$(this,"cdnUrl",null);$(this,"s3Url",null);$(this,"originalFilename",null);$(this,"imageInfo",null);$(this,"videoInfo",null);$(this,"contentInfo",null);$(this,"metadata",null);$(this,"s3Bucket",null);$(this,"defaultEffects",null);const{uuid:i,s3Bucket:s}=e,o=Fi(n,`${i}/`),a=s?Fi(`https://${s}.s3.amazonaws.com/`,`${i}/${e.filename}`):null;this.uuid=i,this.name=r||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=o,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=s||null,this.s3Url=a,SO(e)&&(this.defaultEffects=e.defaultEffects)}}const AO=(t,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,contentType:a,signal:l,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,baseCDN:E,metadata:x})=>yO(t,{publicKey:e,fileName:n,contentType:a,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:l,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,metadata:x}).then(({file:w})=>z1(w,{publicKey:e,baseURL:r,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,onProgress:u,signal:l})).then(w=>new yl(w,{baseCDN:E})),IO=(t,{publicKey:e,fileName:n,baseURL:r,signal:i,onProgress:s,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:d,baseCDN:h})=>Qb(t,{publicKey:e,baseURL:r,signal:i,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:d}).then(p=>new yl(p,{baseCDN:h,fileName:n})).then(p=>(s&&s({isComputable:!0,value:1}),p)),xO=(t,{signal:e}={})=>{let n=null,r=null;const i=t.map(()=>new AbortController),s=o=>()=>{r=o,i.forEach((a,l)=>l!==o&&a.abort())};return qf(e,()=>{i.forEach(o=>o.abort())}),Promise.all(t.map((o,a)=>{const l=s(a);return Promise.resolve().then(()=>o({stopRace:l,signal:i[a].signal})).then(u=>(l(),u)).catch(u=>(n=u,null))})).then(o=>{if(r===null)throw n;return o[r]})};var kO=window.WebSocket;class RO{constructor(){$(this,"events",Object.create({}))}emit(e,n){var r;(r=this.events[e])==null||r.forEach(i=>i(n))}on(e,n){this.events[e]=this.events[e]||[],this.events[e].push(n)}off(e,n){n?this.events[e]=this.events[e].filter(r=>r!==n):this.events[e]=[]}}const PO=(t,e)=>t==="success"?{status:Ln.Success,...e}:t==="progress"?{status:Ln.Progress,...e}:{status:Ln.Error,...e};class LO{constructor(e,n=3e4){$(this,"key");$(this,"disconnectTime");$(this,"ws");$(this,"queue",[]);$(this,"isConnected",!1);$(this,"subscribers",0);$(this,"emmitter",new RO);$(this,"disconnectTimeoutId",null);this.key=e,this.disconnectTime=n}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){const e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new kO(e),this.ws.addEventListener("error",n=>{this.emmitter.emit("error",new Error(n.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(n=>this.send(n.event,n.data)),this.queue=[]}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data.toString());switch(r.event){case"pusher:connection_established":{this.emmitter.emit("connected",void 0);break}case"pusher:ping":{this.send("pusher:pong",{});break}case"progress":case"success":case"fail":this.emmitter.emit(r.channel,PO(r.event,JSON.parse(r.data)))}})}}disconnect(){const e=()=>{var n;(n=this.ws)==null||n.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,n){var i;const r=JSON.stringify({event:e,data:n});(i=this.ws)==null||i.send(r)}subscribe(e,n){this.subscribers+=1,this.connect();const r=`task-status-${e}`,i={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,n),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(e){this.subscribers-=1;const n=`task-status-${e}`,r={event:"pusher:unsubscribe",data:{channel:n}};this.emmitter.off(n),this.isConnected?this.send(r.event,r.data):this.queue=this.queue.filter(i=>i.data.channel!==n),this.subscribers===0&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let Kp=null;const B1=t=>{if(!Kp){const e=typeof window>"u"?0:3e4;Kp=new LO(t,e)}return Kp},NO=t=>{B1(t).connect()};function OO({token:t,publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o,onProgress:a,signal:l}){return Bb({check:u=>wO(t,{publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o,signal:u}).then(d=>{switch(d.status){case Ln.Error:return new Vn(d.error,d.errorCode);case Ln.Waiting:return!1;case Ln.Unknown:return new Vn(`Token "${t}" was not found.`);case Ln.Progress:return a&&(d.total==="unknown"?a({isComputable:!1}):a({isComputable:!0,value:d.done/d.total})),!1;case Ln.Success:return a&&a({isComputable:!0,value:d.done/d.total}),d;default:throw new Error("Unknown status")}}),signal:l})}const DO=({token:t,pusherKey:e,signal:n,onProgress:r})=>new Promise((i,s)=>{const o=B1(e),a=o.onError(s),l=()=>{a(),o.unsubscribe(t)};qf(n,()=>{l(),s(new Oo("pusher cancelled"))}),o.subscribe(t,u=>{switch(u.status){case Ln.Progress:{r&&(u.total==="unknown"?r({isComputable:!1}):r({isComputable:!0,value:u.done/u.total}));break}case Ln.Success:{l(),r&&r({isComputable:!0,value:u.done/u.total}),i(u);break}case Ln.Error:l(),s(new Vn(u.msg,u.error_code))}})}),MO=(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:i,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,store:u,signal:d,onProgress:h,source:p,integration:g,userAgent:y,retryThrottledRequestMaxTimes:E,pusherKey:x=Oe.pusherKey,metadata:w})=>Promise.resolve(NO(x)).then(()=>vO(t,{publicKey:e,fileName:n,baseURL:r,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,store:u,signal:d,source:p,integration:g,userAgent:y,retryThrottledRequestMaxTimes:E,metadata:w})).catch(v=>{const A=B1(x);return A==null||A.disconnect(),Promise.reject(v)}).then(v=>v.type===xm.FileInfo?v:xO([({signal:A})=>OO({token:v.token,publicKey:e,baseURL:r,integration:g,userAgent:y,retryThrottledRequestMaxTimes:E,onProgress:h,signal:A}),({signal:A})=>DO({token:v.token,pusherKey:x,signal:A,onProgress:h})],{signal:d})).then(v=>{if(v instanceof Vn)throw v;return v}).then(v=>z1(v.uuid,{publicKey:e,baseURL:r,integration:g,userAgent:y,retryThrottledRequestMaxTimes:E,onProgress:h,signal:d})).then(v=>new yl(v,{baseCDN:i})),Qp=new WeakMap,VO=async t=>{if(Qp.has(t))return Qp.get(t);const e=await fetch(t.uri).then(n=>n.blob());return Qp.set(t,e),e},Xb=async t=>{if(Qf(t)||Kf(t))return t.size;if(Xf(t))return(await VO(t)).size;throw new Error("Unknown file type. Cannot determine file size.")},UO=(t,e=Oe.multipartMinFileSize)=>t>=e,Yb=t=>{const e="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}",n=new RegExp(e);return!gl(t)&&n.test(t)},H1=t=>{const e="^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$",n=new RegExp(e);return!gl(t)&&n.test(t)},$O=(t,e)=>new Promise((n,r)=>{const i=[];let s=!1,o=e.length;const a=[...e],l=()=>{const u=e.length-a.length,d=a.shift();d&&d().then(h=>{s||(i[u]=h,o-=1,o?l():n(i))}).catch(h=>{s=!0,r(h)})};for(let u=0;u<t;u++)l()}),FO=(t,e,n,r)=>{const i=r*e,s=Math.min(i+r,n);return t.slice(i,s)},jO=async(t,e,n)=>r=>FO(t,r,e,n),zO=(t,e,{publicKey:n,contentType:r,onProgress:i,signal:s,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})=>TO(t,e,{publicKey:n,contentType:r,onProgress:i,signal:s,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l}),BO=async(t,{publicKey:e,fileName:n,fileSize:r,baseURL:i,secureSignature:s,secureExpire:o,store:a,signal:l,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,contentType:E,multipartChunkSize:x=Oe.multipartChunkSize,maxConcurrentRequests:w=Oe.maxConcurrentRequests,baseCDN:v,metadata:A})=>{const M=r??await Xb(t);let F;const P=(C,_)=>{if(!u)return;F||(F=Array(C).fill(0));const T=I=>I.reduce((R,N)=>R+N,0);return I=>{I.isComputable&&(F[_]=I.value,u({isComputable:!0,value:T(F)/C}))}};return E||(E=Gb(t)),bO(M,{publicKey:e,contentType:E,fileName:n||Kb(t),baseURL:i,secureSignature:s,secureExpire:o,store:a,signal:l,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,metadata:A}).then(async({uuid:C,parts:_})=>{const T=await jO(t,M,x);return Promise.all([C,$O(w,_.map((I,R)=>()=>zO(T(R),I,{publicKey:e,contentType:E,onProgress:P(_.length,R),signal:l,integration:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})))])}).then(([C])=>CO(C,{publicKey:e,baseURL:i,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})).then(C=>C.isReady?C:z1(C.uuid,{publicKey:e,baseURL:i,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,onProgress:u,signal:l})).then(C=>new yl(C,{baseCDN:v}))};async function Zb(t,{publicKey:e,fileName:n,baseURL:r=Oe.baseURL,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,contentType:y,multipartMinFileSize:E,multipartChunkSize:x,maxConcurrentRequests:w,baseCDN:v=Oe.baseCDN,checkForUrlDuplicates:A,saveUrlForRecurrentUploads:M,pusherKey:F,metadata:P}){if(gl(t)){const C=await Xb(t);return UO(C,E)?BO(t,{publicKey:e,contentType:y,multipartChunkSize:x,fileSize:C,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:l,source:u,integration:d,userAgent:h,maxConcurrentRequests:w,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,baseCDN:v,metadata:P}):AO(t,{publicKey:e,fileName:n,contentType:y,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,baseCDN:v,metadata:P})}if(H1(t))return MO(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:v,checkForUrlDuplicates:A,saveUrlForRecurrentUploads:M,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,pusherKey:F,metadata:P});if(Yb(t))return IO(t,{publicKey:e,fileName:n,baseURL:r,signal:a,onProgress:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,baseCDN:v});throw new TypeError(`File uploading from "${t}" is not supported`)}class HO{constructor(e,{baseCDN:n=Oe.baseCDN}={}){$(this,"uuid");$(this,"filesCount");$(this,"totalSize");$(this,"isStored");$(this,"isImage");$(this,"cdnUrl");$(this,"files");$(this,"createdAt");$(this,"storedAt",null);this.uuid=e.id,this.filesCount=e.filesCount;const r=e.files.filter(Boolean);this.totalSize=Object.values(r).reduce((i,s)=>i+s.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(r).filter(i=>i.isImage).length,this.cdnUrl=e.cdnUrl,this.files=r.map(i=>new yl(i,{baseCDN:n})),this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}}const WO=t=>{for(const e of t)if(!gl(e))return!1;return!0},qO=t=>{for(const e of t)if(!Yb(e))return!1;return!0},GO=t=>{for(const e of t)if(!H1(e))return!1;return!0};function KO(t,{publicKey:e,fileName:n,baseURL:r=Oe.baseURL,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,contentType:y,multipartChunkSize:E=Oe.multipartChunkSize,baseCDN:x=Oe.baseCDN,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:v,jsonpCallback:A}){if(!WO(t)&&!GO(t)&&!qO(t))throw new TypeError(`Group uploading from "${t}" is not supported`);let M,F=!0;const P=t.length,C=(_,T)=>{if(!l)return;M||(M=Array(_).fill(0));const I=R=>R.reduce((N,k)=>N+k)/_;return R=>{if(!R.isComputable||!F){F=!1,l({isComputable:!1});return}M[T]=R.value,l({isComputable:!0,value:I(M)})}};return Promise.all(t.map((_,T)=>gl(_)||H1(_)?Zb(_,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:C(P,T),source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g,contentType:y,multipartChunkSize:E,baseCDN:x,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:v}).then(I=>I.uuid):_)).then(_=>EO(_,{publicKey:e,baseURL:r,jsonpCallback:A,secureSignature:i,secureExpire:s,signal:a,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:g}).then(T=>new HO(T,{baseCDN:x})).then(T=>(l&&l({isComputable:!0,value:1}),T)))}class QO{constructor(e){$(this,"_concurrency",1);$(this,"_pending",[]);$(this,"_running",0);$(this,"_resolvers",new Map);$(this,"_rejectors",new Map);this._concurrency=e}_run(){const e=this._concurrency-this._running;for(let n=0;n<e;n++){const r=this._pending.shift();if(!r)return;const i=this._resolvers.get(r),s=this._rejectors.get(r);if(!i||!s)throw new Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,r().finally(()=>{this._resolvers.delete(r),this._rejectors.delete(r),this._running-=1,this._run()}).then(o=>i(o)).catch(o=>s(o))}}add(e){return new Promise((n,r)=>{this._resolvers.set(e,n),this._rejectors.set(e,r),this._pending.push(e),this._run()})}get pending(){return this._pending.length}get running(){return this._running}set concurrency(e){this._concurrency=e,this._run()}get concurrency(){return this._concurrency}}const Jb=()=>({}),e7=t=>({...Jb(),"*currentActivity":"","*currentActivityParams":{},"*history":[],"*historyBack":null,"*closeModal":()=>{t.set$({"*modalActive":!1,"*currentActivity":""})}}),t7=t=>({...e7(t),"*commonProgress":0,"*uploadList":[],"*focusedEntry":null,"*uploadQueue":new QO(1),"*uploadCollection":null,"*collectionErrors":[],"*collectionState":null,"*groupInfo":null,"*uploadTrigger":new Set,"*secureUploadsManager":null}),W1={"locale-id":"en","social-source-lang":"en","upload-file":"Upload file","upload-files":"Upload files","choose-file":"Choose file","choose-files":"Choose files","drop-files-here":"Drop files here","select-file-source":"Select file source",selected:"Selected",upload:"Upload","add-more":"Add more",cancel:"Cancel","start-from-cancel":"Cancel",clear:"Clear","camera-shot":"Shot","upload-url":"Import","upload-url-placeholder":"Paste link here","edit-image":"Edit image","edit-detail":"Details",back:"Back",done:"Done",ok:"Ok","remove-from-list":"Remove",no:"No",yes:"Yes","confirm-your-action":"Confirm your action","are-you-sure":"Are you sure?","selected-count":"Selected:","upload-error":"Upload error","validation-error":"Validation error","no-files":"No files selected",browse:"Browse","not-uploaded-yet":"Not uploaded yet...",file__one:"file",file__other:"files",error__one:"error",error__other:"errors","header-uploading":"Uploading {{count}} {{plural:file(count)}}","header-failed":"{{count}} {{plural:error(count)}}","header-succeed":"{{count}} {{plural:file(count)}} uploaded","header-total":"{{count}} {{plural:file(count)}} selected","src-type-local":"From device","src-type-from-url":"From link","src-type-camera":"Camera","src-type-draw":"Draw","src-type-facebook":"Facebook","src-type-dropbox":"Dropbox","src-type-gdrive":"Google Drive","src-type-gphotos":"Google Photos","src-type-instagram":"Instagram","src-type-flickr":"Flickr","src-type-vk":"VK","src-type-evernote":"Evernote","src-type-box":"Box","src-type-onedrive":"Onedrive","src-type-huddle":"Huddle","src-type-other":"Other","caption-from-url":"Import from link","caption-camera":"Camera","caption-draw":"Draw","caption-edit-file":"Edit file","file-no-name":"No name...","toggle-fullscreen":"Toggle fullscreen","toggle-guides":"Toggle guides",rotate:"Rotate","flip-vertical":"Flip vertical","flip-horizontal":"Flip horizontal",apply:"Apply",brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",vibrance:"Vibrance",warmth:"Warmth",enhance:"Enhance",original:"Original",resize:"Resize image",crop:"Crop","select-color":"Select color",text:"Text",draw:"Draw","cancel-edit":"Cancel edit","tab-view":"Preview","tab-details":"Details","file-name":"Name","file-size":"Size","cdn-url":"CDN URL","file-size-unknown":"Unknown","camera-permissions-denied":"Camera access denied","camera-permissions-prompt":"Please allow access to the camera","camera-permissions-request":"Request access","files-count-limit-error-title":"Files count limit overflow","files-count-limit-error-too-few":"Youve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.","files-count-limit-error-too-many":"Youve chosen too many files. {{max}} {{plural:file(max)}} is maximum.","files-max-size-limit-error":"File is too big. Max file size is {{maxFileSize}}.","has-validation-errors":"File validation error ocurred. Please, check your files before upload.","images-only-accepted":"Only image files are accepted.","file-type-not-allowed":"Uploading of these file types is not allowed.","some-files-were-not-uploaded":"Some files were not uploaded.","file-item-edit-button":"Edit button","file-item-remove-button":"Remove button"},Fh=new Map,km=new Map,n7=(t,e)=>{Fh.has(t)&&console.log(`Locale ${t} is already defined. Overwriting...`),Fh.set(t,{...W1,...e})},XO=(t,e)=>{km.set(t,e)},r7=(t,e)=>{typeof e=="function"?XO(t,e):n7(t,e)},YO=async t=>{if(!Fh.has(t)){if(!km.has(t))throw new Error(`Locale ${t} is not defined`);const n=await km.get(t)();n7(t,n)}return Fh.get(t)};r7("en",W1);const vo=t=>`*l10n/${t}`,ZO="en";class JO{constructor(e){$(this,"_blockInstance",null);$(this,"_localeName","");$(this,"_callbacks",new Set);$(this,"_boundBlocks",new Map);this._blockInstance=e;for(let[n,r]of Object.entries(W1))this._blockInstance.add(vo(n),r,!1);setTimeout(()=>{e.subConfigValue("localeName",async n=>{var s;if(!this._blockInstance||!n)return;this._localeName=n;const r=await YO(n);if(n!==ZO&&this._localeName!==n)return;const i=(s=this._blockInstance.cfg.localeDefinitionOverride)==null?void 0:s[n];for(const[o,a]of Object.entries(r)){const l=i==null?void 0:i[o];this._blockInstance.add(vo(o),l??a,!0);for(const u of this._callbacks)u()}}),e.subConfigValue("localeDefinitionOverride",n=>{var i;if(!n)return;const r=n[this._localeName];if(r)for(const[s,o]of Object.entries(r)){(i=this._blockInstance)==null||i.add(vo(s),o,!0);for(const a of this._callbacks)a()}})})}onLocaleChange(e){const n=vr(e,0);return this._callbacks.add(n),()=>{this._callbacks.delete(n)}}bindL10n(e,n,r){var s,o,a;e.$[n]=r(),this._boundBlocks.has(e)||this._boundBlocks.set(e,new Map),(o=(s=this._boundBlocks.get(e))==null?void 0:s.get(n))==null||o();const i=this.onLocaleChange(()=>{e.$[n]=r()});(a=this._boundBlocks.get(e))==null||a.set(n,i)}destroyL10nBindings(e){const n=this._boundBlocks.get(e);if(n){for(const r of n.values())r();this._boundBlocks.delete(e)}}destroy(){this._callbacks.clear()}}function eD(t,e){[...t.querySelectorAll("[l10n]")].forEach(n=>{let r=n.getAttribute("l10n");if(!r)return;let i="textContent",s=!1;if(r.includes(":")){const l=r.split(":");i=l[0],r=l[1],i.startsWith("@")&&(i=i.slice(1),s=!0)}const o=r;e.has(o)&&e.sub(o,l=>{if(!l)return;e.l10nProcessorSubs.has(o)||e.l10nProcessorSubs.set(o,new Set);const u=e.l10nProcessorSubs.get(o);u==null||u.forEach(p=>{p.remove(),u.delete(p),e.allSubs.delete(p)});const d=vo(l).replace("*","");e.nodeCtx.has(d)||e.nodeCtx.add(d,l);const h=e.nodeCtx.sub(d,()=>{n[i]=e.l10n(l)});u==null||u.add(h),e.allSubs.add(h),n.removeAttribute("l10n")});const a=vo(r);e.has(a)||e.add(a,""),e.sub(a,()=>{r=r,s?n.setAttribute(i,e.l10n(r)):n[i]=e.l10n(r)}),n.removeAttribute("l10n")})}const dr=t=>`*cfg/${t}`,tD={button:["toolbar"],checkbox:["toolbar"],menuitem:["menu","menubar"],option:["listbox"],tab:["tablist"]};function Bl(t,e){e.tabIndex=0,e.focus(),t.tabIndex=-1}function Xp(t){let e=t.role||t.type||t.tagName;if(!e)return null;let n=tD[e.toLowerCase()];if(!n)return null;for(let r of n){let i=t.closest(`[role=${r}]`);if(i)return i}}function Yp(t,e){return e.role==="toolbar"?nD(e):e.querySelectorAll(`[role=${t.role}]`)}function nD(t){return[...t.querySelectorAll("*")].filter(n=>n.role==="button"||n.type==="button"||n.role==="checkbox"||n.type==="checkbox")}function rD(t){let e=t.getAttribute("aria-orientation");if(e==="vertical")return!1;if(e==="horizontal")return!0;let n=t.role;return n==="menubar"||n==="tablist"||n==="toolbar"}function iD(t){return e=>{let n=!1,r=300,i=0,s="";function o(h){let p=Xp(h.target);if(!p){a();return}let g=Yp(h.target,p),y=Array.from(g).indexOf(h.target),E="ArrowDown",x="ArrowUp";if(rD(p)&&(e.document.dir==="rtl"?(E="ArrowLeft",x="ArrowRight"):(E="ArrowRight",x="ArrowLeft")),h.key===E)h.preventDefault(),Bl(h.target,g[y+1]||g[0]);else if(h.key===x)h.preventDefault(),Bl(h.target,g[y-1]||g[g.length-1]);else if(h.key==="Home")h.preventDefault(),Bl(h.target,g[0]);else if(h.key==="End")h.preventDefault(),Bl(h.target,g[g.length-1]);else if(h.key.length===1&&p.role!=="tablist"){let w=Date.now();w-i<=r?s+=h.key.toLowerCase():s=h.key.toLowerCase(),i=w;let v=Array.from(g).find(A=>{var M,F,P;return(P=(F=(M=A.textContent)==null?void 0:M.trim())==null?void 0:F.toLowerCase())==null?void 0:P.startsWith(s)});v&&(h.preventDefault(),Bl(h.target,v))}}function a(){n=!1,e.removeEventListener("keydown",o)}function l(h){let p=Xp(h.target);if(p){n||(n=!0,e.addEventListener("keydown",o));let g=Yp(h.target,p);for(let y of g)y!==h.target&&y.setAttribute("tabindex",-1)}else n&&a()}function u(h){(!h.relatedTarget||h.relatedTarget===e.document)&&a()}function d(h){let p=Xp(h.target);if(p){let g=Yp(h.target,p);for(let y of g)y!==h.target&&y.setAttribute("tabindex",-1);h.target.setAttribute("tabindex",0)}}return e.addEventListener("click",d),e.addEventListener("focusin",l),e.addEventListener("focusout",u),()=>{a(),e.removeEventListener("click",d),e.removeEventListener("focusin",l),e.removeEventListener("focusout",u)}}}function sD(){return t=>{let e,n;function r(s){if(s.target.getAttribute("aria-hidden")==="true"){e=s.target,e.setAttribute("aria-hidden","false"),n=e.hidden,n&&(e.hidden=!1);let o=s.target.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');o&&(o.tabIndex=0)}}function i(s){e&&e.contains(s.target)&&(!s.relatedTarget||!e.contains(s.relatedTarget))&&(s.target.tabIndex=-1,e.setAttribute("aria-hidden","true"),n&&(e.hidden=!0),e=null)}return t.addEventListener("keyuxJump",r),t.addEventListener("focusout",i),()=>{t.removeEventListener("keyuxJump",r),t.removeEventListener("focusout",i)}}}function oD(){return t=>{let e=[];function n(l){let u=t.document.activeElement;u&&u!==t.document.body&&e.push(new WeakRef(u)),l.focus({focusVisible:!0})}function r(){let l=e.pop();if(!l){t.document.activeElement.blur();return}let u=l.deref();u&&u.isConnected?u.focus():r()}let i=0,s;function o(l){clearInterval(s);let u=l.getAttribute("aria-controls");s=setInterval(()=>{if(i++>50){clearInterval(s);return}let d=t.document.getElementById(u);if(d){let h=d.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');h&&(clearInterval(s),d.dispatchEvent(new t.CustomEvent("keyuxJump",{bubbles:!0})),n(h))}},50)}function a(l){l.target.getAttribute("aria-controls")&&l.key==="Enter"&&o(l.target),l.key==="Escape"&&r()}return t.addEventListener("keydown",a),()=>{t.removeEventListener("keydown",a)}}}function aD(t){let e,n=t.split(" "),r;function i(a){a.key==="Enter"&&(a.target.tagName==="BUTTON"||a.target.tagName==="A")&&(s(),a.target.classList.add(...n),e=a.target,r=a.target)}function s(){e&&e.classList.remove(...n),r=null}function o(a){a.clientX===0&&a.clientY===0&&r!==a.target&&(s(),a.target.classList.add(...n),e=a.target)}return a=>(a.addEventListener("click",o),a.addEventListener("keydown",i),a.addEventListener("keyup",s),()=>{a.removeEventListener("click",o),a.removeEventListener("keydown",i),a.removeEventListener("keyup",s)})}function lD(t,e){let n=e.map(r=>r(t));return()=>{n.forEach(r=>r())}}class cD{constructor(){$(this,"_listeners",new Map);$(this,"_scope",[])}addEventListener(e,n){const r=i=>{const s=i.target;s&&this._scope.some(o=>o===i.target||o.contains(s))&&n(i)};this._listeners.set(n,r),window.addEventListener(e,r)}removeEventListener(e,n){const r=this._listeners.get(n);r&&window.removeEventListener(e,r),this._listeners.delete(n)}get CustomEvent(){return window.CustomEvent}get document(){return window.document}get navigator(){return window.navigator}registerScope(e){this._scope.push(e)}destroy(){this._scope=[],this._listeners.forEach((e,n)=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e),this._listeners.delete(n)})}}class uD{constructor(){$(this,"_destroyKeyUX");$(this,"_scopedWindow");this._scopedWindow=new cD,this._destroyKeyUX=lD(this._scopedWindow,[iD(),aD("is-pressed"),oD(),sD()])}registerBlock(e){this._scopedWindow.registerScope(e)}destroy(){var e;(e=this._destroyKeyUX)==null||e.call(this),this._scopedWindow.destroy()}}const M_="lr-";class ht extends Hf{constructor(){super();$(this,"requireCtxName",!1);$(this,"allowCustomTemplate",!0);$(this,"activityType",null);$(this,"init$",Jb());this.l10nProcessorSubs=new Map,this.addTemplateProcessor(eD)}l10n(n,r={}){if(!n)return"";let i=this.$[vo(n)]||n,s=KN(i);for(let a of s)r[a.variable]=this.pluralize(a.pluralKey,Number(r[a.countVariable]));return Im(i,r)}pluralize(n,r){const i=this.l10n("locale-id")||"en",s=Fb(i,r);return this.l10n(`${n}__${s}`)}bindL10n(n,r){var i;(i=this.localeManager)==null||i.bindL10n(this,n,r)}emit(n,r,i){const s=this.has("*eventEmitter")&&this.$["*eventEmitter"];s&&s.emit(n,r,i)}hasBlockInCtx(n){for(let r of this.blocksRegistry)if(n(r))return!0;return!1}setOrAddState(n,r){this.add$({[n]:r},!0)}setActivity(n){if(this.hasBlockInCtx(r=>r.activityType===n)){this.$["*currentActivity"]=n;return}console.warn(`Activity type "${n}" not found in the context`)}connectedCallback(){this.constructor.styleAttrs.forEach(r=>{this.setAttribute(r,"")}),this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.requireCtxName?QN({element:this,attribute:"ctx-name",onSuccess:()=>{super.connectedCallback()},onTimeout:()=>{console.error("Attribute `ctx-name` is required and it is not set.")}}):super.connectedCallback(),$h.registerClient(this)}disconnectedCallback(){super.disconnectedCallback(),$h.unregisterClient(this)}initCallback(){this.has("*blocksRegistry")||this.add("*blocksRegistry",new Set),this.$["*blocksRegistry"].add(this),this.has("*eventEmitter")||this.add("*eventEmitter",new WN(this.debugPrint.bind(this))),this.has("*localeManager")||this.add("*localeManager",new JO(this)),this.has("*a11y")||this.add("*a11y",new uD),this.sub(vo("locale-id"),r=>{const i=qN(r);this.style.direction=i==="ltr"?"":i})}get localeManager(){return this.has("*localeManager")?this.$["*localeManager"]:null}get a11y(){return this.has("*a11y")?this.$["*a11y"]:null}get blocksRegistry(){return this.$["*blocksRegistry"]}destroyCallback(){var r;let n=this.blocksRegistry;n.delete(this),(r=this.localeManager)==null||r.destroyL10nBindings(this),this.l10nProcessorSubs=new Map,He.deleteCtx(this),n.size===0&&setTimeout(()=>{this.destroyCtxCallback()},0)}destroyCtxCallback(){var n,r;He.deleteCtx(this.ctxName),(n=this.localeManager)==null||n.destroy(),(r=this.a11y)==null||r.destroy()}fileSizeFmt(n,r=2){let i=["B","KB","MB","GB","TB"];if(n===0)return`0 ${i[0]}`;let s=1024,o=r<0?0:r,a=Math.floor(Math.log(n)/Math.log(s));return parseFloat((n/s**a).toFixed(o))+" "+i[a]}proxyUrl(n){return this.cfg.secureDeliveryProxy&&this.cfg.secureDeliveryProxyUrlResolver&&console.warn("Both secureDeliveryProxy and secureDeliveryProxyUrlResolver are set. The secureDeliveryProxyUrlResolver will be used."),this.cfg.secureDeliveryProxyUrlResolver?this.cfg.secureDeliveryProxyUrlResolver(n,{uuid:Nb(n),cdnUrlModifiers:Ob(n),fileName:U1(n)}):this.cfg.secureDeliveryProxy?Im(this.cfg.secureDeliveryProxy,{previewUrl:n},{transform:r=>window.encodeURIComponent(r)}):n}get cfg(){if(!this.__cfgProxy){let n=Object.create(null);this.__cfgProxy=new Proxy(n,{set:(r,i,s)=>{if(typeof i!="string")return!1;const o=dr(i);return this.has(o)||this.add(o,xs[i]),this.$[o]=s,!0},get:(r,i)=>{const s=dr(i);return this.has(s)||this.add(s,xs[i]),this.$[dr(i)]}})}return this.__cfgProxy}subConfigValue(n,r){const i=dr(n);this.has(i)||this.add(i,xs[n]),this.sub(i,r)}debugPrint(...n){if(!this.cfg.debug)return;let r=n;if(typeof(n==null?void 0:n[0])=="function"){const i=n[0];r=i()}console.log(`[${this.ctxName}]`,...r)}static reg(n){if(!n){super.reg();return}super.reg(n.startsWith(M_)?n:M_+n)}}$(ht,"StateConsumerScope",null),$(ht,"styleAttrs",[]);const dD="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-instagram' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.225 12a5.775 5.775 0 1 1 11.55 0 5.775 5.775 0 0 1-11.55 0zM12 7.725a4.275 4.275 0 1 0 0 8.55 4.275 4.275 0 0 0 0-8.55zm6.425-.75a1.4 1.4 0 1 0 0-2.8 1.4 1.4 0 0 0 0 2.8zm-6.467-6.8h.084c2.152 0 3.823 0 5.152.132 1.35.134 2.427.41 3.362 1.013a7.15 7.15 0 0 1 2.124 2.124c.604.935.88 2.012 1.013 3.362.132 1.329.132 3 .132 5.152v.084c0 2.152 0 3.823-.132 5.152-.134 1.35-.41 2.427-1.013 3.362a7.15 7.15 0 0 1-2.124 2.124c-.935.604-2.012.88-3.362 1.013-1.329.132-3 .132-5.152.132h-.084c-2.152 0-3.824 0-5.153-.132-1.35-.134-2.427-.409-3.36-1.013a7.15 7.15 0 0 1-2.125-2.124C.716 19.62.44 18.544.307 17.194c-.132-1.329-.132-3-.132-5.152v-.084c0-2.152 0-3.823.132-5.152.133-1.35.409-2.427 1.013-3.362A7.15 7.15 0 0 1 3.444 1.32C4.378.716 5.456.44 6.805.307c1.33-.132 3-.132 5.153-.132zM6.953 1.799c-1.234.123-2.043.36-2.695.78A5.65 5.65 0 0 0 2.58 4.26c-.42.65-.657 1.46-.78 2.695C1.676 8.2 1.675 9.797 1.675 12s0 3.8.124 5.046c.123 1.235.36 2.044.78 2.696a5.649 5.649 0 0 0 1.68 1.678c.65.421 1.46.658 2.694.78 1.247.124 2.844.125 5.047.125s3.8 0 5.046-.124c1.235-.123 2.044-.36 2.695-.78a5.648 5.648 0 0 0 1.68-1.68c.42-.65.657-1.46.78-2.694.123-1.247.124-2.844.124-5.047s-.001-3.8-.125-5.046c-.122-1.235-.359-2.044-.78-2.695a5.65 5.65 0 0 0-1.679-1.68c-.651-.42-1.46-.657-2.695-.78-1.246-.123-2.843-.124-5.046-.124-2.203 0-3.8 0-5.047.124z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol></svg>";class Nu extends ht{constructor(){super(...arguments);$(this,"requireCtxName",!0);$(this,"init$",t7(this));$(this,"_template",null)}initCallback(){var n;super.initCallback(),(n=this.a11y)==null||n.registerBlock(this)}static set template(n){this._template=dD+n+"<slot></slot>"}static get template(){return this._template}}$(Nu,"styleAttrs",["lr-wgt-common"]);const V_="active",Hl="___ACTIVITY_IS_ACTIVE___",Ei=class Ei extends ht{constructor(){super(...arguments);$(this,"historyTracked",!1);$(this,"init$",e7(this));$(this,"_debouncedHistoryFlush",vr(this._historyFlush.bind(this),10))}_deactivate(){var r;let n=Ei._activityCallbacks.get(this);this[Hl]=!1,this.removeAttribute(V_),(r=n==null?void 0:n.deactivateCallback)==null||r.call(n)}_activate(){var r;let n=Ei._activityCallbacks.get(this);this.$["*historyBack"]=this.historyBack.bind(this),this[Hl]=!0,this.setAttribute(V_,""),(r=n==null?void 0:n.activateCallback)==null||r.call(n),this._debouncedHistoryFlush(),this.emit(St.ACTIVITY_CHANGE,{activity:this.activityType})}initCallback(){super.initCallback(),this.hasAttribute("current-activity")&&this.sub("*currentActivity",n=>{this.setAttribute("current-activity",n)}),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",n=>{this.activityType!==n&&this[Hl]?this._deactivate():this.activityType===n&&!this[Hl]&&this._activate(),n||(this.$["*history"]=[])}),this.has("*modalActive")&&this.sub("*modalActive",n=>{!n&&this.activityType===this.$["*currentActivity"]&&(this.$["*currentActivity"]=null)}))}_historyFlush(){let n=this.$["*history"];n&&(n.length>10&&(n=n.slice(n.length-11,n.length-1)),this.historyTracked&&n[n.length-1]!==this.activityType&&n.push(this.activityType),this.$["*history"]=n)}_isActivityRegistered(){return this.activityType&&Ei._activityCallbacks.has(this)}get isActivityActive(){return this[Hl]}get couldOpenActivity(){return!0}registerActivity(n,r={}){const{onActivate:i,onDeactivate:s}=r;Ei._activityCallbacks.set(this,{activateCallback:i,deactivateCallback:s})}unregisterActivity(){this.isActivityActive&&this._deactivate(),Ei._activityCallbacks.delete(this)}destroyCallback(){super.destroyCallback(),this._isActivityRegistered()&&this.unregisterActivity();const n=this.$["*currentActivity"];!![...this.blocksRegistry].find(i=>i instanceof Ei&&i.activityType===n)||(this.$["*currentActivity"]=null)}get activityKey(){return this.ctxName+this.activityType}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let n=this.$["*history"];if(n){let r=n.pop();for(;r===this.activityType;)r=n.pop();let i=!!r;if(r){const s=[...this.blocksRegistry].find(o=>o.activityType===r);i=(s==null?void 0:s.couldOpenActivity)??!1}r=i?r:void 0,this.$["*currentActivity"]=r,this.$["*history"]=n,r||this.setOrAddState("*modalActive",!1)}}};$(Ei,"_activityCallbacks",new Map);let ke=Ei;ke.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external",DETAILS:"details"});const hD=20,Rm=24,sc=34,i7=3,Zr=i7/2,Js=1,wd=100/3,Ie=1,U_=24,fD=6;function ra(t,e){for(let n in e)t.setAttributeNS(null,n,e[n].toString())}function Ar(t,e={}){let n=document.createElementNS("http://www.w3.org/2000/svg",t);return ra(n,e),n}function pD(t,e,n){let{x:r,y:i,width:s,height:o}=t,a=e.includes("w")?0:1,l=e.includes("n")?0:1,u=[-1,1][a],d=[-1,1][l],h=[r+a*s+Zr*u,i+l*o+Zr*d-Rm*n*d],p=[r+a*s+Zr*u,i+l*o+Zr*d],g=[r+a*s-Rm*n*u+Zr*u,i+l*o+Zr*d];return{d:`M ${h[0]} ${h[1]} L ${p[0]} ${p[1]} L ${g[0]} ${g[1]}`,center:p}}function mD(t,e,n){let{x:r,y:i,width:s,height:o}=t,a=["n","s"].includes(e)?.5:{w:0,e:1}[e],l=["w","e"].includes(e)?.5:{n:0,s:1}[e],u=[-1,1][a],d=[-1,1][l],h,p;["n","s"].includes(e)?(h=[r+a*s-sc*n/2,i+l*o+Zr*d],p=[r+a*s+sc*n/2,i+l*o+Zr*d]):(h=[r+a*s+Zr*u,i+l*o-sc*n/2],p=[r+a*s+Zr*u,i+l*o+sc*n/2]);let g=`M ${h[0]} ${h[1]} L ${p[0]} ${p[1]}`,y=[p[0]-(p[0]-h[0])/2,p[1]-(p[1]-h[1])/2];return{d:g,center:y}}function gD(t){return t===""?"move":["e","w"].includes(t)?"ew-resize":["n","s"].includes(t)?"ns-resize":["nw","se"].includes(t)?"nwse-resize":"nesw-resize"}function yD({rect:t,delta:[e,n],imageBox:r}){return jh({...t,x:t.x+e,y:t.y+n},r)}function jh(t,e){let{x:n}=t,{y:r}=t;return t.x<e.x?n=e.x:t.x+t.width>e.x+e.width&&(n=e.x+e.width-t.width),t.y<e.y?r=e.y:t.y+t.height>e.y+e.height&&(r=e.y+e.height-t.height),{...t,x:n,y:r}}function vD({rect:t,delta:e,aspectRatio:n,imageBox:r}){const[,i]=e;let{y:s,width:o,height:a}=t;s+=i,a-=i,n&&(o=a*n);let l=t.x+t.width/2-o/2;return s<=r.y&&(s=r.y,a=t.y+t.height-s,n&&(o=a*n,l=t.x+t.width/2-o/2)),l<=r.x&&(l=r.x,s=t.y+t.height-a),l+o>=r.x+r.width&&(l=Math.max(r.x,r.x+r.width-o),o=r.x+r.width-l,n&&(a=o/n),s=t.y+t.height-a),a<Ie&&(a=Ie,n&&(o=a*n,l=t.x+t.width/2-o/2),s=t.y+t.height-a),o<Ie&&(o=Ie,n&&(a=o/n,l=t.x+t.width/2-o/2),s=t.y+t.height-a),{x:l,y:s,width:o,height:a}}function _D({rect:t,delta:e,aspectRatio:n,imageBox:r}){const[i]=e;let{x:s,width:o,height:a}=t;s+=i,o-=i,n&&(a=o/n);let l=t.y+t.height/2-a/2;return s<=r.x&&(s=r.x,o=t.x+t.width-s,n&&(a=o/n,l=t.y+t.height/2-a/2)),l<=r.y&&(l=r.y,s=t.x+t.width-o),l+a>=r.y+r.height&&(l=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-l,n&&(o=a*n),s=t.x+t.width-o),a<Ie&&(a=Ie,n&&(o=a*n),l=t.y+t.height/2-a/2,s=t.x+t.width-o),o<Ie&&(o=Ie,n&&(a=o/n),l=t.y+t.height/2-a/2,s=t.x+t.width-o),{x:s,y:l,width:o,height:a}}function wD({rect:t,delta:e,aspectRatio:n,imageBox:r}){const[,i]=e;let{y:s,width:o,height:a}=t;a+=i,n&&(o=a*n);let l=t.x+t.width/2-o/2;return s+a>=r.y+r.height&&(a=r.y+r.height-s,n&&(o=a*n),l=t.x+t.width/2-o/2),l<=r.x&&(l=r.x,s=t.y),l+o>=r.x+r.width&&(l=Math.max(r.x,r.x+r.width-o),o=r.x+r.width-l,n&&(a=o/n),s=t.y),a<Ie&&(a=Ie,n&&(o=a*n),l=t.x+t.width/2-o/2),o<Ie&&(o=Ie,n&&(a=o/n),l=t.x+t.width/2-o/2),{x:l,y:s,width:o,height:a}}function ED({rect:t,delta:e,aspectRatio:n,imageBox:r}){const[i]=e;let{x:s,width:o,height:a}=t;o+=i,n&&(a=o/n);let l=t.y+t.height/2-a/2;return s+o>=r.x+r.width&&(o=r.x+r.width-s,n&&(a=o/n),l=t.y+t.height/2-a/2),l<=r.y&&(l=r.y,s=t.x),l+a>=r.y+r.height&&(l=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-l,n&&(o=a*n),s=t.x),a<Ie&&(a=Ie,n&&(o=a*n),l=t.y+t.height/2-a/2),o<Ie&&(o=Ie,n&&(a=o/n),l=t.y+t.height/2-a/2),{x:s,y:l,width:o,height:a}}function bD({rect:t,delta:e,aspectRatio:n,imageBox:r}){let[i,s]=e,{x:o,y:a,width:l,height:u}=t;return o+i<r.x&&(i=r.x-o),a+s<r.y&&(s=r.y-a),o+=i,l-=i,a+=s,u-=s,n&&Math.abs(l/u)>n?(s=l/n-u,u+=s,a-=s,a<=r.y&&(u=u-(r.y-a),l=u*n,o=t.x+t.width-l,a=r.y)):n&&(i=u*n-l,l=l+i,o-=i,o<=r.x&&(l=l-(r.x-o),u=l/n,o=r.x,a=t.y+t.height-u)),u<Ie&&(u=Ie,n&&(l=u*n),o=t.x+t.width-l,a=t.y+t.height-u),l<Ie&&(l=Ie,n&&(u=l/n),o=t.x+t.width-l,a=t.y+t.height-u),{x:o,y:a,width:l,height:u}}function TD({rect:t,delta:e,aspectRatio:n,imageBox:r}){let[i,s]=e,{x:o,y:a,width:l,height:u}=t;return o+l+i>r.x+r.width&&(i=r.x+r.width-o-l),a+s<r.y&&(s=r.y-a),l+=i,a+=s,u-=s,n&&Math.abs(l/u)>n?(s=l/n-u,u+=s,a-=s,a<=r.y&&(u=u-(r.y-a),l=u*n,o=t.x,a=r.y)):n&&(i=u*n-l,l+=i,o+l>=r.x+r.width&&(l=r.x+r.width-o,u=l/n,o=r.x+r.width-l,a=t.y+t.height-u)),u<Ie&&(u=Ie,n&&(l=u*n),a=t.y+t.height-u),l<Ie&&(l=Ie,n&&(u=l/n),a=t.y+t.height-u),{x:o,y:a,width:l,height:u}}function CD({rect:t,delta:e,aspectRatio:n,imageBox:r}){let[i,s]=e,{x:o,y:a,width:l,height:u}=t;return o+i<r.x&&(i=r.x-o),a+u+s>r.y+r.height&&(s=r.y+r.height-a-u),o+=i,l-=i,u+=s,n&&Math.abs(l/u)>n?(s=l/n-u,u+=s,a+u>=r.y+r.height&&(u=r.y+r.height-a,l=u*n,o=t.x+t.width-l,a=r.y+r.height-u)):n&&(i=u*n-l,l+=i,o-=i,o<=r.x&&(l=l-(r.x-o),u=l/n,o=r.x,a=t.y)),u<Ie&&(u=Ie,n&&(l=u*n),o=t.x+t.width-l),l<Ie&&(l=Ie,n&&(u=l/n),o=t.x+t.width-l),{x:o,y:a,width:l,height:u}}function SD({rect:t,delta:e,aspectRatio:n,imageBox:r}){let[i,s]=e,{x:o,y:a,width:l,height:u}=t;return o+l+i>r.x+r.width&&(i=r.x+r.width-o-l),a+u+s>r.y+r.height&&(s=r.y+r.height-a-u),l+=i,u+=s,n&&Math.abs(l/u)>n?(s=l/n-u,u+=s,a+u>=r.y+r.height&&(u=r.y+r.height-a,l=u*n,o=t.x,a=r.y+r.height-u)):n&&(i=u*n-l,l+=i,o+l>=r.x+r.width&&(l=r.x+r.width-o,u=l/n,o=r.x+r.width-l,a=t.y)),u<Ie&&(u=Ie,n&&(l=u*n)),l<Ie&&(l=Ie,n&&(u=l/n)),{x:o,y:a,width:l,height:u}}function AD({direction:t,...e}){switch(t){case"n":return vD(e);case"w":return _D(e);case"s":return wD(e);case"e":return ED(e);case"nw":return bD(e);case"ne":return TD(e);case"sw":return CD(e);case"se":return SD(e);default:return e.rect}}function ID(t,[e,n]){return t.x<=e&&e<=t.x+t.width&&t.y<=n&&n<=t.y+t.height}function xD(t,e){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}function kD(t,e){return Math.abs(t.width/t.height-e)<.1}function Wl({width:t,height:e},n){let r=n/90%2!==0;return{width:r?e:t,height:r?t:e}}function RD(t,e,n){const r=t/e;let i,s;r>n?(i=Math.round(e*n),s=e):(i=t,s=Math.round(t/n));const o=Math.round((t-i)/2),a=Math.round((e-s)/2);return o+i>t&&(i=t-o),a+s>e&&(s=e-a),{x:o,y:a,width:i,height:s}}function Xd(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function ga(t,e,n){return Math.min(Math.max(t,e),n)}const s7=t=>{if(!t)return[];const[e,n]=t.split(":").map(Number);if(!Number.isFinite(e)||!Number.isFinite(n)){console.error(`Invalid crop preset: ${t}`);return}return[{type:"aspect-ratio",width:e,height:n}]},Jr=Object.freeze({LOCAL:"local",DROP_AREA:"drop-area",URL_TAB:"url-tab",CAMERA:"camera",EXTERNAL:"external",API:"js-api"});function PD(t){return zb({...t,libraryName:D1,libraryVersion:M1})}const q1=["image/*","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],o7=t=>t?t.filter(e=>typeof e=="string").map(e=>Vs(e)).flat():[],a7=(t,e)=>e.some(n=>n.endsWith("*")?(n=n.replace("*",""),t.startsWith(n)):t===n),LD=(t,e)=>e.some(n=>n.startsWith(".")?t.toLowerCase().endsWith(n.toLowerCase()):!1),ND=t=>{let e=t==null?void 0:t.type;return e?a7(e,q1):!1},$_="[Typed State] Wrong property name: ",OD="[Typed State] Wrong property type: ";class DD{constructor(e,n){this.__typedSchema=e,this.__ctxId=n||Pu.generate(),this.__schema=Object.keys(e).reduce((r,i)=>(r[i]=e[i].value,r),{}),this.__data=He.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,n){if(!this.__typedSchema.hasOwnProperty(e)){console.warn($_+e);return}let r=this.__typedSchema[e];if((n==null?void 0:n.constructor)===r.type||n instanceof r.type||r.nullable&&n===null){this.__data.pub(e,n);return}console.warn(OD+e)}setMultipleValues(e){for(let n in e)this.setValue(n,e[n])}getValue(e){if(!this.__typedSchema.hasOwnProperty(e)){console.warn($_+e);return}return this.__data.read(e)}subscribe(e,n){return this.__data.sub(e,n)}remove(){He.deleteCtx(this.__ctxId)}}class MD{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||Pu.generate(),this.__data=He.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__subsMap=Object.create(null),this.__propertyObservers=new Set,this.__collectionObservers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let n=Object.create(null);this.__notifyObservers=(r,i)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),n[r]||(n[r]=new Set),n[r].add(i),this.__observeTimeout=window.setTimeout(()=>{Object.keys(n).length!==0&&(this.__propertyObservers.forEach(s=>{s({...n})}),n=Object.create(null))})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{let e=new Set(this.__added),n=new Set(this.__removed);this.__added.clear(),this.__removed.clear();for(const r of this.__collectionObservers)r==null||r([...this.__items],e,n)})}observeCollection(e){return this.__collectionObservers.add(e),this.__items.size>0&&this.notify(),()=>{this.unobserveCollection(e)}}unobserveCollection(e){var n;(n=this.__collectionObservers)==null||n.delete(e)}add(e){let n=new DD(this.__typedSchema);for(let r in e)n.setValue(r,e[r]);return this.__items.add(n.uid),this.notify(),this.__data.add(n.uid,n),this.__added.add(n),this.__watchList.forEach(r=>{this.__subsMap[n.uid]||(this.__subsMap[n.uid]=[]),this.__subsMap[n.uid].push(n.subscribe(r,()=>{this.__notifyObservers(r,n.uid)}))}),n.uid}read(e){return this.__data.read(e)}readProp(e,n){return this.read(e).getValue(n)}publishProp(e,n,r){this.read(e).setValue(n,r)}remove(e){this.__removed.add(this.__data.read(e)),this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach(e=>{this.remove(e)})}observeProperties(e){return this.__propertyObservers.add(e),()=>{this.unobserveProperties(e)}}unobserveProperties(e){var n;(n=this.__propertyObservers)==null||n.delete(e)}findItems(e){let n=[];return this.__items.forEach(r=>{let i=this.read(r);e(i)&&n.push(r)}),n}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){He.deleteCtx(this.__ctxId),this.__propertyObservers=null,this.__collectionObservers=null;for(let e in this.__subsMap)this.__subsMap[e].forEach(n=>{n.remove()}),delete this.__subsMap[e]}}const VD=t=>{const e=new Map;return(...n)=>{const r=JSON.stringify(n);if(e.has(r))return e.get(r);const i=t(...n);return e.set(r,i),i}},F_=new Set;function UD(t){F_.has(t)||(F_.add(t),console.warn(t))}function $D(t){let e=!1;return setTimeout(()=>{e=!0},0),r=>(...i)=>(e&&UD(t),r(...i))}function FD(t){const e={progress:()=>t.$["*commonProgress"],errors:()=>t.$["*collectionErrors"],group:()=>t.$["*groupInfo"],totalCount:()=>t.uploadCollection.size,failedCount:()=>n.failedEntries.length,successCount:()=>n.successEntries.length,uploadingCount:()=>n.uploadingEntries.length,status:()=>n.isFailed?"failed":n.isUploading?"uploading":n.isSuccess?"success":"idle",isSuccess:()=>n.allEntries.length>0&&n.errors.length===0&&n.successEntries.length===n.allEntries.length,isUploading:()=>n.allEntries.some(i=>i.status==="uploading"),isFailed:()=>n.errors.length>0||n.failedEntries.length>0,allEntries:()=>t.getOutputData(),successEntries:()=>n.allEntries.filter(i=>i.status==="success"),failedEntries:()=>n.allEntries.filter(i=>i.status==="failed"),uploadingEntries:()=>n.allEntries.filter(i=>i.status==="uploading"),idleEntries:()=>n.allEntries.filter(i=>i.status==="idle")},n={},r=$D("You're trying to access the OutputCollectionState asynchronously. In this case, the data you retrieve will be newer than it was when the OutputCollectionState was created or when the event was dispatched. If you want to retain the state at a specific moment in time, you should use the spread operator like this: `{...outputCollectionState}` or `{...e.detail}`");for(const[i,s]of Object.entries(e)){const o=i,l=VD(r(s));Object.defineProperty(n,o,{get:l,enumerable:!0})}return n}const jD=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null,nullable:!0},fileSize:{type:Number,value:null,nullable:!0},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},cdnUrl:{type:String,value:null},cdnUrlModifiers:{type:String,value:null},fileInfo:{type:yl,value:null},isUploading:{type:Boolean,value:!1},abortController:{type:AbortController,value:null,nullable:!0},thumbUrl:{type:String,value:null,nullable:!0},silent:{type:Boolean,value:!1},source:{type:String,value:!1,nullable:!0},fullPath:{type:String,value:null,nullable:!0},metadata:{type:Object,value:null,nullable:!0},errors:{type:Array,value:[]},uploadError:{type:Error,value:null,nullable:!0},isRemoved:{type:Boolean,value:!1}}),zD=/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i,BD=new RegExp(`^/?(${zD.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`,"i"),HD=({url:t,cdnBase:e})=>{const n=new URL(e),r=new URL(t);if(n.host!==r.host)return null;const[,i,s,o]=BD.exec(r.pathname);return{uuid:i,cdnUrlModifiers:s||"",filename:o||null}},j_=t=>Math.floor(t/1e3),WD=(t,{threshold:e})=>{const{secureExpire:n}=t,r=j_(Date.now()),i=Number(n),s=j_(e);return r+s>=i};class qD{constructor(e){$(this,"_block");$(this,"_secureToken",null);this._block=e}_debugPrint(...e){this._block.debugPrint("[secure-uploads]",...e)}async getSecureToken(){const{secureSignature:e,secureExpire:n,secureUploadsSignatureResolver:r}=this._block.cfg;if((e||n)&&r&&console.warn("Both secureSignature/secureExpire and secureUploadsSignatureResolver are set. secureUploadsSignatureResolver will be used."),r){if(!this._secureToken||WD(this._secureToken,{threshold:this._block.cfg.secureUploadsExpireThreshold})){this._secureToken?this._debugPrint("Secure signature is expired. Resolving a new one..."):this._debugPrint("Secure signature is not set yet.");try{const i=await r();i?!i.secureSignature||!i.secureExpire?console.error("Secure signature resolver returned an invalid result:",i):(this._debugPrint("Secure signature resolved:",i),this._debugPrint("Secure signature will expire in",new Date(Number(i.secureExpire)*1e3).toISOString()),this._secureToken=i):(this._debugPrint("Secure signature resolver returned nothing."),this._secureToken=null)}catch(i){console.error("Secure signature resolving failed. Falling back to the previous one.",i)}}return this._secureToken}return e&&n?(this._debugPrint("Secure signature and expire are set. Using them...",{secureSignature:e,secureExpire:n}),{secureSignature:e,secureExpire:n}):null}}const GD=(t,e)=>{const n=e.cfg.imgOnly,r=t.isImage;if(!(!n||r)&&!(!t.fileInfo&&t.externalUrl)&&!(!t.fileInfo&&!t.mimeType))return{type:"NOT_AN_IMAGE",message:e.l10n("images-only-accepted"),payload:{entry:t}}},KD=(t,e)=>{const n=e.cfg.imgOnly,r=e.cfg.accept,i=o7([...n?q1:[],r]);if(!i.length)return;const s=t.mimeType,o=t.name;if(!s||!o)return;const a=a7(s,i),l=LD(o,i);if(!a&&!l)return{type:"FORBIDDEN_FILE_TYPE",message:e.l10n("file-type-not-allowed"),payload:{entry:t}}},Xr=1e3,eo=Object.freeze({AUTO:"auto",BYTE:"byte",KB:"kb",MB:"mb",GB:"gb",TB:"tb",PB:"pb"}),ql=t=>Math.ceil(t*100)/100,QD=(t,e=eo.AUTO)=>{const n=e===eo.AUTO;if(e===eo.BYTE||n&&t<Xr**1){const r=Fb("en-US",t),i={one:"byte",other:"bytes"}[r];return`${t} ${i}`}return e===eo.KB||n&&t<Xr**2?`${ql(t/Xr**1)} KB`:e===eo.MB||n&&t<Xr**3?`${ql(t/Xr**2)} MB`:e===eo.GB||n&&t<Xr**4?`${ql(t/Xr**3)} GB`:e===eo.TB||n&&t<Xr**5?`${ql(t/Xr**4)} TB`:`${ql(t/Xr**5)} PB`},XD=(t,e)=>{const n=e.cfg.maxLocalFileSizeBytes,r=t.size;if(n&&r&&r>n)return{type:"FILE_SIZE_EXCEEDED",message:e.l10n("files-max-size-limit-error",{maxFileSize:QD(n)}),payload:{entry:t}}},YD=(t,e)=>{var s;const{internalId:n}=t,r=(s=e.uploadCollection.read(n))==null?void 0:s.getValue("uploadError");if(!r)return;if(r instanceof Vn)return{type:"UPLOAD_ERROR",message:r.message,payload:{entry:t,error:r}};if(r instanceof Lu)return{type:"NETWORK_ERROR",message:r.message,payload:{entry:t,error:r}};const i=r instanceof Error?r:new Error("Unknown error",{cause:r});return{type:"UNKNOWN_ERROR",message:i.message,payload:{entry:t,error:i}}},ZD=(t,e)=>{if(t.failedCount>0)return{type:"SOME_FILES_HAS_ERRORS",message:e.l10n("some-files-were-not-uploaded")}},JD=(t,e)=>{const n=t.totalCount,r=e.cfg.multiple?e.cfg.multipleMin:0,i=e.cfg.multiple?e.cfg.multipleMax:1;if(r&&n<r)return{type:"TOO_FEW_FILES",message:e.l10n("files-count-limit-error-too-few",{min:r,max:i,total:n}),payload:{total:n,min:r,max:i}};if(i&&n>i)return{type:"TOO_MANY_FILES",message:e.l10n("files-count-limit-error-too-many",{min:r,max:i,total:n}),payload:{total:n,min:r,max:i}}},Ed={file:"File validator execution has failed",collection:"Collection validator execution has failed",message:"Missing message. We recommend adding message: value."};class eM{constructor(e){$(this,"_blockInstance");$(this,"_fileValidators",[GD,KD,XD,YD]);$(this,"_collectionValidators",[JD,ZD]);this._blockInstance=e,this._uploadCollection=this._blockInstance.uploadCollection;const n=()=>{this.runFileValidators(),this.runCollectionValidators()};this._blockInstance.subConfigValue("maxLocalFileSizeBytes",n),this._blockInstance.subConfigValue("multipleMin",n),this._blockInstance.subConfigValue("multipleMax",n),this._blockInstance.subConfigValue("multiple",n),this._blockInstance.subConfigValue("imgOnly",n),this._blockInstance.subConfigValue("accept",n)}runFileValidators(e){const n=e??this._uploadCollection.items();for(const r of n){const i=this._uploadCollection.read(r);i&&this._runFileValidatorsForEntry(i)}}runCollectionValidators(){const e=this._blockInstance.getOutputCollectionState(),n=[];for(const r of[...this._collectionValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.collectionValidators)])try{const i=r(e,this._blockInstance);if(!i)continue;i&&(n.push(i),i.message||console.warn(Ed.message))}catch(i){console.warn(Ed.collection,i)}this._blockInstance.$["*collectionErrors"]=n,n.length>0&&this._blockInstance.emit(St.COMMON_UPLOAD_FAILED,()=>this._blockInstance.getOutputCollectionState(),{debounce:!0})}_runFileValidatorsForEntry(e){const n=this._blockInstance.getOutputItem(e.uid),r=[];for(const i of[...this._fileValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.fileValidators)])try{const s=i(n,this._blockInstance);if(!s)continue;s&&(r.push(s),s.message||console.warn(Ed.message))}catch(s){console.warn(Ed.file,s)}e.setValue("errors",r)}_addCustomTypeToValidators(e){return e.map(n=>(...r)=>{const i=n(...r);return i?{...i,type:"CUSTOM_ERROR"}:void 0})}}class gt extends ke{constructor(){super(...arguments);$(this,"couldBeCtxOwner",!1);$(this,"isCtxOwner",!1);$(this,"init$",t7(this));$(this,"uploadAll",()=>{const n=this.uploadCollection.items().filter(r=>{const i=this.uploadCollection.read(r);return!i.getValue("isRemoved")&&!i.getValue("isUploading")&&!i.getValue("fileInfo")});n.length!==0&&(this.$["*uploadTrigger"]=new Set(n),this.emit(St.COMMON_UPLOAD_START,this.getOutputCollectionState()))});$(this,"_flushOutputItems",vr(async()=>{if(this.getOutputData().length!==this.uploadCollection.size)return;const r=this.getOutputCollectionState();this.$["*collectionState"]=r,this.emit(St.CHANGE,()=>this.getOutputCollectionState(),{debounce:!0}),this.cfg.groupOutput&&r.totalCount>0&&r.status==="success"&&this._createGroup(r)},300));$(this,"_handleCollectionUpdate",(n,r,i)=>{var s;(r.size||i.size)&&(this.$["*groupInfo"]=null),this.validationManager&&(this.validationManager.runFileValidators(),this.validationManager.runCollectionValidators());for(const o of r)o.getValue("silent")||this.emit(St.FILE_ADDED,this.getOutputItem(o.uid));for(const o of i)this.$["*uploadTrigger"].delete(o.uid),(s=o.getValue("abortController"))==null||s.abort(),o.setMultipleValues({isRemoved:!0,abortController:null,isUploading:!1,uploadProgress:0}),URL.revokeObjectURL(o==null?void 0:o.getValue("thumbUrl")),this.emit(St.FILE_REMOVED,this.getOutputItem(o.uid));this.$["*uploadList"]=n.map(o=>({uid:o})),this._flushCommonUploadProgress(),this._flushOutputItems()});$(this,"_handleCollectionPropertiesUpdate",n=>{this._flushOutputItems();const r=this.uploadCollection,i=[...new Set(Object.entries(n).filter(([s])=>["uploadError","fileInfo"].includes(s)).map(([,s])=>[...s]).flat())];if(i.length>0&&setTimeout(()=>{this.validationManager&&this.validationManager.runFileValidators(i)}),n.uploadProgress){for(const s of n.uploadProgress){const{isUploading:o,silent:a}=He.getCtx(s).store;o&&!a&&this.emit(St.FILE_UPLOAD_PROGRESS,this.getOutputItem(s))}this._flushCommonUploadProgress()}if(n.isUploading)for(const s of n.isUploading){const{isUploading:o,silent:a}=He.getCtx(s).store;o&&!a&&this.emit(St.FILE_UPLOAD_START,this.getOutputItem(s))}if(n.fileInfo){for(const a of n.fileInfo){const{fileInfo:l,silent:u}=He.getCtx(a).store;l&&!u&&this.emit(St.FILE_UPLOAD_SUCCESS,this.getOutputItem(a))}this.cfg.cropPreset&&this.setInitialCrop();let s=r.findItems(a=>!!a.getValue("fileInfo")),o=r.findItems(a=>a.getValue("errors").length>0);r.size>0&&o.length===0&&r.size===s.length&&this.emit(St.COMMON_UPLOAD_SUCCESS,this.getOutputCollectionState())}if(n.errors)for(const s of n.errors){const{errors:o}=He.getCtx(s).store;o.length>0&&(this.emit(St.FILE_UPLOAD_FAILED,this.getOutputItem(s)),this.emit(St.COMMON_UPLOAD_FAILED,()=>this.getOutputCollectionState(),{debounce:!0}))}n.cdnUrl&&([...n.cdnUrl].filter(o=>{var a;return!!((a=this.uploadCollection.read(o))!=null&&a.getValue("cdnUrl"))}).forEach(o=>{this.emit(St.FILE_URL_CHANGED,this.getOutputItem(o))}),this.$["*groupInfo"]=null)});$(this,"_flushCommonUploadProgress",()=>{let n=0;const i=[...this.$["*uploadTrigger"]].filter(o=>!!this.uploadCollection.read(o));i.forEach(o=>{const a=this.uploadCollection.readProp(o,"uploadProgress");n+=a});const s=i.length?Math.round(n/i.length):0;this.$["*commonProgress"]!==s&&(this.$["*commonProgress"]=s,this.emit(St.COMMON_UPLOAD_PROGRESS,this.getOutputCollectionState()))})}get hasCtxOwner(){return this.hasBlockInCtx(n=>n instanceof gt?n.isCtxOwner&&n.isConnected&&n!==this:!1)}initCallback(){if(super.initCallback(),!this.$["*uploadCollection"]){let n=new MD({typedSchema:jD,watchList:["uploadProgress","uploadError","fileInfo","errors","cdnUrl","isUploading"]});this.$["*uploadCollection"]=n}this.has("*validationManager")||this.add("*validationManager",new eM(this)),!this.hasCtxOwner&&this.couldBeCtxOwner&&this.initCtxOwner()}get validationManager(){return this.has("*validationManager")?this.$["*validationManager"]:null}destroyCtxCallback(){var n,r;(n=this._unobserveCollectionProperties)==null||n.call(this),(r=this._unobserveCollection)==null||r.call(this),this.uploadCollection.destroy(),this.$["*uploadCollection"]=null,super.destroyCtxCallback()}initCtxOwner(){this.isCtxOwner=!0,this._unobserveCollection=this.uploadCollection.observeCollection(this._handleCollectionUpdate),this._unobserveCollectionProperties=this.uploadCollection.observeProperties(this._handleCollectionPropertiesUpdate),this.subConfigValue("maxConcurrentRequests",n=>{this.$["*uploadQueue"].concurrency=Number(n)||1}),this.$["*secureUploadsManager"]||(this.$["*secureUploadsManager"]=new qD(this))}addFileFromUrl(n,{silent:r,fileName:i,source:s}={}){const o=this.uploadCollection.add({externalUrl:n,fileName:i??null,silent:r??!1,source:s??Jr.API});return this.getOutputItem(o)}addFileFromUuid(n,{silent:r,fileName:i,source:s}={}){const o=this.uploadCollection.add({uuid:n,fileName:i??null,silent:r??!1,source:s??Jr.API});return this.getOutputItem(o)}addFileFromCdnUrl(n,{silent:r,fileName:i,source:s}={}){const o=HD({url:n,cdnBase:this.cfg.cdnCname});if(!o)throw new Error("Invalid CDN URL");const a=this.uploadCollection.add({uuid:o.uuid,cdnUrl:n,cdnUrlModifiers:o.cdnUrlModifiers,fileName:i??o.filename??null,silent:r??!1,source:s??Jr.API});return this.getOutputItem(a)}addFileFromObject(n,{silent:r,fileName:i,source:s,fullPath:o}={}){const a=this.uploadCollection.add({file:n,isImage:ND(n),mimeType:n.type,fileName:i??n.name,fileSize:n.size,silent:r??!1,source:s??Jr.API,fullPath:o??null});return this.getOutputItem(a)}removeFileByInternalId(n){if(!this.uploadCollection.read(n))throw new Error(`File with internalId ${n} not found`);this.uploadCollection.remove(n)}removeAllFiles(){this.uploadCollection.clearAll()}openSystemDialog(n={}){let r=$1(o7([this.cfg.accept??"",...this.cfg.imgOnly?q1:[]]));this.cfg.accept&&this.cfg.imgOnly&&console.warn("There could be a mistake.\nBoth `accept` and `imgOnly` parameters are set.\nThe value of `accept` will be concatenated with the internal image mime types list."),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=this.cfg.multiple,n.captureCamera?(this.fileInput.capture=this.cfg.cameraCapture,this.fileInput.accept="image/*"):this.fileInput.accept=r,this.fileInput.dispatchEvent(new MouseEvent("click")),this.fileInput.onchange=()=>{[...this.fileInput.files].forEach(i=>this.addFileFromObject(i,{source:n.captureCamera?Jr.CAMERA:Jr.LOCAL})),this.$["*currentActivity"]=ke.activities.UPLOAD_LIST,this.setOrAddState("*modalActive",!0),this.fileInput.value="",this.fileInput=null}}get sourceList(){let n=[];return this.cfg.sourceList&&(n=Vs(this.cfg.sourceList)),n}initFlow(n=!1){var r;if(this.uploadCollection.size>0&&!n)this.set$({"*currentActivity":ke.activities.UPLOAD_LIST}),this.setOrAddState("*modalActive",!0);else if(((r=this.sourceList)==null?void 0:r.length)===1){const i=this.sourceList[0];if(i==="local"){this.$["*currentActivity"]=ke.activities.UPLOAD_LIST,this==null||this.openSystemDialog();return}const s=this.blocksRegistry,o=l=>"type"in l&&l.type===i,a=[...s].find(o);a==null||a.activate(),this.$["*currentActivity"]&&this.setOrAddState("*modalActive",!0)}else this.set$({"*currentActivity":ke.activities.START_FROM}),this.setOrAddState("*modalActive",!0)}doneFlow(){this.set$({"*currentActivity":this.doneActivity,"*history":this.doneActivity?[this.doneActivity]:[]}),this.$["*currentActivity"]||this.setOrAddState("*modalActive",!1)}get uploadCollection(){return this.$["*uploadCollection"]}async _createGroup(n){const r=await this.getUploadClientOptions(),i=n.allEntries.map(l=>l.uuid+(l.cdnUrlModifiers?`/${l.cdnUrlModifiers}`:"")),s=new AbortController,o=await KO(i,{...r,signal:s.signal});if(this.$["*collectionState"]!==n){s.abort();return}this.$["*groupInfo"]=o;const a=this.getOutputCollectionState();this.emit(St.GROUP_CREATED,a),this.emit(St.CHANGE,()=>this.getOutputCollectionState(),{debounce:!0}),this.$["*collectionState"]=a}setInitialCrop(){const n=s7(this.cfg.cropPreset);if(n){const[r]=n,i=this.uploadCollection.findItems(s=>{var o;return s.getValue("fileInfo")&&s.getValue("isImage")&&!((o=s.getValue("cdnUrlModifiers"))!=null&&o.includes("/crop/"))}).map(s=>this.uploadCollection.read(s));for(const s of i){const o=s.getValue("fileInfo"),{width:a,height:l}=o.imageInfo,u=r.width/r.height,d=RD(a,l,u),h=Ms(`crop/${d.width}x${d.height}/${d.x},${d.y}`,"preview");s.setMultipleValues({cdnUrlModifiers:h,cdnUrl:hr(s.getValue("cdnUrl"),h)}),this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(p=>p.activityType===ke.activities.CLOUD_IMG_EDIT)&&(this.$["*focusedEntry"]=s,this.$["*currentActivity"]=ke.activities.CLOUD_IMG_EDIT)}}}async getMetadataFor(n){const r=this.cfg.metadata||void 0;if(typeof r=="function"){const i=this.getOutputItem(n);return await r(i)}return r}async getUploadClientOptions(){const r=await this.$["*secureUploadsManager"].getSecureToken().catch(()=>null);return{store:this.cfg.store,publicKey:this.cfg.pubkey,baseCDN:this.cfg.cdnCname,baseURL:this.cfg.baseUrl,userAgent:PD,integration:this.cfg.userAgentIntegration,secureSignature:r==null?void 0:r.secureSignature,secureExpire:r==null?void 0:r.secureExpire,retryThrottledRequestMaxTimes:this.cfg.retryThrottledRequestMaxTimes,multipartMinFileSize:this.cfg.multipartMinFileSize,multipartChunkSize:this.cfg.multipartChunkSize,maxConcurrentRequests:this.cfg.multipartMaxConcurrentRequests,multipartMaxAttempts:this.cfg.multipartMaxAttempts,checkForUrlDuplicates:!!this.cfg.checkForUrlDuplicates,saveUrlForRecurrentUploads:!!this.cfg.saveUrlForRecurrentUploads}}getOutputItem(n){const r=He.getCtx(n).store,i=r.fileInfo;let s=r.isRemoved?"removed":r.errors.length>0?"failed":r.fileInfo?"success":r.isUploading?"uploading":"idle";return{uuid:(i==null?void 0:i.uuid)??r.uuid??null,internalId:n,name:(i==null?void 0:i.originalFilename)??r.fileName,size:(i==null?void 0:i.size)??r.fileSize,isImage:(i==null?void 0:i.isImage)??r.isImage,mimeType:(i==null?void 0:i.mimeType)??r.mimeType,file:r.file,externalUrl:r.externalUrl,cdnUrlModifiers:r.cdnUrlModifiers,cdnUrl:r.cdnUrl??(i==null?void 0:i.cdnUrl)??null,fullPath:r.fullPath,uploadProgress:r.uploadProgress,fileInfo:i??null,metadata:r.metadata??(i==null?void 0:i.metadata)??null,isSuccess:s==="success",isUploading:s==="uploading",isFailed:s==="failed",isRemoved:s==="removed",errors:r.errors,status:s}}getOutputData(n){return(n?this.uploadCollection.findItems(n):this.uploadCollection.items()).map(s=>this.getOutputItem(s))}getOutputCollectionState(){return FD(this)}}gt.extSrcList=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",INSTAGRAM:"instagram",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"});gt.sourceTypes=Object.freeze({LOCAL:"local",URL:"url",CAMERA:"camera",DRAW:"draw",...gt.extSrcList});const Zf=t=>{var e;return(e=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g))==null?void 0:e.map(n=>n.toLowerCase()).join("-")},Xt=t=>String(t),Ir=t=>{const e=Number(t);if(Number.isNaN(e))throw new Error(`Invalid number: "${t}"`);return e},bt=t=>{if(typeof t>"u"||t===null)return!1;if(typeof t=="boolean")return t;if(t==="true"||t==="")return!0;if(t==="false")return!1;throw new Error(`Invalid boolean: "${t}"`)},tM=t=>t==="auto"?t:bt(t),nM=t=>{const e=Xt(t);if(e!=="user"&&e!=="environment"&&e!=="")throw new Error(`Invalid "cameraCapture" value: "${e}"`);return e},rM=t=>{if(typeof t=="object"&&!Array.isArray(t)||typeof t=="function")return t;throw new Error("Invalid metadata value. Must be an object or function.")},iM=t=>{if(typeof t=="object")return t;throw new Error("Invalid value. Must be an object.")},Zp=t=>{if(typeof t=="function")return t;throw new Error("Invalid value. Must be a function.")},z_=t=>{if(Array.isArray(t))return t;throw new Error("Must be an array.")},sM={pubkey:Xt,multiple:bt,multipleMin:Ir,multipleMax:Ir,confirmUpload:bt,imgOnly:bt,accept:Xt,externalSourcesPreferredTypes:Xt,store:tM,cameraMirror:bt,cameraCapture:nM,sourceList:Xt,maxLocalFileSizeBytes:Ir,thumbSize:Ir,showEmptyList:bt,useLocalImageEditor:bt,useCloudImageEditor:bt,cloudImageEditorTabs:Xt,removeCopyright:bt,cropPreset:Xt,imageShrink:Xt,modalScrollLock:bt,modalBackdropStrokes:bt,sourceListWrap:bt,remoteTabSessionKey:Xt,cdnCname:Xt,baseUrl:Xt,socialBaseUrl:Xt,secureSignature:Xt,secureExpire:Xt,secureDeliveryProxy:Xt,retryThrottledRequestMaxTimes:Ir,multipartMinFileSize:Ir,multipartChunkSize:Ir,maxConcurrentRequests:Ir,multipartMaxConcurrentRequests:Ir,multipartMaxAttempts:Ir,checkForUrlDuplicates:bt,saveUrlForRecurrentUploads:bt,groupOutput:bt,userAgentIntegration:Xt,debug:bt,localeName:Xt,metadata:rM,secureUploadsExpireThreshold:Ir,localeDefinitionOverride:iM,secureUploadsSignatureResolver:Zp,secureDeliveryProxyUrlResolver:Zp,iconHrefResolver:Zp,fileValidators:z_,collectionValidators:z_},oM=(t,e)=>{if(!(typeof e>"u"||e===null))try{return sM[t](e)}catch(n){return console.error(`Invalid value for config key "${t}".`,n),xs[t]}},G1=[...new Set(["debug",...Object.keys(xs)])],aM=["metadata","localeDefinitionOverride","secureUploadsSignatureResolver","secureDeliveryProxyUrlResolver","iconHrefResolver","fileValidators","collectionValidators"],lM=t=>aM.includes(t),Ya=G1.filter(t=>!lM(t)),cM={...Object.fromEntries(Ya.map(t=>[Zf(t),t])),...Object.fromEntries(Ya.map(t=>[t.toLowerCase(),t]))},uM={...Object.fromEntries(Ya.map(t=>[Zf(t),dr(t)])),...Object.fromEntries(Ya.map(t=>[t.toLowerCase(),dr(t)]))},B_=t=>"__"+t;class K1 extends ht{constructor(){super();$(this,"requireCtxName",!0);this.init$={...this.init$,...Object.fromEntries(Object.entries(xs).map(([n,r])=>[dr(n),r]))}}_flushValueToAttribute(n,r){if(Ya.includes(n)){const i=[...new Set([Zf(n),n.toLowerCase()])];for(const s of i)typeof r>"u"||r===null?this.removeAttribute(s):this.getAttribute(s)!==r.toString()&&this.setAttribute(s,r.toString())}}_flushValueToState(n,r){this.$[dr(n)]!==r&&(typeof r>"u"||r===null?this.$[dr(n)]=xs[n]:this.$[dr(n)]=r)}_setValue(n,r){const i=this,s=oM(n,r),o=B_(n);i[o]!==s&&(this._assertSameValueDifferentReference(n,i[o],s),i[o]=s,this._flushValueToAttribute(n,s),this._flushValueToState(n,s),this.debugPrint(`[lr-config] "${n}"`,s))}_getValue(n){const r=this,i=B_(n);return r[i]}_assertSameValueDifferentReference(n,r,i){this.cfg.debug&&i!==r&&typeof i=="object"&&typeof r=="object"&&JSON.stringify(i)===JSON.stringify(r)&&(console.warn(`[lr-config] Option "${n}" value is the same as the previous one but the reference is different`),console.warn("[lr-config] You should avoid changing the reference of the object to prevent unnecessary calculations"),console.warn(`[lr-config] "${n}" previous value:`,r),console.warn(`[lr-config] "${n}" new value:`,i))}initCallback(){super.initCallback();const n=this;for(const r of Ya)this.sub(dr(r),i=>{this._setValue(r,i)},!1);for(const r of G1){const i=n[r]??this.$[dr(r)];i!==xs[r]&&this._setValue(r,i),Object.defineProperty(this,r,{set:s=>{this._setValue(r,s)},get:()=>this._getValue(r)})}}attributeChangedCallback(n,r,i){if(r===i)return;const s=this,o=cM[n];s[o]=i}}K1.bindAttributes(uM);for(const t of G1)K1.prototype[t]=void 0;const l7=K1;class Q1 extends ht{constructor(){super(),this.init$={...this.init$,name:"",href:"",title:""}}initCallback(){super.initCallback(),this.sub("name",e=>{if(!e)return;let n=`#uc-icon-${e}`;this.subConfigValue("iconHrefResolver",r=>{r&&(n=r(e)??n),this.$.href=n})})}}Q1.template=`
  <svg ref="svg" xmlns="http://www.w3.org/2000/svg">
    <title>{{title}}</title>
    <use set="@href: href;"></use>
  </svg>
`;Q1.bindAttributes({name:"name",title:"title"});const dM=t=>[...new Set(t)],hM=t=>Object.entries(t).filter(([e,n])=>n!==void 0&&n!=="").map(([e,n])=>e==="cdn-operations"||e==="analytics"?n:`${e}/${n}`),fM="https://ucarecdn.com",zh=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:fM},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{},"cdn-operations":{},progressive:{},quality:{},"is-background-for":{},"is-preview-blur":{default:1}}),oc="--lr-img-",H_="unresolved",bd=2,Td=3,W_=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),q_=3e3,G_=5e3,K_=Object.freeze({PREVIEW:"PREVIEW",MAIN:"MAIN"}),c7=Object.create(null);var vw;for(let t in zh)c7[oc+t]=((vw=zh[t])==null?void 0:vw.default)||"";class pM extends Hf{constructor(){super(...arguments);$(this,"cssInit$",c7)}$$(n){return this.$[oc+n]}set$$(n){for(let r in n)this.$[oc+r]=n[r]}sub$$(n,r){this.sub(oc+n,i=>{i===null||i===""||r(i)})}analyticsParams(){return`-/@clib/${D1}/${M1}/lr-img/`}initAttributes(n){[...this.attributes].forEach(r=>{zh[r.name]||n.setAttribute(r.name,r.value)})}initIntersection(n,r){let i={root:null,rootMargin:"0px"};this._isnObserver=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(r(),this._isnObserver.unobserve(n))})},i),this._isnObserver.observe(n),this._observed||(this._observed=new Set),this._observed.add(n)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(n=>{this._isnObserver.unobserve(n)}),this._isnObserver=null),He.deleteCtx(this)}static get observedAttributes(){return Object.keys(zh)}attributeChangedCallback(n,r,i){window.setTimeout(()=>{this.$[oc+n]=i})}}class mM extends pM{constructor(){super(...arguments);$(this,"_img",new Image);$(this,"_imgPreview",new Image)}_fmtAbs(n){return!n.includes("//")&&!W_&&(n=new URL(n,document.baseURI).href),n}_validateSize(n){if((n==null?void 0:n.trim())!==""){let r=n.match(/\d+/)[0],i=n.match(/[a-zA-Z]+/)[0];const s=parseInt(r,10);if(Number(s)>G_&&this.hasFormatJPG)return G_+i;if(Number(s)>q_&&!this.hasFormatJPG)return q_+i}return n}_getCdnModifiers(n,r){const i={format:this.$$("format"),quality:this.$$("quality"),resize:this._validateSize(n),blur:r,"cdn-operations":this.$$("cdn-operations"),analytics:this.analyticsParams()};return Ms(...hM(i))}_getUrlBase(n="",r=""){if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(W_&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let i=this._getCdnModifiers(n,r);if(this.$$("src").startsWith(this.$$("cdn-cname")))return hr(this.$$("src"),i);if(this.$$("cdn-cname")&&this.$$("uuid"))return this._proxyUrl(hr(iu(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("uuid"))return this._proxyUrl(hr(iu(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("proxy-cname"))return this._proxyUrl(hr(this.$$("proxy-cname"),i,this._fmtAbs(this.$$("src"))));if(this.$$("pubkey"))return this._proxyUrl(hr(`https://${this.$$("pubkey")}.ucr.io/`,i,this._fmtAbs(this.$$("src"))))}_proxyUrl(n){return this.$$("secure-delivery-proxy")?Im(this.$$("secure-delivery-proxy"),{previewUrl:n},{transform:i=>window.encodeURIComponent(i)}):n}_getElSize(n,r=1,i=!0){let s=n.getBoundingClientRect(),o=r*Math.round(s.width),a=i?"":r*Math.round(s.height);return o||a?`${o||""}x${a||""}`:null}_setupEventProxy(n){let r=s=>{s.stopPropagation();let o=new Event(s.type,s);this.dispatchEvent(o)},i=["load","error"];for(let s of i)n.addEventListener(s,r)}get img(){return this.hasPreviewImage||(this._setupConfigForImage({elNode:this._img}),this.appendChild(this._img)),this._img}get currentImg(){return this.hasPreviewImage?{type:K_.PREVIEW,img:this._imgPreview}:{type:K_.MAIN,img:this.img}}get hasPreviewImage(){return this.$$("is-preview-blur")}get bgSelector(){return this.$$("is-background-for")}get breakpoints(){if(this.$$("breakpoints")){const n=Vs(this.$$("breakpoints"));return dM(n.map(r=>parseInt(r,10)))}else return null}get hasFormatJPG(){return this.$$("format").toLowerCase()==="jpeg"}renderBg(n){let r=new Set;r.add(`url("${this._getUrlBase(this._getElSize(n))}") 1x`),this.$$("hi-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(n,bd))}") ${bd}x`),this.$$("ultra-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(n,Td))}") ${Td}x`);let i=`image-set(${[...r].join(", ")})`;n.style.setProperty("background-image",i),n.style.setProperty("background-image","-webkit-"+i)}getSrcset(){let n=new Set;return this.breakpoints?this.breakpoints.forEach(r=>{n.add(this._getUrlBase(r+"x")+` ${this._validateSize(r+"w")}`),this.$$("hi-res-support")&&n.add(this._getUrlBase(r*bd+"x")+` ${this._validateSize(r*bd+"w")}`),this.$$("ultra-res-support")&&n.add(this._getUrlBase(r*Td+"x")+` ${this._validateSize(r*Td+"w")}`)}):(n.add(this._getUrlBase(this._getElSize(this.currentImg.img))+" 1x"),this.$$("hi-res-support")&&n.add(this._getUrlBase(this._getElSize(this.currentImg.img,2))+" 2x"),this.$$("ultra-res-support")&&n.add(this._getUrlBase(this._getElSize(this.currentImg.img,3))+" 3x")),[...n].join()}getSrc(){return this._getUrlBase()}get srcUrlPreview(){return this._getUrlBase("100x","100")}renderBackground(){[...document.querySelectorAll(this.bgSelector)].forEach(n=>{this.$$("intersection")?this.initIntersection(n,()=>{this.renderBg(n)}):this.renderBg(n)})}_appendURL({elNode:n,src:r,srcset:i}){r&&(n.src=r),i&&(n.srcset=i)}_setupConfigForImage({elNode:n}){this._setupEventProxy(n),this.initAttributes(n)}loaderImage({src:n,srcset:r,elNode:i}){return new Promise((s,o)=>{this._setupConfigForImage({elNode:i}),i.setAttribute(H_,""),i.addEventListener("load",()=>{i.removeAttribute(H_),s(i)}),i.addEventListener("error",()=>{o(!1)}),this._appendURL({elNode:i,src:n,srcset:r})})}async renderImage(){var n,r;if(this.$$("intersection")){this.hasPreviewImage&&(this._setupConfigForImage({elNode:this._imgPreview}),this.appendChild(this._imgPreview)),this.initIntersection(this.currentImg.img,async()=>{var i;this.hasPreviewImage&&(this._imgPreview.src=this.srcUrlPreview);try{await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await this._imgPreview.remove(),this.appendChild(this._img)}catch{this.hasPreviewImage&&await((i=this._imgPreview)==null?void 0:i.remove()),this.appendChild(this._img)}});return}try{this.hasPreviewImage&&(await this.loaderImage({src:this.srcUrlPreview,elNode:this._imgPreview}),this.appendChild(this._imgPreview)),await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await((n=this._imgPreview)==null?void 0:n.remove()),this.appendChild(this._img)}catch{this.hasPreviewImage&&await((r=this._imgPreview)==null?void 0:r.remove()),this.appendChild(this._img)}}init(){this.bgSelector?this.renderBackground():this.renderImage()}}class gM extends mM{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",e=>{!this.$$("is-background-for")&&!this.$$("is-preview-blur")&&(this.img.loading=e?"lazy":"eager")})}}const bc=class bc extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);this.init$={...this.init$,withDropZone:!0,onClick:()=>{this.initFlow()},"button-text":""}}initCallback(){super.initCallback(),this.defineAccessor("dropzone",n=>{typeof n>"u"||(this.$.withDropZone=bt(n))}),this.subConfigValue("multiple",n=>{this.$["button-text"]=n?"upload-files":"upload-file"})}};$(bc,"styleAttrs",[...Xi(bc,bc,"styleAttrs"),"lr-simple-btn"]);let su=bc;su.template=`
  <lr-drop-area set="@disabled: !withDropZone">
    <button type="button" set="onclick: onClick">
      <lr-icon name="upload"></lr-icon>
      <span l10n="button-text"></span>
      <slot></slot>
      <div class="visual-drop-area" l10n="drop-files-here"></div>
    </button>
  </lr-drop-area>
`;su.bindAttributes({dropzone:null});class u7 extends ke{constructor(){super(...arguments);$(this,"historyTracked",!0);$(this,"activityType","start-from")}initCallback(){super.initCallback(),this.registerActivity(this.activityType)}}u7.template=' <div class="content"><slot></slot></div> ';function yM(t){return new Promise(e=>{typeof window.FileReader!="function"&&e(!1);try{let n=new FileReader;n.onerror=()=>{e(!0)};let r=i=>{i.type!=="loadend"&&n.abort(),e(!1)};n.onloadend=r,n.onprogress=r,n.readAsDataURL(t)}catch{e(!1)}})}function vM(t,e){return new Promise(n=>{let r=0;const i=[],s=a=>{a||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),n(null)),a.isFile?(r++,a.file(l=>{r--;const u=new File([l],l.name,{type:l.type||e});i.push({type:"file",file:u,fullPath:a.fullPath}),r===0&&n(i)})):a.isDirectory&&o(a.createReader())};let o=a=>{r++,a.readEntries(l=>{r--;for(let u of l)s(u);r===0&&n(i)})};s(t)})}function _M(t){const e=[],n=[];for(let r=0;r<t.items.length;r++){let i=t.items[r];if(i)if(i.kind==="file"){const s=i.type;if(typeof i.webkitGetAsEntry=="function"||typeof i.getAsEntry=="function"){let a=typeof i.webkitGetAsEntry=="function"?i.webkitGetAsEntry():i.getAsEntry();n.push(vM(a,s).then(l=>{l&&e.push(...l)}));continue}const o=i.getAsFile();o&&n.push(yM(o).then(a=>{a||e.push({type:"file",file:o})}))}else i.kind==="string"&&i.type.match("^text/uri-list")&&n.push(new Promise(s=>{i.getAsString(o=>{e.push({type:"url",url:o}),s(void 0)})}))}return Promise.all(n).then(()=>e)}const kn={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let Q_=["focus"],wM=100,Jp=new Map;function EM(t,e){let n=Math.max(Math.min(t[0],e.x+e.width),e.x),r=Math.max(Math.min(t[1],e.y+e.height),e.y);return Math.sqrt((t[0]-n)*(t[0]-n)+(t[1]-r)*(t[1]-r))}function X_(t){let e=0,n=document.body,r=new Set,i=y=>r.add(y),s=kn.INACTIVE,o=y=>{t.shouldIgnore()&&y!==kn.INACTIVE||(s!==y&&r.forEach(E=>E(y)),s=y)},a=()=>e>0;i(y=>t.onChange(y));let l=()=>{e=0,o(kn.INACTIVE)},u=()=>{e+=1,s===kn.INACTIVE&&o(kn.ACTIVE)},d=()=>{e-=1,a()||o(kn.INACTIVE)},h=y=>{y.preventDefault(),e=0,o(kn.INACTIVE)},p=y=>{if(t.shouldIgnore())return;a()||(e+=1);let E=[y.x,y.y],x=t.element.getBoundingClientRect(),w=Math.floor(EM(E,x)),v=w<wM,A=y.composedPath().includes(t.element);Jp.set(t.element,w);let M=Math.min(...Jp.values())===w;A&&M?(y.preventDefault(),o(kn.OVER)):o(v&&M?kn.NEAR:kn.ACTIVE)},g=async y=>{if(t.shouldIgnore())return;y.preventDefault();let E=await _M(y.dataTransfer);t.onItems(E),o(kn.INACTIVE)};return n.addEventListener("drop",h),n.addEventListener("dragleave",d),n.addEventListener("dragenter",u),n.addEventListener("dragover",p),t.element.addEventListener("drop",g),Q_.forEach(y=>{window.addEventListener(y,l)}),()=>{Jp.delete(t.element),n.removeEventListener("drop",h),n.removeEventListener("dragleave",d),n.removeEventListener("dragenter",u),n.removeEventListener("dragover",p),t.element.removeEventListener("drop",g),Q_.forEach(y=>{window.removeEventListener(y,l)})}}const d7="lr-drop-area",Zo=`${d7}/registry`,Tc=class Tc extends gt{constructor(){super(),this.init$={...this.init$,state:kn.INACTIVE,withIcon:!1,isClickable:!1,isFullscreen:!1,isEnabled:!0,isVisible:!0,text:"",[Zo]:null}}isActive(){if(!this.$.isEnabled)return!1;const e=this.getBoundingClientRect(),n=e.width>0&&e.height>0,r=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth),i=window.getComputedStyle(this),s=i.visibility!=="hidden"&&i.display!=="none";return n&&s&&r}initCallback(){super.initCallback(),this.bindL10n("text",()=>this.l10n("drop-files-here")),this.$[Zo]||(this.$[Zo]=new Set),this.$[Zo].add(this),this.defineAccessor("disabled",n=>{this.set$({isEnabled:!bt(n)})}),this.defineAccessor("clickable",n=>{this.set$({isClickable:bt(n)})}),this.defineAccessor("with-icon",n=>{this.set$({withIcon:bt(n)})}),this.defineAccessor("fullscreen",n=>{this.set$({isFullscreen:bt(n)})}),this.defineAccessor("text",n=>{typeof n=="string"?this.bindL10n("text",()=>this.l10n(n)||n):this.bindL10n("text",()=>this.l10n("drop-files-here"))}),this._destroyDropzone=X_({element:this,shouldIgnore:()=>this._shouldIgnore(),onChange:n=>{this.$.state=n},onItems:n=>{n.length&&(n.forEach(r=>{r.type==="url"?this.addFileFromUrl(r.url,{source:Jr.DROP_AREA}):r.type==="file"&&this.addFileFromObject(r.file,{source:Jr.DROP_AREA,fullPath:r.fullPath})}),this.uploadCollection.size&&(this.set$({"*currentActivity":ke.activities.UPLOAD_LIST}),this.setOrAddState("*modalActive",!0)))}});let e=this.ref["content-wrapper"];e&&(this._destroyContentWrapperDropzone=X_({element:e,onChange:n=>{var i;const r=(i=Object.entries(kn).find(([,s])=>s===n))==null?void 0:i[0].toLowerCase();r&&e.setAttribute("drag-state",r)},onItems:()=>{},shouldIgnore:()=>this._shouldIgnore()})),this.sub("state",n=>{var i;const r=(i=Object.entries(kn).find(([,s])=>s===n))==null?void 0:i[0].toLowerCase();r&&this.setAttribute("drag-state",r)}),this.subConfigValue("sourceList",n=>{const r=Vs(n);this.$.isEnabled=r.includes(gt.sourceTypes.LOCAL),this.$.isVisible=this.$.isEnabled||!this.querySelector("[data-default-slot]")}),this.sub("isVisible",n=>{this.toggleAttribute("hidden",!n)}),this.sub("isClickable",n=>{this.toggleAttribute("clickable",n)}),this.$.isClickable&&(this._onAreaClicked=n=>{n.type==="keydown"?(n.code==="Space"||n.code==="Enter")&&this.openSystemDialog():n.type==="click"&&this.openSystemDialog()},this.addEventListener("keydown",this._onAreaClicked),this.addEventListener("click",this._onAreaClicked))}_shouldIgnore(){return!this.$.isEnabled||!this._couldHandleFiles()?!0:this.$.isFullscreen?[...this.$[Zo]].filter(r=>r!==this).filter(r=>r.isActive()).length>0:!1}_couldHandleFiles(){let e=this.cfg.multiple,n=this.cfg.multipleMax,r=this.uploadCollection.size;return!(e&&n&&r>=n||!e&&r>0)}destroyCallback(){var n,r;super.destroyCallback();const e=this.$[Zo];e&&(e.delete(this),e.size===0&&He.deleteCtx(d7)),(n=this._destroyDropzone)==null||n.call(this),(r=this._destroyContentWrapperDropzone)==null||r.call(this),this._onAreaClicked&&(this.removeEventListener("keydown",this._onAreaClicked),this.removeEventListener("click",this._onAreaClicked))}};$(Tc,"styleAttrs",[...Xi(Tc,Tc,"styleAttrs"),"lr-drop-area"]);let ou=Tc;ou.template=`
  <slot>
    <div data-default-slot hidden></div>
    <div ref="content-wrapper" class="content-wrapper" set="@hidden: !isVisible">
      <div class="icon-container" set="@hidden: !withIcon">
        <lr-icon name="default"></lr-icon>
        <lr-icon name="arrow-down"></lr-icon>
      </div>
      <span class="text">{{text}}</span>
    </div>
  </slot>
`;ou.bindAttributes({"with-icon":null,clickable:null,text:null,fullscreen:null,disabled:null});const bM="src-type-";class X1 extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);$(this,"type");$(this,"_registeredTypes",{});this.init$={...this.init$,iconName:"default","src-type":""}}initTypes(){this.registerType({type:gt.sourceTypes.LOCAL,activate:()=>(this.openSystemDialog(),!1)}),this.registerType({type:gt.sourceTypes.URL,activity:ke.activities.URL,textKey:"from-url"}),this.registerType({type:gt.sourceTypes.CAMERA,activity:ke.activities.CAMERA,activate:()=>{const n="capture"in document.createElement("input");return n&&this.openSystemDialog({captureCamera:!0}),!n}}),this.registerType({type:"draw",activity:ke.activities.DRAW,icon:"edit-draw"});for(let n of Object.values(gt.extSrcList))this.registerType({type:n,activity:ke.activities.EXTERNAL,activityParams:{externalSourceType:n}})}initCallback(){super.initCallback(),this.initTypes(),this.defineAccessor("type",n=>{n&&this.applyType(n)})}registerType(n){this._registeredTypes[n.type]=n}getType(n){return this._registeredTypes[n]}activate(){if(!this.type)return;const n=this._registeredTypes[this.type],{activity:r,activate:i,activityParams:s={}}=n;(i?i():!!r)&&this.set$({"*currentActivityParams":s,"*currentActivity":r})}applyType(n){const r=this._registeredTypes[n];if(!r){console.warn("Unsupported source type: "+n);return}const{textKey:i=n,icon:s=n}=r;this.$["src-type"]=`${bM}${i}`,this.$.iconName=s,this.onclick=()=>{this.activate()}}}X1.template=`
  <button>
    <lr-icon set="@name: iconName"></lr-icon>
    <div class="txt" l10n="src-type"></div>
  </button>
`;X1.bindAttributes({type:null});class TM extends ht{initCallback(){super.initCallback(),this.subConfigValue("sourceList",e=>{let n=Vs(e),r="";n.forEach(i=>{r+=`<lr-source-btn type="${i}"></lr-source-btn>`}),this.cfg.sourceListWrap?this.innerHTML=r:this.outerHTML=r})}}const Jf=()=>{const t=[];return{stack:t,promiseReadJpegChunks:n=>new Promise((r,i)=>{let s=2;const o=(u,d)=>{const h=new FileReader;h.addEventListener("load",()=>{d(new DataView(h.result))}),h.addEventListener("error",p=>{i(`Reader error: ${p}`)}),h.readAsArrayBuffer(u)},a=()=>o(n.slice(s,s+128),u=>{let d,h,p;for(d=h=0,p=u.byteLength;p>=0?h<p:h>p;d=p>=0?++h:--h)if(u.getUint8(d)===255){s+=d;break}l()}),l=()=>{const u=s;return o(n.slice(s,s+=4),d=>{if(d.byteLength!==4||d.getUint8(0)!==255){i("Corrupted");return}const h=d.getUint8(1);if(h===218){r(!0);return}const p=d.getUint16(2)-2;return o(n.slice(s,s+=p),g=>{if(g.byteLength!==p){i("Corrupted");return}t.push({startPos:u,length:p,marker:h,view:g}),a()})})};FileReader&&DataView||i("Not Support"),o(n.slice(0,2),u=>{u.getUint16(0)!==65496&&i("Not jpeg"),a()})})}},CM=async t=>{const e=[],{promiseReadJpegChunks:n,stack:r}=Jf();return await n(t),r.forEach(({marker:i,view:s})=>{i===226&&s.getUint32(0)===1229144927&&s.getUint32(4)===1347571526&&s.getUint32(8)===1229735168&&e.push(s)}),e},h7=async(t,e,n)=>{{const r=[],i=[],{promiseReadJpegChunks:s,stack:o}=Jf();await s(t),o.forEach(u=>{if(u.marker===e)return r.push(u.startPos),i.push(u.length)});const a=[t.slice(0,2)];for(const u of n){const d=new DataView(new ArrayBuffer(4));d.setUint16(0,65280+e),d.setUint16(2,u.byteLength+2),a.push(d.buffer),a.push(u)}let l=2;for(let u=0;u<r.length;u++)r[u]>l&&a.push(t.slice(l,r[u])),l=r[u]+i[u]+4;return a.push(t.slice(l,t.size)),new Blob(a,{type:t.type})}},SM=226,f7=(t,e)=>h7(t,SM,e.map(n=>n.buffer)),AM=async t=>{try{return await f7(t,[])}catch(e){throw new Error(`Failed to strip ICC profile: ${e}`)}},IM=(t,e,n)=>new Promise((r,i)=>{const s=o=>{if(!o){i("Failed to convert canvas to blob");return}r(o)};t.toBlob(s,e,n),t.width=t.height=1}),au=()=>{const t=document.createElement("canvas"),e=t.getContext("2d");return{canvas:t,ctx:e}},xM=t=>{const{ctx:n,canvas:r}=au();r.width=r.height=50,n.drawImage(t,0,0,50,50);const i=n.getImageData(0,0,50,50).data;r.width=r.height=1;for(let s=3;s<i.length;s+=4)if(i[s]<254)return!0;return!1},kM=async t=>{let e=null;const{promiseReadJpegChunks:n,stack:r}=Jf();return await n(t),r.forEach(({marker:i,view:s})=>{if(!e&&i===225&&s.byteLength>=14&&s.getUint32(0)===1165519206&&s.getUint16(4)===0){e=s;return}}),e},RM="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let Cd;const PM=()=>new Promise(t=>{if(Cd!==void 0)t(Cd);else{const e=new Image;e.addEventListener("load",()=>{Cd=e.naturalWidth<e.naturalHeight,e.src="//:0",t(Cd)}),e.src=RM}}),LM=(t,e)=>{let n,r,i,s;if(!t||t.byteLength<14||t.getUint32(0)!==1165519206||t.getUint16(4)!==0)return;if(t.getUint16(6)===18761)r=!0;else if(t.getUint16(6)===19789)r=!1;else return;if(t.getUint16(8,r)!==42)return;i=8+t.getUint32(10,r);const o=t.getUint16(i-2,r);for(n=0,s=o;s>=0?n<s:n>s;s>=0?++n:--n){if(t.byteLength<i+10)return;t.getUint16(i,r)===274&&e(i+8,r),i+=12}},NM=(t,e)=>{LM(t,(n,r)=>t.setUint16(n,e,r))},OM=async(t,e,n)=>(n&&NM(e,1),h7(t,225,[e.buffer])),DM=(t,e)=>new Promise((n,r)=>{e&&(t.src=e),t.complete?n(t):(t.addEventListener("load",()=>{n(t)}),t.addEventListener("error",()=>{r(new Error("Failed to load image. Probably not an image."))}))}),MM=t=>DM(new Image,t),VM=[1,3],UM=[192,193,194,195,197,198,199,201,202,203,205,206,207],Y_={squareSide:[Math.floor(Math.sqrt(5*1e3*1e3)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},$M=async t=>{let e=!1;const{promiseReadJpegChunks:n,stack:r}=Jf();return await n(t).then(()=>(r.forEach(({marker:i,view:s})=>{if(!e&&UM.indexOf(i)>=0){const o=s.getUint8(5);VM.indexOf(o)<0&&(e=!0)}}),e)).catch(()=>e)},p7=(t,e)=>{const n={};return(...r)=>{const i=e(r,n);return i in n?n[i]:n[i]=t(...r)}},m7=(t,e)=>{const[n]=t,r=Object.keys(e).map(i=>parseInt(i,10)).sort((i,s)=>i-s);for(let i=0;i<r.length;i++){const s=r[i],o=!!e[s];if(s>n&&o||s<n&&!o)return s}return n},ps={R:55,G:110,B:165,A:255},FM=`rgba(${ps.R}, ${ps.G}, ${ps.B}, ${ps.A/255})`,g7=(t,e)=>{try{const n=[t-1,e-1,1,1],{canvas:r,ctx:i}=au();r.width=1,r.height=1;const{canvas:s,ctx:o}=au();s.width=t,s.height=e,o&&(o.fillStyle=FM,o.fillRect(...n),i.drawImage(s,t-1,e-1,1,1,0,0,1,1));const a=i&&i.getImageData(0,0,1,1).data;let l=!1;return a&&(l=a[0]===ps.R&&a[1]===ps.G&&a[2]===ps.B&&a[3]===ps.A),s.width=s.height=1,l}catch{return console.error(`Failed to test for max canvas size of ${t}x${e}.`),!1}};function y7(t){return(...e)=>new Promise(n=>{setTimeout(()=>{const r=t(...e);n(r)},0)})}const jM=y7(p7(g7,m7)),zM=y7(p7(g7,m7)),v7=async(t,e)=>{const n=Y_.squareSide.find(o=>o*o>=t*e),r=Y_.dimension.find(o=>o>=t&&o>=e);if(!n||!r)throw new Error("Not supported");const[i,s]=await Promise.all([jM(n,n),zM(r,1)]);if(i&&s)return!0;throw new Error("Not supported")},_7=async(t,e,n)=>{try{const{ctx:r,canvas:i}=au();return i.width=e,i.height=n,r.imageSmoothingQuality="high",r.drawImage(t,0,0,e,n),t instanceof HTMLImageElement&&(t.src="//:0"),t instanceof HTMLCanvasElement&&(t.width=t.height=1),i}catch(r){throw new Error("Canvas resize error",{cause:r})}},BM=({img:t,targetW:e,targetH:n})=>_7(t,e,n),HM=function({sourceW:t,targetW:e,targetH:n,step:r}){const i=[];let s=e,o=n;do i.push([s,o]),s=Math.round(s/r),o=Math.round(o/r);while(s<t*r);return i.reverse()},WM=({img:t,sourceW:e,targetW:n,targetH:r,step:i})=>HM({sourceW:e,targetW:n,targetH:r,step:i}).reduce((o,[a,l])=>o.then(u=>v7(a,l).then(()=>_7(u,a,l)).catch(()=>u)),Promise.resolve(t)),qM=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),GM=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),e0=.71,KM=(t,e)=>{if(t.width*e0*t.height*e0<e.size)throw new Error("Not required");const n=t.width,r=t.height,i=n/r,s=Math.floor(Math.sqrt(e.size*i)),o=Math.floor(e.size/Math.sqrt(e.size*i));return v7(s,o).then(()=>{const{ctx:a}=au();return"imageSmoothingQuality"in a&&!qM()&&!GM?BM({img:t,targetW:s,targetH:o}):WM({img:t,sourceW:n,targetW:s,targetH:o,step:e0})}).catch(()=>Promise.reject("Not supported"))},QM=async(t,e)=>{try{if(await $M(t))throw new Error("Should skipped");const r=await Promise.allSettled([kM(t),PM(),CM(t)]),s=!r.some(E=>E.status==="rejected"),[o,a,l]=r,u=await AM(t).catch(()=>t),d=await MM(URL.createObjectURL(u));URL.revokeObjectURL(d.src);const h=await KM(d,e);let p="image/jpeg",g=(e==null?void 0:e.quality)||.8;!s&&xM(h)&&(p="image/png",g=void 0);let y=await IM(h,p,g);if(s&&o.status==="fulfilled"&&o.value){const E=o.value,x=a.status==="fulfilled"?a.value:!1;y=await OM(y,E,x)}return s&&l.status==="fulfilled"&&l.value.length>0&&(y=await f7(y,l.value)),y}catch(n){let r;throw n instanceof Error&&(r=n.message),typeof n=="string"&&(r=n),new Error(`Failed to shrink image. ${r?`Message: "${r}".`:""}`,{cause:n})}};function XM(t){let e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)}function Z_(t="hsl(209, 21%, 65%)",e=32,n=32){return XM(`
  <svg width="${e}" height="${n}" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" fill="${t}" d="M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z"/>
  </svg>
  `)}function YM(t,e=40){if(t.type==="image/svg+xml")return URL.createObjectURL(t);let n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,s=new Promise((o,a)=>{i.onload=()=>{let l=i.height/i.width;l>1?(n.width=e,n.height=e*l):(n.height=e,n.width=e/l),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,n.width,n.height),r.drawImage(i,0,0,n.width,n.height),n.toBlob(u=>{if(!u){a();return}let d=URL.createObjectURL(u);o(d)})},i.onerror=l=>{a(l)}});return i.src=URL.createObjectURL(t),s}const J_=16384,ZM=/^([0-9]+)x([0-9]+)(?:\s+(\d{1,2}|100)%)?$/i,JM=t=>{const e=ZM.exec(t==null?void 0:t.toLocaleLowerCase())||[];if(!e.length)return!1;const n=e[1]*e[2],r=J_*J_;return n>r?(console.warn(`Shrinked size can not be larger than ${Math.floor(r/1e3/1e3)}MP. You have set ${e[1]}x${e[2]} (${Math.ceil(n/1e3/100)/10}MP).`),!1):{quality:e[3]?e[3]/100:void 0,size:n}},or=Object.freeze({FINISHED:Symbol(0),FAILED:Symbol(1),UPLOADING:Symbol(2),IDLE:Symbol(3)});class _o extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);$(this,"pauseRender",!0);$(this,"_entrySubs",new Set);$(this,"_entry",null);$(this,"_isIntersecting",!1);$(this,"_debouncedGenerateThumb",vr(this._generateThumbnail.bind(this),100));$(this,"_debouncedCalculateState",vr(this._calculateState.bind(this),100));$(this,"_renderedOnce",!1);this.init$={...this.init$,uid:"",itemName:"",errorText:"",thumbUrl:"",progressValue:0,progressVisible:!1,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,isEditable:!1,state:or.IDLE,onEdit:()=>{this.set$({"*focusedEntry":this._entry}),this.hasBlockInCtx(n=>n.activityType===ke.activities.DETAILS)?this.$["*currentActivity"]=ke.activities.DETAILS:this.$["*currentActivity"]=ke.activities.CLOUD_IMG_EDIT},onRemove:()=>{this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}}}_reset(){for(let n of this._entrySubs)n.remove();this._debouncedGenerateThumb.cancel(),this._debouncedCalculateState.cancel(),this._entrySubs=new Set,this._entry=null}_observerCallback(n){let[r]=n;this._isIntersecting=r.isIntersecting,r.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0),r.intersectionRatio===0?this._debouncedGenerateThumb.cancel():this._debouncedGenerateThumb()}_calculateState(){if(!this._entry)return;let n=this._entry,r=or.IDLE;n.getValue("errors").length>0?r=or.FAILED:n.getValue("isUploading")?r=or.UPLOADING:n.getValue("fileInfo")&&(r=or.FINISHED),this.$.state=r}async _generateThumbnail(){var r;if(!this._entry)return;let n=this._entry;if(n.getValue("fileInfo")&&n.getValue("isImage")){let i=this.cfg.thumbSize,s=this.proxyUrl(hr(iu(this.cfg.cdnCname,this._entry.getValue("uuid")),Ms(n.getValue("cdnUrlModifiers"),`scale_crop/${i}x${i}/center`))),o=n.getValue("thumbUrl");o!==s&&(n.setValue("thumbUrl",s),o!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(o));return}if(!n.getValue("thumbUrl"))if((r=n.getValue("file"))!=null&&r.type.includes("image"))try{let i=await YM(n.getValue("file"),this.cfg.thumbSize);n.setValue("thumbUrl",i)}catch{let s=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");n.setValue("thumbUrl",Z_(s))}else{let i=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");n.setValue("thumbUrl",Z_(i))}}_subEntry(n,r){let i=this._entry.subscribe(n,s=>{this.isConnected&&r(s)});this._entrySubs.add(i)}_handleEntryId(n){var i;this._reset();let r=(i=this.uploadCollection)==null?void 0:i.read(n);this._entry=r,r&&(this._subEntry("uploadProgress",s=>{this.$.progressValue=s}),this._subEntry("fileName",s=>{this.$.itemName=s||r.getValue("externalUrl")||this.l10n("file-no-name"),this._debouncedCalculateState()}),this._subEntry("externalUrl",s=>{this.$.itemName=r.getValue("fileName")||s||this.l10n("file-no-name")}),this._subEntry("fileInfo",s=>{this._debouncedCalculateState(),s&&this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("cdnUrlModifiers",()=>{this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("thumbUrl",s=>{this.$.thumbUrl=s?`url(${s})`:""}),this._subEntry("errors",()=>this._debouncedCalculateState()),this._subEntry("isUploading",()=>this._debouncedCalculateState()),this._subEntry("fileSize",()=>this._debouncedCalculateState()),this._subEntry("mimeType",()=>this._debouncedCalculateState()),this._subEntry("isImage",()=>this._debouncedCalculateState()),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.sub("uid",n=>{this._handleEntryId(n)}),this.sub("state",n=>{this._handleState(n)}),this.subConfigValue("useCloudImageEditor",()=>this._debouncedCalculateState()),this.onclick=()=>{_o.activeInstances.forEach(n=>{n===this?n.setAttribute("focused",""):n.removeAttribute("focused")})},this.sub("*uploadTrigger",n=>{n.has(this._entry.uid)&&setTimeout(()=>this.isConnected&&this.upload())}),_o.activeInstances.add(this)}_handleState(n){var r,i,s,o;n===or.FAILED?this.$.badgeIcon="badge-error":n===or.FINISHED&&(this.$.badgeIcon="badge-success"),n===or.UPLOADING?this.$.isFocused=!1:this.$.progressValue=0,this.set$({isFailed:n===or.FAILED,isUploading:n===or.UPLOADING,isFinished:n===or.FINISHED,progressVisible:n===or.UPLOADING,isEditable:this.cfg.useCloudImageEditor&&((r=this._entry)==null?void 0:r.getValue("isImage"))&&((i=this._entry)==null?void 0:i.getValue("cdnUrl")),errorText:(o=(s=this._entry.getValue("errors"))==null?void 0:s[0])==null?void 0:o.message})}destroyCallback(){super.destroyCallback(),_o.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){var n;super.disconnectedCallback(),this._debouncedGenerateThumb.cancel(),(n=this._observer)==null||n.disconnect()}_settingsOfShrink(){return JM(this.cfg.imageShrink)}_processShrink(n){return QM(n,this._settingsOfShrink())}async upload(){var i,s;let n=this._entry;if(!this.uploadCollection.read(n.uid)||n.getValue("fileInfo")||n.getValue("isUploading")||n.getValue("errors").length>0)return;const r=this.cfg.multiple?this.cfg.multipleMax:1;if(!(r&&this.uploadCollection.size>r)){this._debouncedCalculateState(),n.setValue("isUploading",!0),n.setValue("errors",[]);try{let o=new AbortController;n.setValue("abortController",o);const a=async()=>{let u=n.getValue("file");u&&this.cfg.imageShrink&&(u=await this._processShrink(u).catch(()=>u));const d=u||n.getValue("externalUrl")||n.getValue("uuid"),p={...await this.getUploadClientOptions(),fileName:n.getValue("fileName"),source:n.getValue("source"),onProgress:g=>{if(g.isComputable){let y=g.value*100;n.setValue("uploadProgress",y)}},signal:o.signal,metadata:await this.getMetadataFor(n.uid)};return this.debugPrint("upload options",d,p),Zb(d,p)};let l=await this.$["*uploadQueue"].add(a);n.setMultipleValues({fileInfo:l,isUploading:!1,fileName:l.originalFilename,fileSize:l.size,isImage:l.isImage,mimeType:((s=(i=l.contentInfo)==null?void 0:i.mime)==null?void 0:s.mime)??l.mimeType,uuid:l.uuid,cdnUrl:n.getValue("cdnUrl")??l.cdnUrl,cdnUrlModifiers:n.getValue("cdnUrlModifiers")??"",uploadProgress:100}),n===this._entry&&this._debouncedCalculateState()}catch(o){o instanceof Oo&&o.isCancel?n.setMultipleValues({isUploading:!1,uploadProgress:0}):n.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:o}),n===this._entry&&this._debouncedCalculateState()}}}}_o.template=`
  <div class="inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">
    <div class="thumb" set="style.backgroundImage: thumbUrl">
      <div class="badge">
        <lr-icon set="@name: badgeIcon"></lr-icon>
      </div>
    </div>
    <div class="file-name-wrapper">
      <span class="file-name" set="@title: itemName">{{itemName}}</span>
      <span class="file-error" set="@hidden: !errorText">{{errorText}}</span>
    </div>
    <div class="file-actions">
      <button
        type="button"
        l10n="@title:file-item-edit-button"
        class="edit-btn mini-btn"
        set="onclick: onEdit; @hidden: !isEditable"
      >
        <lr-icon name="edit-file"></lr-icon>
      </button>
      <button type="button" l10n="@title:file-item-remove-button" class="remove-btn mini-btn" set="onclick: onRemove;">
        <lr-icon name="remove-file"></lr-icon>
      </button>
      <button type="button" class="upload-btn mini-btn" set="onclick: onUpload;">
        <lr-icon name="upload"></lr-icon>
      </button>
    </div>
    <lr-progress-bar class="progress-bar" set="value: progressValue; visible: progressVisible;"> </lr-progress-bar>
  </div>
`;_o.activeInstances=new Set;const va=class va extends ht{constructor(){super();$(this,"_handleBackdropClick",()=>{this._closeDialog()});$(this,"_closeDialog",()=>{this.setOrAddState("*modalActive",!1)});$(this,"_handleDialogClose",()=>{this._closeDialog()});$(this,"_handleDialogMouseDown",n=>{this._mouseDownTarget=n.target});$(this,"_handleDialogMouseUp",n=>{n.target===this.ref.dialog&&n.target===this._mouseDownTarget&&this._closeDialog()});this.init$={...this.init$,"*modalActive":!1,isOpen:!1,closeClicked:this._handleDialogClose}}show(){this.ref.dialog.showModal?this.ref.dialog.showModal():this.ref.dialog.setAttribute("open","")}hide(){this.ref.dialog.close?this.ref.dialog.close():this.ref.dialog.removeAttribute("open")}initCallback(){if(super.initCallback(),typeof HTMLDialogElement=="function")this.ref.dialog.addEventListener("close",this._handleDialogClose),this.ref.dialog.addEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.addEventListener("mouseup",this._handleDialogMouseUp);else{this.setAttribute("dialog-fallback","");let n=document.createElement("div");n.className="backdrop",this.appendChild(n),n.addEventListener("click",this._handleBackdropClick)}this.sub("*modalActive",n=>{this.$.isOpen!==n&&(this.$.isOpen=n),n&&this.cfg.modalScrollLock?document.body.style.overflow="hidden":document.body.style.overflow=""}),this.subConfigValue("modalBackdropStrokes",n=>{n?this.setAttribute("strokes",""):this.removeAttribute("strokes")}),this.sub("isOpen",n=>{n?this.show():this.hide()})}destroyCallback(){super.destroyCallback(),document.body.style.overflow="",this._mouseDownTarget=void 0,this.ref.dialog.removeEventListener("close",this._handleDialogClose),this.ref.dialog.removeEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.removeEventListener("mouseup",this._handleDialogMouseUp)}};$(va,"styleAttrs",[...Xi(va,va,"styleAttrs"),"lr-modal"]),$(va,"StateConsumerScope","modal");let Bh=va;Bh.template=`
  <dialog ref="dialog">
    <slot></slot>
  </dialog>
`;const w7=(t,e)=>{let n,r,i;const s=(...o)=>{n?(clearTimeout(r),r=setTimeout(()=>{Date.now()-i>=e&&(t(...o),i=Date.now())},Math.max(e-(Date.now()-i),0))):(t(...o),i=Date.now(),n=!0)};return Object.defineProperty(s,"cancel",{configurable:!1,writable:!1,enumerable:!1,value:()=>{clearTimeout(r)}}),s};class E7 extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);$(this,"historyTracked",!0);$(this,"activityType",ke.activities.UPLOAD_LIST);$(this,"_throttledHandleCollectionUpdate",w7(()=>{this.isConnected&&(this._updateUploadsState(),!this.couldOpenActivity&&this.$["*currentActivity"]===this.activityType&&this.historyBack())},300));this.init$={...this.init$,doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,headerText:"",commonErrorMessage:"",hasFiles:!1,onAdd:()=>{this.initFlow(!0)},onUpload:()=>{this.emit(St.UPLOAD_CLICK),this.uploadAll(),this._throttledHandleCollectionUpdate()},onDone:()=>{this.emit(St.DONE_CLICK,this.getOutputCollectionState()),this.doneFlow()},onCancel:()=>{this.uploadCollection.clearAll()}}}_updateUploadsState(){const n=this.getOutputCollectionState(),r={total:n.totalCount,succeed:n.successCount,uploading:n.uploadingCount,failed:n.failedCount},i=!n.errors.some(p=>p.type==="TOO_MANY_FILES"||p.type==="TOO_FEW_FILES"),s=n.errors.some(p=>p.type==="TOO_MANY_FILES"),o=n.totalCount===(this.cfg.multiple?this.cfg.multipleMax:1),a=r.failed===0&&n.errors.length===0;let l=!1,u=!1,d=!1;r.total-r.succeed-r.uploading-r.failed>0&&i?l=!0:(u=!0,d=r.total===r.succeed&&i&&a),this.set$({doneBtnVisible:u,doneBtnEnabled:d,uploadBtnVisible:l,addMoreBtnEnabled:r.total===0||!s&&!o,addMoreBtnVisible:!o||this.cfg.multiple}),this.bindL10n("headerText",()=>this._getHeaderText(r))}_getHeaderText(n){const r=i=>{const s=n[i];return this.l10n(`header-${i}`,{count:s})};return n.uploading>0?r("uploading"):n.failed>0?r("failed"):n.succeed>0?r("succeed"):r("total")}get couldOpenActivity(){return this.cfg.showEmptyList||this.uploadCollection.size>0}initCallback(){super.initCallback(),this.registerActivity(this.activityType),this.subConfigValue("multiple",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMin",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMax",this._throttledHandleCollectionUpdate),this.sub("*currentActivity",n=>{!this.couldOpenActivity&&n===this.activityType&&(this.$["*currentActivity"]=this.initActivity)}),this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate),this.sub("*uploadList",n=>{this._throttledHandleCollectionUpdate(),this.set$({hasFiles:n.length>0}),this.cfg.confirmUpload||this.uploadAll()},!1),this.sub("*collectionErrors",n=>{const r=n.filter(i=>i.type!=="SOME_FILES_HAS_ERRORS")[0];if(!r){this.set$({commonErrorMessage:null});return}this.set$({commonErrorMessage:r.message})})}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate)}}E7.template=`
  <lr-activity-header>
    <span class="header-text">{{headerText}}</span>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>

  <div class="no-files" set="@hidden: hasFiles">
    <slot name="empty"><span l10n="no-files"></span></slot>
  </div>

  <div class="files" repeat="*uploadList" repeat-item-tag="lr-file-item"></div>

  <div class="common-error" set="@hidden: !commonErrorMessage; textContent: commonErrorMessage;"></div>

  <div class="toolbar">
    <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel;" l10n="clear"></button>
    <div class="toolbar-spacer"></div>
    <button
      type="button"
      class="add-more-btn secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <lr-icon name="add"></lr-icon><span l10n="add-more"></span>
    </button>
    <button
      type="button"
      class="upload-btn primary-btn"
      set="@hidden: !uploadBtnVisible; onclick: onUpload;"
      l10n="upload"
    ></button>
    <button
      type="button"
      class="done-btn primary-btn"
      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"
      l10n="done"
    ></button>
  </div>

  <lr-drop-area ghost></lr-drop-area>
`;class b7 extends gt{constructor(){super(...arguments);$(this,"couldBeCtxOwner",!0);$(this,"activityType",ke.activities.URL);$(this,"init$",{...this.init$,importDisabled:!0,onUpload:n=>{n.preventDefault();let r=this.ref.input.value;this.addFileFromUrl(r,{source:Jr.URL_TAB}),this.$["*currentActivity"]=ke.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:n=>{let r=n.target.value;this.set$({importDisabled:!r})}})}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.ref.input.value="",this.ref.input.focus()}})}}b7.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div>
      <lr-icon name="url"></lr-icon>
      <span l10n="caption-from-url"></span>
    </div>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <form class="content">
    <input placeholder="https://" class="url-input" type="text" ref="input" set="oninput: onInput" />
    <button
      type="submit"
      class="url-upload-btn primary-btn"
      set="onclick: onUpload; @disabled: importDisabled"
      l10n="upload-url"
    ></button>
  </form>
`;const ew=()=>typeof navigator.permissions<"u";class T7 extends gt{constructor(){super(...arguments);$(this,"couldBeCtxOwner",!0);$(this,"activityType",ke.activities.CAMERA);$(this,"_unsubPermissions",null);$(this,"init$",{...this.init$,video:null,videoTransformCss:null,shotBtnDisabled:!0,videoHidden:!0,messageHidden:!0,requestBtnHidden:ew(),cameraSelectOptions:null,cameraSelectHidden:!0,l10nMessage:"",onCameraSelectChange:n=>{this._selectedCameraId=n.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>{this._shot()},onRequestPermissions:()=>{this._capture()}});$(this,"_onActivate",()=>{ew()&&this._subscribePermissions(),this._capture()});$(this,"_onDeactivate",()=>{this._unsubPermissions&&this._unsubPermissions(),this._stopCapture()});$(this,"_handlePermissionsChange",()=>{this._capture()});$(this,"_setPermissionsState",vr(n=>{this.classList.toggle("initialized",n==="granted"),n==="granted"?this.set$({videoHidden:!1,shotBtnDisabled:!1,messageHidden:!0}):n==="prompt"?(this.$.l10nMessage="camera-permissions-prompt",this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage="camera-permissions-denied",this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture())},300))}async _subscribePermissions(){try{(await navigator.permissions.query({name:"camera"})).addEventListener("change",this._handlePermissionsChange)}catch(n){console.log("Failed to use permissions API. Fallback to manual request mode.",n),this._capture()}}async _capture(){let n={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1};this._selectedCameraId&&(n.video.deviceId={exact:this._selectedCameraId}),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d");try{this._setPermissionsState("prompt");let r=await navigator.mediaDevices.getUserMedia(n);r.addEventListener("inactive",()=>{this._setPermissionsState("denied")}),this.$.video=r,this._capturing=!0,this._setPermissionsState("granted")}catch(r){this._setPermissionsState("denied"),console.error("Failed to capture camera",r)}}_stopCapture(){var n;this._capturing&&((n=this.$.video)==null||n.getTracks()[0].stop(),this.$.video=null,this._capturing=!1)}_shot(){this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this._ctx.drawImage(this.ref.video,0,0);const n=Date.now(),r=`camera-${n}.jpeg`,i="image/jpeg";this._canvas.toBlob(s=>{let o=new File([s],r,{lastModified:n,type:i});this.addFileFromObject(o,{source:Jr.CAMERA}),this.set$({"*currentActivity":ke.activities.UPLOAD_LIST})},i)}async initCallback(){var n;super.initCallback(),this.registerActivity(this.activityType,{onActivate:this._onActivate,onDeactivate:this._onDeactivate}),this.subConfigValue("cameraMirror",r=>{this.$.videoTransformCss=r?"scaleX(-1)":null});try{let i=(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput").map((s,o)=>({text:s.label.trim()||`${this.l10n("caption-camera")} ${o+1}`,value:s.deviceId}));i.length>1&&(this.$.cameraSelectOptions=i,this.$.cameraSelectHidden=!1),this._selectedCameraId=(n=i[0])==null?void 0:n.value}catch{}}}T7.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div set="@hidden: !cameraSelectHidden">
      <lr-icon name="camera"></lr-icon>
      <span l10n="caption-camera"></span>
    </div>
    <lr-select
      class="camera-select"
      set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange"
    >
    </lr-select>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <div class="content">
    <video
      autoplay
      playsinline
      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"
      ref="video"
    ></video>
    <div class="message-box" set="@hidden: messageHidden">
      <span l10n="l10nMessage"></span>
      <button
        type="button"
        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"
        l10n="camera-permissions-request"
      ></button>
    </div>
    <button type="button" class="shot-btn" set="onclick: onShot; @disabled: shotBtnDisabled">
      <lr-icon name="camera"></lr-icon>
    </button>
  </div>
`;class C7 extends gt{constructor(){super(...arguments);$(this,"requireCtxName",!0)}initCallback(){super.initCallback(),this.$["*eventEmitter"].bindTarget(this)}destroyCallback(){super.destroyCallback(),this.$["*eventEmitter"].unbindTarget(this)}}C7.EventType=St;const Pm=C7;class S7 extends gt{constructor(){super(...arguments);$(this,"init$",{...this.init$,visible:!1,value:0,"*commonProgress":0})}initCallback(){super.initCallback(),this._unobserveCollection=this.uploadCollection.observeProperties(()=>{let n=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=n}),this.sub("visible",n=>{n?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",n=>{this.$.value=n})}destroyCallback(){var n;super.destroyCallback(),(n=this._unobserveCollection)==null||n.call(this)}}S7.template=' <lr-progress-bar set="visible: visible; value: value"></lr-progress-bar> ';class A7 extends ht{constructor(){super(...arguments);$(this,"_value",0);$(this,"init$",{...this.init$,width:0,opacity:0})}initCallback(){super.initCallback(),this.defineAccessor("value",n=>{if(n===void 0)return;const r=this._value;if(this._value=n,n===0&&r>0){this.ref.line.addEventListener("transitionend",()=>{this.style.setProperty("--l-width",this._value.toString())});return}this.style.setProperty("--l-width",this._value.toString())}),this.defineAccessor("visible",n=>{this.ref.line.classList.toggle("progress--hidden",!n)})}}A7.template=' <div ref="line" class="progress"></div> ';const Za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function I7(...t){return t.reduce((e,n)=>{if(typeof n=="string")return e[n]=!0,e;for(let r of Object.keys(n))e[r]=n[r];return e},{})}function Mr(...t){let e=I7(...t);return Object.keys(e).reduce((n,r)=>(e[r]&&n.push(r),n),[]).join(" ")}function eV(t,...e){let n=I7(...e);for(let r of Object.keys(n))t.classList.toggle(r,n[r])}const tV=t=>{if(!t)return ai;const e=FN(t).filter(n=>ai.includes(n));return e.length===0?ai:e};function nV(t){return{"*originalUrl":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,"*editorTransformations":{},"*cropPresetList":[],"*tabList":ai,"*tabId":At.CROP,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:Za,fileType:"",showLoader:!1,uuid:null,cdnUrl:null,cropPreset:"",tabs:$1(ai),"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let e=t.querySelectorAll("img");for(let n of e){let r=n.src;n.src=Za,n.src=r}t.$["*networkProblems"]=!1},"*on.apply":e=>{if(!e)return;let n=t.$["*originalUrl"],r=Ms(Wf(e),"preview"),i=hr(n,r),s={originalUrl:n,cdnUrlModifiers:r,cdnUrl:i,transformations:e};t.dispatchEvent(new CustomEvent("apply",{detail:s,bubbles:!0,composed:!0})),t.remove()},"*on.cancel":()=>{t.remove(),t.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}}}const rV="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M8.232 10 3.585 5.353l1.768-1.768L10 8.232l4.648-4.647 1.767 1.768L11.768 10l4.647 4.648-1.767 1.767L10 11.768l-4.647 4.647-1.768-1.767L8.232 10Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='m18.057 6.333-9.365 9.125a1.25 1.25 0 0 1-1.768-.023L1.92 10.296l1.791-1.744 4.132 4.243 8.47-8.253 1.744 1.79Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol fill='currentColor' viewBox='0 0 25 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-instagram' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.225 12a5.775 5.775 0 1 1 11.55 0 5.775 5.775 0 0 1-11.55 0zM12 7.725a4.275 4.275 0 1 0 0 8.55 4.275 4.275 0 0 0 0-8.55zm6.425-.75a1.4 1.4 0 1 0 0-2.8 1.4 1.4 0 0 0 0 2.8zm-6.467-6.8h.084c2.152 0 3.823 0 5.152.132 1.35.134 2.427.41 3.362 1.013a7.15 7.15 0 0 1 2.124 2.124c.604.935.88 2.012 1.013 3.362.132 1.329.132 3 .132 5.152v.084c0 2.152 0 3.823-.132 5.152-.134 1.35-.41 2.427-1.013 3.362a7.15 7.15 0 0 1-2.124 2.124c-.935.604-2.012.88-3.362 1.013-1.329.132-3 .132-5.152.132h-.084c-2.152 0-3.824 0-5.153-.132-1.35-.134-2.427-.409-3.36-1.013a7.15 7.15 0 0 1-2.125-2.124C.716 19.62.44 18.544.307 17.194c-.132-1.329-.132-3-.132-5.152v-.084c0-2.152 0-3.823.132-5.152.133-1.35.409-2.427 1.013-3.362A7.15 7.15 0 0 1 3.444 1.32C4.378.716 5.456.44 6.805.307c1.33-.132 3-.132 5.153-.132zM6.953 1.799c-1.234.123-2.043.36-2.695.78A5.65 5.65 0 0 0 2.58 4.26c-.42.65-.657 1.46-.78 2.695C1.676 8.2 1.675 9.797 1.675 12s0 3.8.124 5.046c.123 1.235.36 2.044.78 2.696a5.649 5.649 0 0 0 1.68 1.678c.65.421 1.46.658 2.694.78 1.247.124 2.844.125 5.047.125s3.8 0 5.046-.124c1.235-.123 2.044-.36 2.695-.78a5.648 5.648 0 0 0 1.68-1.68c.42-.65.657-1.46.78-2.694.123-1.247.124-2.844.124-5.047s-.001-3.8-.125-5.046c-.122-1.235-.359-2.044-.78-2.695a5.65 5.65 0 0 0-1.679-1.68c-.651-.42-1.46-.657-2.695-.78-1.246-.123-2.843-.124-5.046-.124-2.203 0-3.8 0-5.047.124z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.5' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='bwuc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#bwuc-icon-id__a)'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#bzuc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#bzuc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#bzuc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#bzuc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#bzuc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#bzuc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#bzuc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#bzuc-icon-id__h)'/><defs><linearGradient id='bzuc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='bzuc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>",iV=`
  ${rV}
  <div class="wrapper wrapper_desktop">
    <lr-presence-toggle class="network_problems_splash" set="visible: presence.networkProblems;">
      <div class="network_problems_content">
        <div class="network_problems_icon">
          <lr-icon name="sad"></lr-icon>
        </div>
        <div class="network_problems_text">Network error</div>
      </div>
      <div class="network_problems_footer">
        <lr-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></lr-btn-ui>
      </div>
    </lr-presence-toggle>
    <div class="viewport">
      <div class="file_type_outer">
        <div class="file_type">{{fileType}}</div>
      </div>
      <div class="image_container" ref="img-container-el">
        <img src="${Za}" class="image image_visible_from_editor" ref="img-el" />
        <lr-editor-image-cropper ref="cropper-el"></lr-editor-image-cropper>
        <lr-editor-image-fader ref="fader-el"></lr-editor-image-fader>
      </div>
      <div class="info_pan">{{msg}}</div>
    </div>
    <div class="toolbar">
      <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>
      <div class="toolbar_content toolbar_content__editor">
        <lr-editor-toolbar></lr-editor-toolbar>
      </div>
    </div>
  </div>
`;class vl extends ht{constructor(){super();$(this,"ctxOwner",!0);$(this,"_debouncedShowLoader",vr(this._showLoader.bind(this),300));this.init$={...this.init$,...nV(this)}}_showLoader(n){this.$.showLoader=n}_waitForSize(){return new Promise((r,i)=>{const s=setTimeout(()=>{i(new Error("[cloud-image-editor] timeout waiting for non-zero container size"))},3e3),o=new ResizeObserver(([a])=>{a.contentRect.width>0&&a.contentRect.height>0&&(r(),clearTimeout(s),o.disconnect())});o.observe(this)})}initCallback(){super.initCallback(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}async updateImage(){if(this.isConnected){if(await this._waitForSize(),this.$.cdnUrl){const n=Nb(this.$.cdnUrl),r=iu(this.$.cdnUrl,n);if(r===this.$["*originalUrl"])return;this.$["*originalUrl"]=r;const i=PN(this.$.cdnUrl),s=MN(i);this.$["*editorTransformations"]=s}else if(this.$.uuid){const n=iu(this.cfg.cdnCname,this.$.uuid);if(n===this.$["*originalUrl"])return;this.$["*originalUrl"]=n,this.$["*editorTransformations"]={}}else throw new Error("No UUID nor CDN URL provided");this.$["*tabId"]===At.CROP?this.$["*cropperEl"].deactivate({reset:!0}):this.$["*faderEl"].deactivate();try{const n=hr(this.$["*originalUrl"],Ms("json")),r=await fetch(n).then(o=>o.json()),{width:i,height:s}=r;this.$["*imageSize"]={width:i,height:s},this.$["*tabId"]===At.CROP?this.$["*cropperEl"].activate(this.$["*imageSize"]):this.$["*faderEl"].activate({url:this.$["*originalUrl"]})}catch(n){n&&console.error("Failed to load image info",n)}}}async initEditor(){try{await this._waitForSize()}catch(n){this.isConnected&&console.error(n.message);return}this.ref["img-el"].addEventListener("load",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==Za&&(this.$["*networkProblems"]=!1)}),this.ref["img-el"].addEventListener("error",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0}),this.sub("src",n=>{let r=this.ref["img-el"];r.src!==n&&(this._imgLoading=!0,r.src=n||Za)}),this.sub("cropPreset",n=>{this.$["*cropPresetList"]=s7(n)}),this.sub("tabs",n=>{this.$["*tabList"]=tV(n)}),this.sub("*tabId",n=>{this.ref["img-el"].className=Mr("image",{image_hidden_to_cropper:n===At.CROP,image_hidden_effects:n!==At.CROP})}),this.classList.add("editor_ON"),this.sub("*networkProblems",n=>{this.$["presence.networkProblems"]=n,this.$["presence.modalCaption"]=!n}),this.sub("*editorTransformations",n=>{if(Object.keys(n).length===0)return;let r=this.$["*originalUrl"],i=Ms(Wf(n),"preview"),s=hr(r,i),o={originalUrl:r,cdnUrlModifiers:i,cdnUrl:s,transformations:n};this.dispatchEvent(new CustomEvent("change",{detail:o,bubbles:!0,composed:!0}))},!1),this.sub("uuid",n=>n&&this.updateImage()),this.sub("cdnUrl",n=>n&&this.updateImage())}}$(vl,"styleAttrs",["lr-cloud-image-editor"]);vl.template=iV;vl.bindAttributes({uuid:"uuid","cdn-url":"cdnUrl","crop-preset":"cropPreset",tabs:"tabs"});class x7 extends ht{constructor(){super(),this.init$={...this.init$,dragging:!1},this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(e){let n=this.$["*imageBox"];if(!n)return;if(e===""&&n.height<=Ie&&n.width<=Ie)return!0;let r=n.height<=Ie&&(e.includes("n")||e.includes("s")),i=n.width<=Ie&&(e.includes("e")||e.includes("w"));return r||i}_createBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:n,y:r,width:i,height:s}=e,o=this.ref["svg-el"],a=Ar("mask",{id:"backdrop-mask"}),l=Ar("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),u=Ar("rect",{x:n,y:r,width:i,height:s,fill:"black"});a.appendChild(l),a.appendChild(u);let d=Ar("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});o.appendChild(d),o.appendChild(a),this._backdropMask=a,this._backdropMaskInner=u}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask&&(this._backdropMask.style.display="block")}))}_updateBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:n,y:r,width:i,height:s}=e;this._backdropMaskInner&&ra(this._backdropMaskInner,{x:n,y:r,width:i,height:s})}_updateFrame(){let e=this.$["*cropBox"];if(!(!e||!this._frameGuides||!this._frameThumbs)){for(let n of Object.values(this._frameThumbs)){let{direction:r,pathNode:i,interactionNode:s,groupNode:o}=n,a=r==="",l=r.length===2,{x:u,y:d,width:h,height:p}=e;if(a){const y={x:u+h/3,y:d+p/3,width:h/3,height:p/3};ra(s,y)}else{const y=ga(Math.min(h,p)/(Rm*2+sc)/2,0,1);let{d:E,center:x}=l?pD(e,r,y):mD(e,r,y);const w=Math.max(U_*ga(Math.min(h,p)/U_/3,0,1),fD);ra(s,{x:x[0]-w,y:x[1]-w,width:w*2,height:w*2}),ra(i,{d:E})}let g=this._shouldThumbBeDisabled(r);o.setAttribute("class",Mr("thumb",{"thumb--hidden":g,"thumb--visible":!g}))}ra(this._frameGuides,{x:e.x-Js*.5,y:e.y-Js*.5,width:e.width+Js,height:e.height+Js})}}_createThumbs(){const e={};for(let n=0;n<3;n++)for(let r=0;r<3;r++){let i=`${["n","","s"][n]}${["w","","e"][r]}`,s=Ar("g");s.classList.add("thumb"),s.setAttribute("with-effects","");let o=Ar("rect",{fill:"transparent"}),a=Ar("path",{stroke:"currentColor",fill:"none","stroke-width":i7});s.appendChild(a),s.appendChild(o),e[i]={direction:i,pathNode:a,interactionNode:o,groupNode:s},o.addEventListener("pointerdown",this._handlePointerDown.bind(this,i))}return e}_createGuides(){let e=Ar("svg"),n=Ar("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"currentColor","stroke-width":Js,"stroke-opacity":.5});e.appendChild(n);for(let r=1;r<=2;r++){let i=Ar("line",{x1:`${wd*r}%`,y1:"0%",x2:`${wd*r}%`,y2:"100%",stroke:"currentColor","stroke-width":Js,"stroke-opacity":.3});e.appendChild(i)}for(let r=1;r<=2;r++){let i=Ar("line",{x1:"0%",y1:`${wd*r}%`,x2:"100%",y2:`${wd*r}%`,stroke:"currentColor","stroke-width":Js,"stroke-opacity":.3});e.appendChild(i)}return e.classList.add("guides","guides--semi-hidden"),e}_createFrame(){let e=this.ref["svg-el"],n=document.createDocumentFragment(),r=this._createGuides();n.appendChild(r);let i=this._createThumbs();for(let{groupNode:s}of Object.values(i))n.appendChild(s);e.appendChild(n),this._frameThumbs=i,this._frameGuides=r}_handlePointerDown(e,n){if(!this._frameThumbs)return;let r=this._frameThumbs[e];if(this._shouldThumbBeDisabled(e))return;let i=this.$["*cropBox"],{x:s,y:o}=this.ref["svg-el"].getBoundingClientRect(),a=n.x-s,l=n.y-o;this.$.dragging=!0,this._draggingThumb=r,this._dragStartPoint=[a,l],this._dragStartCrop={...i}}_handlePointerUp_(e){this._updateCursor(),this.$.dragging&&(e.stopPropagation(),e.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(e){if(!this.$.dragging||!this._dragStartPoint||!this._draggingThumb)return;e.stopPropagation(),e.preventDefault();let n=this.ref["svg-el"],{x:r,y:i}=n.getBoundingClientRect(),s=e.x-r,o=e.y-i,a=s-this._dragStartPoint[0],l=o-this._dragStartPoint[1],{direction:u}=this._draggingThumb;const d=this._calcCropBox(u,[a,l]);d&&(this.$["*cropBox"]=d)}_calcCropBox(e,n){var u;const[r,i]=n;let s=this.$["*imageBox"],o=this._dragStartCrop??this.$["*cropBox"];const a=(u=this.$["*cropPresetList"])==null?void 0:u[0],l=a?a.width/a.height:void 0;if(e===""?o=yD({rect:o,delta:[r,i],imageBox:s}):o=AD({rect:o,delta:[r,i],direction:e,aspectRatio:l,imageBox:s}),!Object.values(o).every(d=>Number.isFinite(d)&&d>=0)){console.error("CropFrame is trying to create invalid rectangle",{payload:o});return}return jh(Xd(o),this.$["*imageBox"])}_handleSvgPointerMove_(e){if(!this._frameThumbs)return;let n=Object.values(this._frameThumbs).find(r=>{if(this._shouldThumbBeDisabled(r.direction))return!1;let s=r.interactionNode.getBoundingClientRect(),o={x:s.x,y:s.y,width:s.width,height:s.height};return ID(o,[e.x,e.y])});this._hoverThumb=n,this._updateCursor()}_updateCursor(){let e=this._hoverThumb;this.ref["svg-el"].style.cursor=e?gD(e.direction):"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(e){this._frameThumbs&&Object.values(this._frameThumbs).map(({groupNode:n})=>n).forEach(n=>{n.setAttribute("class",Mr("thumb",{"thumb--hidden":!e,"thumb--visible":e}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",e=>{e&&(this._guidesHidden=e.height<=Ie||e.width<=Ie,window.requestAnimationFrame(()=>{this._render()}))}),this.sub("dragging",e=>{this._frameGuides&&this._frameGuides.setAttribute("class",Mr({"guides--hidden":this._guidesHidden,"guides--visible":!this._guidesHidden&&e,"guides--semi-hidden":!this._guidesHidden&&!e}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}x7.template=' <svg class="svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> ';class ep extends ht{constructor(){super(...arguments);$(this,"init$",{...this.init$,active:!1,title:"",icon:"","on.click":null})}initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.sub("title",n=>{this._titleEl&&(this._titleEl.style.display=n?"block":"none")}),this.sub("active",n=>{this.className=Mr({active:n,not_active:!n})}),this.sub("on.click",n=>{this.onclick=n})}}ep.template=`
  <button role="option">
    <lr-icon set="@name: icon;"></lr-icon>
    <div class="title" ref="title-el">{{title}}</div>
  </button>
`;function sV(t){let e=t+90;return e=e>=360?0:e,e}function oV(t,e){return t==="rotate"?sV(e):["mirror","flip"].includes(t)?!e:null}class k7 extends ep{initCallback(){super.initCallback(),this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e)}),this.$["on.click"]=e=>{let n=this.$["*cropperEl"].getValue(this._operation),r=oV(this._operation,n);this.$["*cropperEl"].setValue(this._operation,r)}}}const Gl={FILTER:"filter",COLOR_OPERATION:"color_operation"},ks="original";class R7 extends ht{constructor(){super(...arguments);$(this,"init$",{...this.init$,disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":n=>{this.$["*faderEl"].set(n),this.$.value=n}})}setOperation(n,r){this._controlType=n==="filter"?Gl.FILTER:Gl.COLOR_OPERATION,this._operation=n,this._iconName=n,this._title=n.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===ks?void 0:this.$.value,filter:this._filter===ks?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:n,zero:r}=Xa[this._operation],[i,s]=n;this.$.min=i,this.$.max=s,this.$.zero=r;let o=this.$["*editorTransformations"][this._operation];if(this._controlType===Gl.FILTER){let a=s;if(o){let{name:l,amount:u}=o;a=l===this._filter?u:s}this.$.value=a,this.$.defaultValue=a}if(this._controlType===Gl.COLOR_OPERATION){let a=typeof o<"u"?o:r;this.$.value=a,this.$.defaultValue=a}}apply(){let n;this._controlType===Gl.FILTER?this._filter===ks?n=null:n={name:this._filter,amount:this.$.value}:n=this.$.value;let r={...this.$["*editorTransformations"],[this._operation]:n};this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",n=>{this._originalUrl=n}),this.sub("value",n=>{let r=`${this._filter||this._operation} ${n}`;this.$["*operationTooltip"]=r})}}R7.template=`
  <lr-slider-ui
    ref="slider-el"
    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"
  ></lr-slider-ui>
`;function Y1(t){let e=new Image;return{promise:new Promise((i,s)=>{e.src=t,e.onload=i,e.onerror=s}),image:e,cancel:()=>{e.naturalWidth===0&&(e.src=Za)}}}function Lm(t){let e=[];for(let s of t){let o=Y1(s);e.push(o)}let n=e.map(s=>s.image);return{promise:Promise.allSettled(e.map(s=>s.promise)),images:n,cancel:()=>{e.forEach(s=>{s.cancel()})}}}class Z1 extends ep{constructor(){super(...arguments);$(this,"init$",{...this.init$,active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null})}_previewSrc(){let n=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*n),s=r>=2?"lightest":"normal",o=100,a={...this.$["*editorTransformations"]};return a[this._operation]=this._filter!==ks?{name:this._filter,amount:o}:void 0,hr(this._originalUrl,Ms($b,Wf(a),`quality/${s}`,`scale_crop/${i}x${i}/center`))}_observerCallback(n,r){if(n[0].isIntersecting){let s=this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"],{promise:a,cancel:l}=Y1(s);this._cancelPreload=l,a.catch(u=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:u})}).finally(()=>{o.style.backgroundImage=`url(${s})`,o.setAttribute("loaded",""),r.unobserve(this)})}else this._cancelPreload&&this._cancelPreload()}initCallback(){super.initCallback(),this.$["on.click"]=r=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===ks,this.$.icon=this.$.isOriginal?"original":"slider"}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let n=this.$["*originalUrl"];this._originalUrl=n,this.$.isOriginal?this.ref["icon-el"].classList.add("original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;let i=this.ref["icon-el"];i.style.opacity=r?"1":"0";let s=this.ref["preview-el"];r?s.style.opacity="0":s.style.backgroundImage&&(s.style.opacity="1")}),this.sub("*networkProblems",r=>{if(!r){let i=this.proxyUrl(this._previewSrc()),s=this.ref["preview-el"];s.style.backgroundImage&&(s.style.backgroundImage="none",s.style.backgroundImage=`url(${i})`)}})}destroyCallback(){var n;super.destroyCallback(),(n=this._observer)==null||n.disconnect(),this._cancelPreload&&this._cancelPreload()}}Z1.template=`
  <button role="option">
    <div class="preview" ref="preview-el"></div>
    <lr-icon ref="icon-el" set="@name: icon; @size: iconSize;"></lr-icon>
  </button>
`;class P7 extends ep{constructor(){super(...arguments);$(this,"_operation","")}initCallback(){super.initCallback(),this.$["on.click"]=n=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",n=>{n&&(this._operation=n,this.$.icon=n,this.bindL10n("title",()=>this.l10n(n)))}),this.sub("*editorTransformations",n=>{if(!this._operation)return;let{zero:r}=Xa[this._operation],i=n[this._operation],s=typeof i<"u"?i!==r:!1;this.$.active=s})}}function aV(t,e){let n={};for(let r of e){let i=t[r];(t.hasOwnProperty(r)||i!==void 0)&&(n[r]=i)}return n}function J1(t,e,n){let i=window.devicePixelRatio,s=Math.min(Math.ceil(e*i),3e3),o=i>=2?"lightest":"normal";return hr(t,Ms($b,Wf(n),`quality/${o}`,`stretch/off/-/resize/${s}x`))}function lV(t){return t?[({dimensions:n,coords:r})=>[...n,...r].every(i=>Number.isInteger(i)&&Number.isFinite(i)),({dimensions:n,coords:r})=>n.every(i=>i>0)&&r.every(i=>i>=0)].every(n=>n(t)):!0}class L7 extends ht{constructor(){super();$(this,"ctxOwner",!0);this.init$={...this.init$,image:null,"*padding":hD,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}},this._commitDebounced=vr(this._commit.bind(this),300),this._handleResizeThrottled=w7(this._handleResize.bind(this),100),this._imageSize={width:0,height:0}}_handleResize(){!this.isConnected||!this._isActive||(this._initCanvas(),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let n=this.$["*editorTransformations"],r=aV(n,Object.keys(this.$["*operations"])),i={...this.$["*operations"],...r};this.$["*operations"]=i}_initCanvas(){let n=this.ref["canvas-el"],r=n.getContext("2d"),i=this.offsetWidth,s=this.offsetHeight,o=window.devicePixelRatio;n.style.width=`${i}px`,n.style.height=`${s}px`,n.width=i*o,n.height=s*o,r==null||r.scale(o,o),this._canvas=n,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let n=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:s}=i,o={width:this.offsetWidth,height:this.offsetHeight},a=Wl({width:n.naturalWidth,height:n.naturalHeight},s),l;if(a.width>o.width-r*2||a.height>o.height-r*2){let u=a.width/a.height,d=o.width/o.height;if(u>d){let h=o.width-r*2,p=h/u,g=0+r,y=r+(o.height-r*2)/2-p/2;l={x:g,y,width:h,height:p}}else{let h=o.height-r*2,p=h*u,g=r+(o.width-r*2)/2-p/2,y=0+r;l={x:g,y,width:p,height:h}}}else{let{width:u,height:d}=a,h=r+(o.width-r*2)/2-u/2,p=r+(o.height-r*2)/2-d/2;l={x:h,y:p,width:u,height:d}}this.$["*imageBox"]=Xd(l)}_alignCrop(){var p;let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,o=this.$["*editorTransformations"].crop,{width:a,x:l,y:u}=this.$["*imageBox"];if(o){let{dimensions:[g,y],coords:[E,x]}=o,{width:w}=Wl(this._imageSize,s),v=a/w;n=jh(Xd({x:l+E*v,y:u+x*v,width:g*v,height:y*v}),this.$["*imageBox"])}const d=(p=this.$["*cropPresetList"])==null?void 0:p[0],h=d?d.width/d.height:void 0;if(!xD(n,r)||h&&!kD(n,h)){const g=r.width/r.height;let y=r.width,E=r.height;h&&(g>h?y=Math.min(r.height*h,r.width):E=Math.min(r.width/h,r.height)),n={x:r.x+r.width/2-y/2,y:r.y+r.height/2-E/2,width:y,height:E}}this.$["*cropBox"]=jh(Xd(n),this.$["*imageBox"])}_drawImage(){let n=this._ctx;if(!n)return;let r=this.$.image,i=this.$["*imageBox"],s=this.$["*operations"],{mirror:o,flip:a,rotate:l}=s,u=Wl({width:i.width,height:i.height},l);n.save(),n.translate(i.x+i.width/2,i.y+i.height/2),n.rotate(l*Math.PI*-1/180),n.scale(o?-1:1,a?-1:1),n.drawImage(r,-u.width/2,-u.height/2,u.width,u.height),n.restore()}_draw(){if(!this._isActive||!this.$.image||!this._canvas||!this._ctx)return;let n=this._canvas;this._ctx.clearRect(0,0,n.width,n.height),this._drawImage()}_animateIn({fromViewer:n}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=Mr({active_from_viewer:n,active_from_editor:!n,inactive_to_editor:!1})}))}_getCropDimensions(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,{width:o,height:a}=r,{width:l,height:u}=Wl(this._imageSize,s),{width:d,height:h}=n,p=o/l,g=a/u;return[ga(Math.round(d/p),1,l),ga(Math.round(h/g),1,u)]}_getCropTransformation(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,{width:o,height:a,x:l,y:u}=r,{width:d,height:h}=Wl(this._imageSize,s),{x:p,y:g}=n,y=o/d,E=a/h,x=this._getCropDimensions(),w={dimensions:x,coords:[ga(Math.round((p-l)/y),0,d-x[0]),ga(Math.round((g-u)/E),0,h-x[1])]};if(!lV(w)){console.error("Cropper is trying to create invalid crop object",{payload:w});return}if(!(x[0]===d&&x[1]===h))return w}_commit(){if(!this.isConnected||!this._imageSize)return;let n=this.$["*operations"],{rotate:r,mirror:i,flip:s}=n,o=this._getCropTransformation(),l={...this.$["*editorTransformations"],crop:o,rotate:r,mirror:i,flip:s};this.$["*editorTransformations"]=l}setValue(n,r){this.$["*operations"]={...this.$["*operations"],[n]:r},this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(n){return this.$["*operations"][n]}async activate(n,{fromViewer:r}={}){if(!this._isActive){this._isActive=!0,this._imageSize=n,this.removeEventListener("transitionend",this._reset);try{this.$.image=await this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._animateIn({fromViewer:r})}catch(i){console.error("Failed to activate cropper",{error:i})}this._observer=new ResizeObserver(([i])=>{i.contentRect.width>0&&i.contentRect.height>0&&this._isActive&&this.$.image&&this._handleResizeThrottled()}),this._observer.observe(this)}}deactivate({reset:n=!1}={}){var r;this._isActive&&(!n&&this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=Mr({active_from_viewer:!1,active_from_editor:!1,inactive_to_editor:!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}),(r=this._observer)==null||r.disconnect())}_transitionToCrop(){let n=this._getCropDimensions(),r=Math.min(this.offsetWidth,n[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,n[1])/this.$["*cropBox"].height,s=Math.min(r,i),o=this.$["*cropBox"].x+this.$["*cropBox"].width/2,a=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${s}) translate(${(this.offsetWidth/2-o)/s}px, ${(this.offsetHeight/2-a)/s}px)`,this.style.transformOrigin=`${o}px ${a}px`}_transitionToImage(){let n=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${n}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(n,r){let i=this.offsetWidth;r={...r,crop:void 0,rotate:void 0,flip:void 0,mirror:void 0};let s=this.proxyUrl(J1(n,i,r)),{promise:o,cancel:a,image:l}=Y1(s),u=this._handleImageLoading(s);return l.addEventListener("load",u,{once:!0}),l.addEventListener("error",u,{once:!0}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=a,o.then(()=>l).catch(d=>(console.error("Failed to load image",{error:d}),this.$["*networkProblems"]=!0,Promise.resolve(l)))}_handleImageLoading(n){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(n)||(i.set(r,i.get(r).set(n,!0)),this.$["*loadingOperations"]=i),()=>{var s;(s=i==null?void 0:i.get(r))!=null&&s.has(n)&&(i.get(r).delete(n),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",()=>{this.$.image&&this._commitDebounced()}),this.sub("*cropPresetList",()=>{this._alignCrop()}),setTimeout(()=>{this.sub("*networkProblems",n=>{n||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){var n;super.destroyCallback(),(n=this._observer)==null||n.disconnect()}}L7.template=`
  <canvas class="canvas" ref="canvas-el"></canvas>
  <lr-crop-frame ref="frame-el"></lr-crop-frame>
`;function tw(t,e,n){let r=Array(n);n--;for(let i=n;i>=0;i--)r[i]=Math.ceil((i*e+(n-i)*t)/n);return r}function cV(t){return t.reduce((e,n,r)=>r<t.length-1?[...e,[n,t[r+1]]]:e,[])}function uV(t,e,n){let r=cV(t).find(([i,s])=>i<=e&&e<=s);return t.map(i=>{let s=Math.abs(r[0]-r[1]),o=Math.abs(e-r[0])/s;return r[0]===i?e>n?1:1-o:r[1]===i?e>=n?o:1:0})}function dV(t,e){return t.map((n,r)=>n<e?t.length-r:r)}function nw(t,e){let n=Xa[t].keypointsNumber,{range:r,zero:i}=Xa[t];return[...new Set([...tw(r[0],i,n+1),...tw(i,r[1],n+1),i,e])].sort((s,o)=>s-o)}class hV extends ht{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=vr(this._addKeypoint.bind(this),600),this.classList.add("inactive_to_cropper")}_handleImageLoading(e){let n=this._operation,r=this.$["*loadingOperations"];return r.get(n)||r.set(n,new Map),r.get(n).get(e)||(r.set(n,r.get(n).set(e,!0)),this.$["*loadingOperations"]=r),()=>{var i;(i=r==null?void 0:r.get(n))!=null&&i.has(e)&&(r.get(n).delete(e),this.$["*loadingOperations"]=r)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let e of this._keypoints){let{image:n}=e;n&&(n.style.opacity=e.opacity.toString(),n.style.zIndex=e.zIndex.toString())}})}_imageSrc({url:e=this._url,filter:n=this._filter,operation:r,value:i}={}){let s={...this._transformations};r&&(s[r]=n?{name:n,amount:i}:i);let o=this.offsetWidth;return this.proxyUrl(J1(e,o,s))}_constructKeypoint(e,n){return{src:this._imageSrc({operation:e,value:n}),image:null,opacity:0,zIndex:0,value:n}}_isSame(e,n){return this._operation===e&&this._filter===n}_addKeypoint(e,n,r){let i=()=>!this._isSame(e,n)||this._value!==r||!!this._keypoints.find(l=>l.value===r);if(i())return;let s=this._constructKeypoint(e,r),o=new Image;o.src=s.src;let a=this._handleImageLoading(s.src);o.addEventListener("load",a,{once:!0}),o.addEventListener("error",a,{once:!0}),s.image=o,o.classList.add("fader-image"),o.addEventListener("load",()=>{if(i())return;let l=this._keypoints,u=l.findIndex(h=>h.value>r),d=u<l.length?l[u].image:null;!this._container||d&&!this._container.contains(d)||(l.splice(u,0,s),this._container.insertBefore(o,d),this._update(e,r))},{once:!0}),o.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}set(e){e=typeof e=="string"?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,n){this._operation=e,this._value=n;let{zero:r}=Xa[e],i=this._keypoints.map(a=>a.value),s=uV(i,n,r),o=dV(i,r);for(let[a,l]of Object.entries(this._keypoints))l.opacity=s[a],l.zIndex=o[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("fader-image","fader-image--preview"),e.style.opacity="0",e}async _initNodes(){let e=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&e.appendChild(this._previewImage);let n=document.createElement("div");e.appendChild(n);let r=this._keypoints.map(u=>u.src),{images:i,promise:s,cancel:o}=Lm(r);i.forEach(u=>{let d=this._handleImageLoading(u.src);u.addEventListener("load",d),u.addEventListener("error",d)}),this._cancelLastImages=()=>{o(),this._cancelLastImages=void 0};let a=this._operation,l=this._filter;await s,this._isActive&&this._isSame(a,l)&&(this._container&&this._container.remove(),this._container=n,this._keypoints.forEach((u,d)=>{let h=i[d];h.classList.add("fader-image"),u.image=h,this._container.appendChild(h)}),this.appendChild(e),this._flush())}setTransformations(e){if(this._transformations=e,this._previewImage){let n=this._imageSrc(),r=this._handleImageLoading(n);this._previewImage.src=n,this._previewImage.addEventListener("load",r,{once:!0}),this._previewImage.addEventListener("error",r,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}}preload({url:e,filter:n,operation:r,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let o=nw(r,i).map(l=>this._imageSrc({url:e,filter:n,operation:r,value:l})),{cancel:a}=Lm(o);this._cancelBatchPreload=a}_setOriginalSrc(e){let n=this._previewImage||this._createPreviewImage();if(!this.contains(n)&&this.appendChild(n),this._previewImage=n,n.src===e){n.style.opacity="1",n.style.transform="scale(1)",this.className=Mr({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1});return}n.style.opacity="0";let r=this._handleImageLoading(e);n.addEventListener("error",r,{once:!0}),n.src=e,n.addEventListener("load",()=>{r(),n&&(n.style.opacity="1",n.style.transform="scale(1)",this.className=Mr({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}))},{once:!0}),n.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}activate({url:e,operation:n,value:r,filter:i,fromViewer:s}){if(this._isActive=!0,this._hidden=!1,this._url=e,this._operation=n||"initial",this._value=r,this._filter=i,this._fromViewer=s,typeof r!="number"&&!i){let a=this._imageSrc({operation:n,value:r});this._setOriginalSrc(a),this._container&&this._container.remove();return}this._keypoints=nw(n,r).map(a=>this._constructKeypoint(n,a)),this._update(n,r),this._initNodes()}deactivate({hide:e=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=Mr({active_from_viewer:!1,active_from_cropper:!1,inactive_to_cropper:!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}}const fV=1;class N7 extends ht{initCallback(){super.initCallback(),this.addEventListener("wheel",e=>{e.preventDefault();let{deltaY:n,deltaX:r}=e;Math.abs(r)>fV?this.scrollLeft+=r:this.scrollLeft+=n},{passive:!1}),this.addEventListener("scroll",()=>{},{passive:!0})}}N7.template=" <slot></slot> ";function pV(t){return`
    <lr-presence-toggle class="tab-toggle" set="visible: presence.tabToggle.${t}; styles: presence.tabToggleStyles;">
      <lr-btn-ui
        theme="tab"
        ref="tab-toggle-${t}"
        data-id="${t}"
        icon="${t}"
        set="onclick: on.clickTab; aria-role:tab_role; aria-controls:tab_${t}"
      >
      </lr-btn-ui>
    </lr-presence-toggle>
  `}function mV(t){return`
    <lr-presence-toggle
      id="tab_${t}"
      class="tab-content"
      set="visible: presence.tabContent.${t}; styles: presence.tabContentStyles"
    >
      <lr-editor-scroller hidden-scrollbar>
        <div class="controls-list_align">
          <div role="listbox" aria-orientation="horizontal" class="controls-list_inner" ref="controls-list-${t}"></div>
        </div>
      </lr-editor-scroller>
    </lr-presence-toggle>
  `}class O7 extends ht{constructor(){super();$(this,"_updateInfoTooltip",vr(()=>{var o,a;const n=this.$["*editorTransformations"],r=this.$["*currentOperation"];let i="",s=!1;if(this.$["*tabId"]===At.FILTERS)if(s=!0,this.$["*currentFilter"]&&((o=n==null?void 0:n.filter)==null?void 0:o.name)===this.$["*currentFilter"]){let l=((a=n==null?void 0:n.filter)==null?void 0:a.amount)||100;i=this.$["*currentFilter"]+" "+l}else i=this.l10n(ks);else if(this.$["*tabId"]===At.TUNING&&r){s=!0;let l=(n==null?void 0:n[r])||Xa[r].zero;i=this.l10n(r)+" "+l}s&&(this.$["*operationTooltip"]=i),this.ref["tooltip-el"].classList.toggle("info-tooltip_visible",s)},0));this.init$={...this.init$,"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*currentFilter":ks,"*currentOperation":null,showLoader:!1,filters:UN,colorOperations:VN,cropOperations:$N,"*operationTooltip":null,"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabToggles":!0,"presence.tabContent.crop":!1,"presence.tabContent.tuning":!1,"presence.tabContent.filters":!1,"presence.tabToggle.crop":!0,"presence.tabToggle.tuning":!0,"presence.tabToggle.filters":!0,"presence.subTopToolbarStyles":{hidden:"sub-toolbar--top-hidden",visible:"sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"sub-toolbar--bottom-hidden",visible:"sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"tab-content--hidden",visible:"tab-content--visible"},"presence.tabToggleStyles":{hidden:"tab-toggle--hidden",visible:"tab-toggle--visible"},"presence.tabTogglesStyles":{hidden:"tab-toggles--hidden",visible:"tab-toggles--visible"},"on.cancel":()=>{this._cancelPreload&&this._cancelPreload(),this.$["*on.cancel"]()},"on.apply":()=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":()=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":()=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":n=>{const r=n.currentTarget.getAttribute("data-id");r&&this._activateTab(r,{fromViewer:!1})},tab_role:"tab",[`tab_${At.TUNING}`]:`tab_${At.TUNING}`,[`tab_${At.CROP}`]:`tab_${At.CROP}`,[`tab_${At.FILTERS}`]:`tab_${At.FILTERS}`},this._debouncedShowLoader=vr(this._showLoader.bind(this),500)}_onSliderClose(){this.$["*showSlider"]=!1,this.$["*tabId"]===At.TUNING&&this.ref["tooltip-el"].classList.toggle("info-tooltip_visible",!1)}_createOperationControl(n){let r=new P7;return r.operation=n,r}_createFilterControl(n){let r=new Z1;return r.filter=n,r}_createToggleControl(n){let r=new k7;return r.operation=n,r}_renderControlsList(n){let r=this.ref[`controls-list-${n}`],i=document.createDocumentFragment();n===At.CROP?this.$.cropOperations.forEach(s=>{let o=this._createToggleControl(s);i.appendChild(o)}):n===At.FILTERS?[ks,...this.$.filters].forEach(s=>{let o=this._createFilterControl(s);i.appendChild(o)}):n===At.TUNING&&this.$.colorOperations.forEach(s=>{let o=this._createOperationControl(s);i.appendChild(o)}),[...i.children].forEach((s,o)=>{o===i.childNodes.length-1&&s.classList.add("controls-list_last-item")}),r.innerHTML="",r.appendChild(i)}_activateTab(n,{fromViewer:r}){this.$["*tabId"]=n,n===At.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:r})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:r}),this.$["*cropperEl"].deactivate());for(let i of ai){let s=i===n,o=this.ref[`tab-toggle-${i}`];o.active=s,s?(this._renderControlsList(n),this._syncTabIndicator()):this._unmountTabControls(i),this.$[`presence.tabContent.${i}`]=s}}_unmountTabControls(n){let r=this.ref[`controls-list-${n}`];r&&(r.innerHTML="")}_syncTabIndicator(){let n=this.ref[`tab-toggle-${this.$["*tabId"]}`],r=this.ref["tabs-indicator"];r.style.transform=`translateX(${n.offsetLeft}px)`}_preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let n=this.$["*imgContainerEl"].offsetWidth,r=this.proxyUrl(J1(this.$["*originalUrl"],n,this.$["*editorTransformations"]));this._cancelPreload&&this._cancelPreload();let{cancel:i}=Lm([r]);this._cancelPreload=()=>{i(),this._cancelPreload=void 0}}}_showLoader(n){this.$.showLoader=n}initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",n=>{n&&setTimeout(()=>{this._activateTab(this.$["*tabId"],{fromViewer:!0})},0)}),this.sub("*editorTransformations",n=>{var i;let r=(i=n==null?void 0:n.filter)==null?void 0:i.name;this.$["*currentFilter"]!==r&&(this.$["*currentFilter"]=r)}),this.sub("*currentFilter",()=>{this._updateInfoTooltip()}),this.sub("*currentOperation",()=>{this._updateInfoTooltip()}),this.sub("*tabId",()=>{this._updateInfoTooltip()}),this.sub("*originalUrl",()=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",n=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(n)}),this.sub("*loadingOperations",n=>{let r=!1;for(let[,i]of n.entries()){if(r)break;for(let[,s]of i.entries())if(s){r=!0;break}}this._debouncedShowLoader(r)}),this.sub("*showSlider",n=>{this.$["presence.subToolbar"]=n,this.$["presence.mainToolbar"]=!n}),this.sub("*tabList",n=>{this.$["presence.tabToggles"]=n.length>1;for(const r of ai){this.$[`presence.tabToggle.${r}`]=n.includes(r);const i=this.ref[`tab-toggle-${r}`];i.style.gridColumn=n.indexOf(r)+1}n.includes(this.$["*tabId"])||this._activateTab(n[0],{fromViewer:!1})}),this._updateInfoTooltip()}}O7.template=`
  <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>
  <div class="info-tooltip_container">
    <div class="info-tooltip_wrapper">
      <div ref="tooltip-el" class="info-tooltip info-tooltip_hidden">{{*operationTooltip}}</div>
    </div>
  </div>
  <div class="toolbar-container">
    <lr-presence-toggle
      role="tablist"
      class="sub-toolbar"
      set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles"
    >
      <div class="tab-content-row">${ai.map(mV).join("")}</div>
      <div class="controls-row">
        <lr-presence-toggle class="tab-toggles" set="visible: presence.tabToggles; styles: presence.tabTogglesStyles">
          <div ref="tabs-indicator" class="tab-toggles_indicator"></div>
          ${ai.map(pV).join("")}
        </lr-presence-toggle>
        <lr-btn-ui style="order: -1" theme="secondary-icon" icon="closeMax" set="onclick: on.cancel"> </lr-btn-ui>
        <lr-btn-ui theme="primary-icon" icon="done" set="onclick: on.apply"> </lr-btn-ui>
      </div>
    </lr-presence-toggle>
    <lr-presence-toggle class="sub-toolbar" set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles">
      <div class="slider">
        <lr-editor-slider ref="slider-el"></lr-editor-slider>
      </div>
      <div class="controls-row">
        <lr-btn-ui theme="secondary" set="onclick: on.cancelSlider;" l10n="@text:cancel"> </lr-btn-ui>
        <lr-btn-ui theme="primary" set="onclick: on.applySlider;" l10n="@text:apply"> </lr-btn-ui>
      </div>
    </lr-presence-toggle>
  </div>
`;class ey extends ht{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$={...this.init$,text:"",icon:"",iconCss:this._iconCss(),theme:null,"aria-role":"","aria-controls":""},this.defineAccessor("active",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return Mr("icon",{icon_left:!this._iconReversed,icon_right:this._iconReversed,icon_hidden:this._iconHidden,icon_single:this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()}),this.sub("theme",e=>{e!=="custom"&&(this.className=e)}),this.sub("text",e=>{this._iconSingle=!1}),this.hasAttribute("theme")||this.setAttribute("theme","default"),this.defineAccessor("aria-role",e=>{this.$["aria-role"]=e||""}),this.defineAccessor("aria-controls",e=>{this.$["aria-controls"]=e||""})}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}ey.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"});ey.template=`
  <button set="@role:aria-role; @aria-controls: aria-controls">
    <lr-icon set="className: iconCss; @name: icon; @hidden: !icon"></lr-icon>
    <div class="text">{{text}}</div>
  </button>
`;class D7 extends ht{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let e=this.ref["line-el"];e.style.transition="initial",e.style.opacity="0",e.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",e=>{typeof e=="boolean"&&(e?this._start():this._stop())})}_start(){this._active=!0;let{width:e}=this.getBoundingClientRect(),n=this.ref["line-el"];n.style.transition="transform 1s",n.style.opacity="1",n.style.transform=`translateX(${e}px)`,n.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}D7.template=`
  <div class="inner">
    <div class="line" ref="line-el"></div>
  </div>
`;const Sd={transition:"transition",visible:"visible",hidden:"hidden"};class M7 extends ht{constructor(){super(),this._visible=!1,this._visibleStyle=Sd.visible,this._hiddenStyle=Sd.hidden,this._externalTransitions=!1,this.defineAccessor("styles",e=>{e&&(this._externalTransitions=!0,this._visibleStyle=e.visible,this._hiddenStyle=e.hidden)}),this.defineAccessor("visible",e=>{typeof e=="boolean"&&(this._visible=e,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",eV(this,{[Sd.transition]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.classList.toggle("initial",!0),this._externalTransitions||this.classList.add(Sd.transition),this._handleVisible(),setTimeout(()=>{this.classList.toggle("initial",!1)},0)}}M7.template="<slot></slot> ";class V7 extends ht{constructor(){super();$(this,"init$",{...this.init$,disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let n=parseInt(this.ref["input-el"].value,10);this._updateValue(n),this.$.onInput&&this.$.onInput(n)},"on.sliderChange":()=>{let n=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(n)}});this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{r&&(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{r&&(this.$.onChange=r)}),this._updateSteps(),this._observer=new ResizeObserver(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let n=this.ref["input-el"];n.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),n.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(n){this._updateZeroDot(n);let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(n-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${o}px)`})}_updateZeroDot(n){if(!this._zeroDotEl)return;n===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="0.2";let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${o}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),s=Math.ceil(i/2),o=Math.ceil(s/15)-2;if(this._stepsCount===o)return;let a=document.createDocumentFragment(),l=document.createElement("div"),u=document.createElement("div");l.className="minor-step",u.className="border-step",a.appendChild(u);for(let h=0;h<o;h++)a.appendChild(l.cloneNode());a.appendChild(u.cloneNode());for(let h=0;h<o;h++)a.appendChild(l.cloneNode());a.appendChild(u.cloneNode());let d=document.createElement("div");d.className="zero-dot",a.appendChild(d),this._zeroDotEl=d,r.innerHTML="",r.appendChild(a),this._stepsCount=o}destroyCallback(){var n;(n=this._observer)==null||n.disconnect()}}V7.template=`
  <div class="steps" ref="steps-el"></div>
  <div ref="thumb-el" class="thumb"></div>
  <input
    class="input"
    type="range"
    ref="input-el"
    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"
  />
`;class gV extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);$(this,"activityType",ke.activities.CLOUD_IMG_EDIT);this.init$={...this.init$,cdnUrl:null}}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor()}),this.sub("*focusedEntry",n=>{n&&(this.entry=n,this.entry.subscribe("cdnUrl",r=>{r&&(this.$.cdnUrl=r)}))}),this.subConfigValue("cropPreset",n=>{this._instance&&this._instance.getAttribute("crop-preset")!==n&&this._instance.setAttribute("crop-preset",n)}),this.subConfigValue("cloudImageEditorTabs",n=>{this._instance&&this._instance.getAttribute("tabs")!==n&&this._instance.setAttribute("tabs",n)})}handleApply(n){if(!this.entry)return;let r=n.detail;this.entry.setMultipleValues({cdnUrl:r.cdnUrl,cdnUrlModifiers:r.cdnUrlModifiers}),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){const n=new vl,r=this.$.cdnUrl,i=this.cfg.cropPreset,s=this.cfg.cloudImageEditorTabs;n.setAttribute("ctx-name",this.ctxName),n.setAttribute("cdn-url",r),i&&n.setAttribute("crop-preset",i),s&&n.setAttribute("tabs",s),n.addEventListener("apply",o=>{const a=o;this.handleApply(a),this.debugPrint('editor event "apply"',a.detail)}),n.addEventListener("cancel",o=>{const a=o;this.handleCancel(),this.debugPrint('editor event "cancel"',a.detail)}),n.addEventListener("change",o=>{const a=o;this.debugPrint('editor event "change"',a.detail)}),this.innerHTML="",this.appendChild(n),this._mounted=!0,this._instance=n}unmountEditor(){this._instance=void 0,this.innerHTML=""}}const yV=function(t){return t.replace(/[\\-\\[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},vV=function(t,e="i"){const n=t.split("*").map(yV);return new RegExp("^"+n.join(".+")+"$",e)},_V=t=>Object.keys(t).reduce((n,r)=>{const i=t[r],s=Object.keys(i).reduce((o,a)=>{const l=i[a];return o+`${a}: ${l};`},"");return n+`${r}{${s}}`},"");function wV({textColor:t,backgroundColor:e,linkColor:n,linkColorHover:r,secondaryColor:i,secondaryHover:s,secondaryForegroundColor:o,fontFamily:a,fontSize:l,radius:u}){const d=`solid 1px ${i}`;return _V({body:{color:t,"background-color":e,"font-family":a,"font-size":l},".side-bar":{background:"inherit","border-right":d},".main-content":{background:"inherit"},".main-content-header":{background:"inherit"},".main-content-footer":{background:"inherit"},".list-table-row":{color:"inherit"},".list-table-row:hover":{background:i},".list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b":{"border-top":d},".list-table-body .list-items":{"border-bottom":d},".bread-crumbs a":{color:n},".bread-crumbs a:hover":{color:r},".main-content.loading":{background:`${e} url(/static/images/loading_spinner.gif) center no-repeat`,"background-size":"25px 25px"},".list-icons-item":{"background-color":i},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a":{color:n},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover":{color:r},".side-bar-menu a":{color:n},".side-bar-menu a:hover":{color:r},".source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover":{color:r},".source-vk .side-bar-menu a":{color:n},".source-vk .side-bar-menu a:hover":{color:r,background:"none"},"input[type=submit], .button, button":{color:o,background:i,"box-shadow":"none",border:"none","border-radius":u},"input[type=submit]:hover, .button:hover, button:hover":{background:s},".text-field, input[type=search], input[type=text], input[type=url], textarea":{color:o,"border-radius":u,background:i,border:d}})}let Rs={};window.addEventListener("message",t=>{let e;try{e=JSON.parse(t.data)}catch{return}if((e==null?void 0:e.type)in Rs){let n=Rs[e.type];for(let[r,i]of n)t.source===r&&i(e)}});const EV=function(t,e,n){t in Rs||(Rs[t]=[]),Rs[t].push([e,n])},bV=function(t,e){t in Rs&&(Rs[t]=Rs[t].filter(n=>n[0]!==e))};function TV(t){let e=[];for(let[n,r]of Object.entries(t))r==null||typeof r=="string"&&r.length===0||e.push(`${n}=${encodeURIComponent(r)}`);return e.join("&")}class U7 extends gt{constructor(){super();$(this,"couldBeCtxOwner",!0);$(this,"activityType",ke.activities.EXTERNAL);$(this,"_iframe",null);this.init$={...this.init$,activityIcon:"",activityCaption:"",selectedList:[],counter:0,multiple:!1,onDone:()=>{for(const n of this.$.selectedList){const r=this.extractUrlFromMessage(n),{filename:i}=n,{externalSourceType:s}=this.activityParams;this.addFileFromUrl(r,{fileName:i,source:s})}this.$["*currentActivity"]=ke.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()}}}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:n}=this.activityParams;this.set$({activityCaption:`${n==null?void 0:n[0].toUpperCase()}${n==null?void 0:n.slice(1)}`,activityIcon:n}),this.mountIframe()}}),this.sub("*currentActivity",n=>{n!==this.activityType&&this.unmountIframe()}),this.sub("selectedList",n=>{this.$.counter=n.length}),this.subConfigValue("multiple",n=>{this.$.multiple=n})}extractUrlFromMessage(n){if(n.alternatives){const r=Vs(this.cfg.externalSourcesPreferredTypes);for(const i of r){const s=vV(i);for(const[o,a]of Object.entries(n.alternatives))if(s.test(o))return a}}return n.url}sendMessage(n){var r,i;(i=(r=this._iframe)==null?void 0:r.contentWindow)==null||i.postMessage(JSON.stringify(n),"*")}async handleFileSelected(n){!this.$.multiple&&this.$.selectedList.length||(this.$.selectedList=[...this.$.selectedList,n],this.$.multiple||this.$.onDone())}handleIframeLoad(){this.applyStyles()}getCssValue(n){return window.getComputedStyle(this).getPropertyValue(n).trim()}applyStyles(){let n={radius:this.getCssValue("--uc-radius"),backgroundColor:this.getCssValue("--uc-background"),textColor:this.getCssValue("--uc-foreground"),secondaryColor:this.getCssValue("--uc-secondary"),secondaryForegroundColor:this.getCssValue("--uc-secondary-foreground"),secondaryHover:this.getCssValue("--uc-secondary-hover"),linkColor:this.getCssValue("--uc-primary"),linkColorHover:this.getCssValue("--uc-primary-hover"),fontFamily:this.getCssValue("--uc-font-family"),fontSize:this.getCssValue("--uc-font-size")};this.sendMessage({type:"embed-css",style:wV(n)})}remoteUrl(){var u,d;const{pubkey:n,remoteTabSessionKey:r,socialBaseUrl:i}=this.cfg,{externalSourceType:s}=this.activityParams,a={lang:((d=(u=this.l10n("social-source-lang"))==null?void 0:u.split("-"))==null?void 0:d[0])||"en",public_key:n,images_only:"false",pass_window_open:!1,session_key:r},l=new URL(`/window3/${s}`,i);return l.search=TV(a),l.toString()}mountIframe(){let n=kb({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});n.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(n),EV("file-selected",n.contentWindow,this.handleFileSelected.bind(this)),this._iframe=n,this.$.selectedList=[]}unmountIframe(){this._iframe&&bV("file-selected",this._iframe.contentWindow),this.ref.iframeWrapper.innerHTML="",this._iframe=null,this.$.selectedList=[],this.$.counter=0}}U7.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div>
      <lr-icon set="@name: activityIcon"></lr-icon>
      <span>{{activityCaption}}</span>
    </div>
    <button type="button" class="mini-btn close-btn" set="onclick: *historyBack">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <div class="content">
    <div ref="iframeWrapper" class="iframe-wrapper"></div>
    <div class="toolbar">
      <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel" l10n="cancel"></button>
      <div></div>
      <div set="@hidden: !multiple" class="selected-counter"><span l10n="selected-count"></span>{{counter}}</div>
      <button
        type="button"
        class="done-btn primary-btn"
        set="onclick: onDone; @disabled: !counter"
        l10n="done"
      ></button>
    </div>
  </div>
`;class CV extends gt{constructor(){super(...arguments);$(this,"requireCtxName",!0)}_createValidationInput(){const n=document.createElement("input");return n.type="text",n.name=this.ctxName,n.required=this.cfg.multipleMin>0,n.tabIndex=-1,xb(n,{opacity:0,height:0,width:0}),n}initCallback(){super.initCallback(),this._validationInputElement=this._createValidationInput(),this.appendChild(this._validationInputElement),this.sub("*collectionState",n=>{var r;{if(this._dynamicInputsContainer||(this._dynamicInputsContainer=document.createElement("div"),this.appendChild(this._dynamicInputsContainer)),!this._validationInputElement){const a=this._createValidationInput();this.appendChild(a),this._validationInputElement=a}if(this._dynamicInputsContainer.innerHTML="",n.status==="uploading"||n.status==="idle"){this._validationInputElement.value="",this._validationInputElement.setCustomValidity("");return}if(n.status==="failed"){const a=(r=n.errors[0])==null?void 0:r.message;this._validationInputElement.value="",this._validationInputElement.setCustomValidity(a);return}const i=n.group?n.group:null;if(i){this._validationInputElement.value=i.cdnUrl,this._validationInputElement.setCustomValidity("");return}const s=n.allEntries.map(a=>a.cdnUrl);if(!this.cfg.multiple&&s.length===1){this._validationInputElement.value=s[0],this._validationInputElement.setCustomValidity("");return}this._validationInputElement.remove(),this._validationInputElement=null;const o=new DocumentFragment;for(let a of s){const l=document.createElement("input");l.type="hidden",l.name=`${this.ctxName}[]`,l.value=a,o.appendChild(l)}this._dynamicInputsContainer.replaceChildren(o)}},!1)}}class SV extends ke{}class $7 extends ht{constructor(){super(...arguments);$(this,"init$",{...this.init$,currentText:"",options:[],selectHtml:"",onSelect:n=>{var r;n.preventDefault(),n.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=((r=this.$.options.find(i=>i.value==this.value))==null?void 0:r.text)||"",this.dispatchEvent(new Event("change"))}})}initCallback(){super.initCallback(),this.sub("options",n=>{var i;this.$.currentText=((i=n==null?void 0:n[0])==null?void 0:i.text)||"";let r="";n==null||n.forEach(s=>{r+=`<option value="${s.value}">${s.text}</option>`}),this.$.selectHtml=r})}}$7.template=' <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select> ';class F7 extends ht{initCallback(){super.initCallback(),this.subConfigValue("removeCopyright",e=>{this.toggleAttribute("hidden",!!e)})}}$(F7,"template",`
    <a
      href="https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4"
      target="_blank noopener"
      class="credits"
      >Powered by Uploadcare</a
    >
  `);const Cc=class Cc extends Nu{constructor(){super(),this.init$={...this.init$,isHidden:!1}}initCallback(){super.initCallback(),this.defineAccessor("headless",e=>{this.set$({isHidden:bt(e)})}),this.sub("*modalActive",e=>{this._lastModalActive!==e&&this.emit(e?St.MODAL_OPEN:St.MODAL_CLOSE,void 0,{debounce:!0}),this._lastModalActive=e},!1)}};$(Cc,"styleAttrs",[...Xi(Cc,Cc,"styleAttrs"),"lr-file-uploader-regular"]);let Ja=Cc;Ja.template=`
  <lr-simple-btn set="@hidden: isHidden"></lr-simple-btn>

  <lr-modal strokes block-body-scrolling>
    <lr-start-from>
      <lr-drop-area with-icon clickable></lr-drop-area>
      <lr-source-list wrap></lr-source-list>
      <button type="button" l10n="start-from-cancel" class="secondary-btn" set="onclick: *historyBack"></button>
      <lr-copyright></lr-copyright>
    </lr-start-from>
    <lr-upload-list></lr-upload-list>
    <lr-camera-source></lr-camera-source>
    <lr-url-source></lr-url-source>
    <lr-external-source></lr-external-source>
    <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>
  </lr-modal>

  <lr-progress-bar-common></lr-progress-bar-common>
`;Ja.bindAttributes({headless:null});const Sc=class Sc extends Nu{initCallback(){super.initCallback();const e=this.ref.uBlock;this.sub("*currentActivity",n=>{n||(this.$["*currentActivity"]=e.initActivity||ke.activities.START_FROM)}),this.sub("*uploadList",n=>{(n==null?void 0:n.length)>0?this.$["*currentActivity"]=ke.activities.UPLOAD_LIST:this.$["*currentActivity"]=e.initActivity||ke.activities.START_FROM}),this.subConfigValue("sourceList",n=>{n!=="local"&&(this.cfg.sourceList="local")}),this.subConfigValue("confirmUpload",n=>{n!==!1&&(this.cfg.confirmUpload=!1)})}};$(Sc,"styleAttrs",[...Xi(Sc,Sc,"styleAttrs"),"lr-file-uploader-minimal"]);let el=Sc;el.template=`
  <lr-start-from>
    <lr-drop-area tabindex="0" clickable l10n="choose-file"></lr-drop-area>
    <lr-copyright></lr-copyright>
  </lr-start-from>
  <lr-upload-list ref="uBlock"></lr-upload-list>
`;const Ac=class Ac extends Nu{constructor(){super(),this.init$={...this.init$,couldCancel:!1,cancel:()=>{this.couldHistoryBack?this.$["*historyBack"]():this.couldShowList&&(this.$["*currentActivity"]=ke.activities.UPLOAD_LIST)}}}get couldHistoryBack(){const e=this.$["*history"];return e.length>1&&e[e.length-1]!==ke.activities.START_FROM}get couldShowList(){return this.cfg.showEmptyList||this.$["*uploadList"].length>0}initCallback(){super.initCallback();const e=this.ref.uBlock;this.sub("*currentActivity",n=>{n||(this.$["*currentActivity"]=e.initActivity||ke.activities.START_FROM)}),this.sub("*uploadList",n=>{(n==null?void 0:n.length)>0&&this.$["*currentActivity"]===(e.initActivity||ke.activities.START_FROM)&&(this.$["*currentActivity"]=ke.activities.UPLOAD_LIST)}),this.sub("*history",()=>{this.$.couldCancel=this.couldHistoryBack||this.couldShowList})}};$(Ac,"styleAttrs",[...Xi(Ac,Ac,"styleAttrs"),"lr-file-uploader-inline"]);let Hh=Ac;Hh.template=` <lr-start-from>
    <lr-drop-area with-icon clickable></lr-drop-area>
    <lr-source-list wrap></lr-source-list>
    <button
      type="button"
      l10n="start-from-cancel"
      class="cancel-btn secondary-btn"
      set="onclick: cancel; @hidden: !couldCancel"
    ></button>
    <lr-copyright></lr-copyright>
  </lr-start-from>
  <lr-upload-list ref="uBlock"></lr-upload-list>
  <lr-camera-source></lr-camera-source>
  <lr-url-source></lr-url-source>
  <lr-external-source></lr-external-source>
  <lr-progress-bar></lr-progress-bar>
  <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>`;const Ic=class Ic extends vl{initCallback(){var e;super.initCallback(),(e=this.a11y)==null||e.registerBlock(this)}};$(Ic,"styleAttrs",[...Xi(Ic,Ic,"styleAttrs"),"lr-wgt-common"]);let Nm=Ic;function Ou(t){for(let e in t){let n=[...e].reduce((r,i)=>(i.toUpperCase()===i&&(i="-"+i.toLowerCase()),r+=i),"");n.startsWith("-")&&(n=n.replace("-","")),n.startsWith("lr-")||(n="lr-"+n),t[e].reg&&t[e].reg(n)}}const t0="LR";async function AV(t,e=!1){return new Promise((n,r)=>{if(typeof document!="object"){n(null);return}if(typeof window=="object"&&window[t0]){n(window[t0]);return}let i=document.createElement("script");i.async=!0,i.src=t,i.onerror=()=>{r()},i.onload=()=>{let s=window[t0];e&&Ou(s),n(s)},document.head.appendChild(i)})}const ty=Object.freeze(Object.defineProperty({__proto__:null,ActivityBlock:ke,ActivityHeader:SV,BaseComponent:Hf,Block:ht,CameraSource:T7,CloudImageEditor:Nm,CloudImageEditorActivity:gV,CloudImageEditorBlock:vl,Config:l7,Copyright:F7,CropFrame:x7,Data:He,DropArea:ou,EditorCropButtonControl:k7,EditorFilterControl:Z1,EditorImageCropper:L7,EditorImageFader:hV,EditorOperationControl:P7,EditorScroller:N7,EditorSlider:R7,EditorToolbar:O7,ExternalSource:U7,FileItem:_o,FileUploaderInline:Hh,FileUploaderMinimal:el,FileUploaderRegular:Ja,FormInput:CV,Icon:Q1,Img:gM,LineLoaderUi:D7,LrBtnUi:ey,Modal:Bh,PACKAGE_NAME:D1,PACKAGE_VERSION:M1,PresenceToggle:M7,ProgressBar:A7,ProgressBarCommon:S7,Select:$7,SimpleBtn:su,SliderUi:V7,SolutionBlock:Nu,SourceBtn:X1,SourceList:TM,StartFrom:u7,UID:Pu,UploadCtxProvider:Pm,UploadList:E7,UploaderBlock:gt,UrlSource:b7,connectBlocksFrom:AV,defineLocale:r7,registerBlocks:Ou,toKebabCase:Zf},Symbol.toStringTag,{value:"Module"})),IV=new Set(["children","ref","style","className"]),xV=(t={})=>Object==null?void 0:Object.keys(t).reduce((e,n)=>{var r,i;const s=t==null?void 0:t[n],o=`on${(i=(r=s==null?void 0:s.split("-"))==null?void 0:r.map(a=>a.charAt(0).toUpperCase()+a.slice(1)))==null?void 0:i.join("")}`;return e[o]=s,e},{}),rw=new WeakMap,kV=t=>{let e=rw.get(t);return e===void 0&&(e=new Map,rw.set(t,e)),e},iw=({node:t,nameProp:e,valueProp:n,prevValueProp:r,event:i})=>{if(i!==void 0){if(n!==r){const s=kV(t),o=s.has(i);let a=s.get(i);n!==void 0?o?a.handleEvent=n:(a={handleEvent:n},s.set(i,a),t.addEventListener(i,l=>a.handleEvent(l.detail))):o&&(s.delete(i),t.removeEventListener(i,a))}return}t[e]=n,n==null&&e in HTMLElement.prototype&&t.removeAttribute(e)},RV=(t,e,n)=>{const r={},i={};return Object.entries(t).forEach(([s,o])=>{IV.has(s)?r[s==="className"?"class":s]=o:e.has(s)||s in n.prototype?i[s]=o:r[s]=o}),{reactProps:r,customElProps:i}},Du=({react:t,tag:e,elClass:n,schemaEvents:r})=>{const i=xV(r),s=new Set(Object.keys(i??{})),o=t.forwardRef((a,l)=>{const u=t.useRef(new Map),d=t.useRef(null),{reactProps:h,customElProps:p}=RV(a,s,n);return t.useLayoutEffect(()=>{if(d.current===null)return;const g=new Map;for(const y in p)iw({node:d.current,nameProp:y,valueProp:p[y],prevValueProp:u.current.get(y),event:i[y]}),u.current.delete(y),g.set(y,a[y]);for(const[y,E]of u.current)iw({node:d.current,nameProp:y,valueProp:void 0,prevValueProp:E,event:i[y]});u.current=g}),t.createElement(e??n.__tag,{...h,ref:t.useCallback(g=>{d.current=g,typeof l=="function"?l(g):l!==null&&(l.current=g)},[l])})});return o.displayName=n.name,o},PV=Du({react:Ut,tag:"lr-config",elClass:l7}),LV=Du({react:Ut,tag:"lr-upload-ctx-provider",elClass:Pm,schemaEvents:Pm.EventType}),NV=t=>{const e={},n={};return Object.entries(t).forEach(([r,i])=>{r.startsWith("on")?e[r]=i:n[r]=i}),{eventHandlers:e,config:n}},OV="0.6.0",DV="React-Uploader",MV=()=>`${DV}/${OV}`,VV=({children:t})=>t,UV=()=>{const[t,e]=O.useState(!1);return O.useEffect(()=>{typeof window<"u"&&e(!0)},[]),t};Ou(ty);const $V=Du({react:Ut,tag:"lr-file-uploader-regular",elClass:Ja}),FV=({ctxName:t,className:e,classNameUploader:n,apiRef:r,fallback:i,...s})=>{const o=O.useMemo(()=>t??Pu.generate(),[t]),{eventHandlers:a,config:l}=O.useMemo(()=>NV(s),[s]),u=UV();return Ut.createElement(VV,{condition:u,fallback:i},Ut.createElement("div",{className:e},Ut.createElement(PV,{userAgentIntegration:MV(),"ctx-name":o,...l}),Ut.createElement(LV,{ref:r,"ctx-name":o,...a}),Ut.createElement($V,{class:n,"ctx-name":o})))};Ou(ty);Du({react:Ut,tag:"lr-file-uploader-minimal",elClass:el});Ou(ty);Du({react:Ut,tag:"lr-file-uploader-inline",elClass:el});function j7({fileEntry:t,onChange:e,preview:n}){const[r,i]=O.useState([]),s=O.useRef(null),o=l=>{const u=l.allEntries.filter(d=>d.status==="success");i(u),e({files:u})},a=O.useCallback(l=>{const u=t.files.filter(d=>d.uuid!==l);i(u),e({files:u})},[t.files,e]);return O.useEffect(()=>{var u;const l=d=>{if(d.detail){console.log("The uploaded file event is: ",d);const h=[...d.detail];i(h),e({files:h})}};return(u=s.current)==null||u.addEventListener("data-output",l),()=>{var d;(d=s.current)==null||d.removeEventListener("data-output",l)}},[i,e]),S.jsxs("div",{children:[S.jsx(FV,{pubkey:"c22201d199b2c9210ca1",maxLocalFileSizeBytes:1e7,multipleMax:10,multiple:n,imgOnly:!0,sourceList:"local, url, camera",confirmUpload:!1,removeCopyright:!0,classNameUploader:"my-config uc-light",onChange:o,apiRef:s}),n?S.jsx("div",{className:"grid grid-cols-2 gap-4 mt-8",children:r.map(l=>{var u,d;return S.jsxs("div",{className:"relative",children:[S.jsx("img",{src:`${l.cdnUrl}/-/format/webp/-/quality/smart/-/stretch/fill/`,alt:((u=l.fileInfo)==null?void 0:u.originalFilename)||"",title:((d=l.fileInfo)==null?void 0:d.originalFilename)||""},l.uuid),S.jsx("div",{className:"size-5 flex justify-center items-center absolute -right-1.5 -top-1.5 bg-white border-[1px] border-slate-800 cursor-pointer rounded-full",children:S.jsx("button",{type:"button",className:"text-slate-800 text-center",onClick:()=>a(l.uuid),children:""})})]},l.uuid)})}):S.jsx(S.Fragment,{})]})}var jV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zV=jV.reduce((t,e)=>{const n=O.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?$g:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),BV="Label",z7=O.forwardRef((t,e)=>S.jsx(zV.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));z7.displayName=BV;var B7=z7;const HV=tE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vr=O.forwardRef(({className:t,...e},n)=>S.jsx(B7,{ref:n,className:Xn(HV(),t),...e}));Vr.displayName=B7.displayName;const H7=O.forwardRef(({className:t,...e},n)=>S.jsx("textarea",{className:Xn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));H7.displayName="Textarea";function WV(){const t=$o(),{user:e}=di(),[n,r]=O.useState({files:[]}),[i,s]=O.useState({caption:"",photos:[],likes:0,userlikes:[],userId:null,date:new Date}),o=async a=>{a.preventDefault(),console.log("Uploaded file entry: ",n.files),console.log("The create post is: ",i);const l=n.files.map(u=>({cdnUrl:u.cdnUrl,uuid:u.uuid}));if(e!=null){const u={...i,userId:e==null?void 0:e.uid,photos:l,username:e.displayName,photoURL:e.photoURL};console.log("The final posy is: ",u),await nN(u),t("/")}else t("/login")};return S.jsx(ku,{children:S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"border max-w-3xl w-full",children:[S.jsx("h3",{className:"bg-slate-800 text-white text-center text-lg p-2",children:"Create Post"}),S.jsx("div",{className:"p-8",children:S.jsxs("form",{onSubmit:o,children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx(Vr,{className:"mb-4",htmlFor:"caption",children:"Photo Caption"}),S.jsx(H7,{id:"caption",className:"mb-8",placeholder:"What's in your photo",value:i.caption,onChange:a=>s({...i,caption:a.target.value})})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx(Vr,{className:"mb-4",htmlFor:"photo",children:"Photos"}),S.jsx(j7,{fileEntry:n,onChange:r,preview:!0})]}),S.jsx($r,{className:"mt-8 px-7",type:"submit",children:"Create Post"})]})})]})})})}function qV(){const{user:t}=di(),e=$o(),n={id:"",userId:t==null?void 0:t.uid,userBio:"Pls update your bio...",photoURL:t!=null&&t.photoURL?t.photoURL:"",displayName:t!=null&&t.displayName?t.displayName:"Guest_User"},[r,i]=O.useState(n),[s,o]=O.useState([]),a=async h=>{try{const p=await Sb(h),g=[];p.size>0?(p.forEach(y=>{const E=y.data(),x={id:y.id,...E};g.push(x)}),o(g)):console.log("No such document")}catch(p){console.log(p)}},l=()=>s.map(h=>S.jsxs("div",{className:"w-fit relative",children:[S.jsx("div",{className:"absolute top-0 left-0 bottom-0 right-0 bg-transparent hover:bg-slate-950 hover:bg-opacity-75 group transition-all duration-200",children:S.jsxs("div",{className:"size-full flex flex-col justify-center items-center gap-1",children:[S.jsx(N1,{className:"hidden group-hover:block fill-white"}),S.jsxs("div",{className:"hidden group-hover:block text-white",children:[h.likes," likes"]})]})}),S.jsx("img",{src:`${h.photos[0].cdnUrl}-/progressive/yes/-/scale_crop/300x300/center/`})]},h.photos[0].uuid));O.useEffect(()=>{console.log("User:",t),t!=null&&(a(t.uid),u(t.uid))},[]);const u=async h=>{const p=await WL(h)||{};p.displayName&&i(p)},d=()=>{e("/edit-profile",{state:r})};return S.jsx(ku,{children:S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"w-full max-w-3xl border",children:[S.jsx("h3",{className:"text-white text-center text-lg bg-slate-800 p-2",children:"Profile"}),S.jsxs("div",{className:"p-8 pb-4 border-b",children:[S.jsxs("div",{className:"flex flex-row items-center pb-2 mb-2",children:[S.jsx("div",{className:"mr-2",children:S.jsx("img",{className:"size-28 rounded-full border-2 border-slate-800 object-cover",src:r.photoURL?r.photoURL:Ze.avtDefault,alt:"avatar"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xl ml-3",children:r.displayName?r.displayName:"Guest_User"}),S.jsx("div",{className:"text-xl ml-3",children:t!=null&&t.email?t==null?void 0:t.email:""})]})]}),S.jsx("div",{className:"mb-4",children:r.userBio}),S.jsx("div",{children:S.jsxs($r,{onClick:d,children:[S.jsx(eN,{className:"size-4 mr-2"})," Edit Profile"]})})]}),S.jsxs("div",{className:"p-8",children:[S.jsx("h2",{className:"mb-5",children:"My Posts"}),S.jsx("div",{className:"grid md:grid-cols-3 grid-cols-2 gap-2",children:s?l():S.jsx("div",{children:"...loading"})})]})]})})})}function GV(){const{user:t}=di(),[e,n]=O.useState([]),r=async s=>{try{const o=await Sb(s),a=[];o.size>0?(o.forEach(l=>{const u=l.data(),d={id:l.id,...u};a.push(d)}),n(a)):console.log("No such document")}catch(o){console.log(o)}};O.useEffect(()=>{console.log("User:",t),t!=null&&r(t.uid)},[]);const i=()=>e.map(s=>S.jsxs("div",{className:"w-fit relative",children:[S.jsx("div",{className:"absolute top-0 left-0 bottom-0 right-0 bg-transparent hover:bg-slate-950 hover:bg-opacity-75 group transition-all duration-200",children:S.jsxs("div",{className:"size-full flex flex-col justify-center items-center gap-1",children:[S.jsx(N1,{className:"hidden group-hover:block fill-white"}),S.jsxs("div",{className:"hidden group-hover:block text-white",children:[s.likes," likes"]})]})}),S.jsx("img",{src:`${s.photos[0].cdnUrl}-/progressive/yes/-/scale_crop/300x300/center/`})]},s.photos[0].uuid));return S.jsx(ku,{children:S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"w-full max-w-3xl border",children:[S.jsx("h3",{className:"text-lg text-center text-white bg-slate-800 p-2",children:"My Photos"}),S.jsx("div",{className:"p-8",children:S.jsx("div",{className:"grid md:col-cols-3 grid-cols-2 gap-4",children:e.length>0?i():S.jsx("div",{children:"...Loading"})})})]})})})}const W7={logo:t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",...t,children:[S.jsx("rect",{width:"256",height:"256",fill:"none"}),S.jsx("line",{x1:"208",y1:"128",x2:"128",y2:"208",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),S.jsx("line",{x1:"192",y1:"40",x2:"40",y2:"192",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]}),twitter:t=>S.jsx("svg",{...t,height:"23",viewBox:"0 0 1200 1227",width:"23",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"})}),gitHub:t=>S.jsx("svg",{viewBox:"0 0 438.549 438.549",...t,children:S.jsx("path",{fill:"currentColor",d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"})}),radix:t=>S.jsxs("svg",{viewBox:"0 0 25 25",fill:"none",...t,children:[S.jsx("path",{d:"M12 25C7.58173 25 4 21.4183 4 17C4 12.5817 7.58173 9 12 9V25Z",fill:"currentcolor"}),S.jsx("path",{d:"M12 0H4V8H12V0Z",fill:"currentcolor"}),S.jsx("path",{d:"M17 8C19.2091 8 21 6.20914 21 4C21 1.79086 19.2091 0 17 0C14.7909 0 13 1.79086 13 4C13 6.20914 14.7909 8 17 8Z",fill:"currentcolor"})]}),aria:t=>S.jsx("svg",{role:"img",viewBox:"0 0 24 24",fill:"currentColor",...t,children:S.jsx("path",{d:"M13.966 22.624l-1.69-4.281H8.122l3.892-9.144 5.662 13.425zM8.884 1.376H0v21.248zm15.116 0h-8.884L24 22.624Z"})}),npm:t=>S.jsx("svg",{viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019-.009 13.836h-3.464l.01-10.382h-3.456L12.04 19.17H5.113z",fill:"currentColor"})}),yarn:t=>S.jsx("svg",{viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M12 0C5.375 0 0 5.375 0 12s5.375 12 12 12 12-5.375 12-12S18.625 0 12 0zm.768 4.105c.183 0 .363.053.525.157.125.083.287.185.755 1.154.31-.088.468-.042.551-.019.204.056.366.19.463.375.477.917.542 2.553.334 3.605-.241 1.232-.755 2.029-1.131 2.576.324.329.778.899 1.117 1.825.278.774.31 1.478.273 2.015a5.51 5.51 0 0 0 .602-.329c.593-.366 1.487-.917 2.553-.931.714-.009 1.269.445 1.353 1.103a1.23 1.23 0 0 1-.945 1.362c-.649.158-.95.278-1.821.843-1.232.797-2.539 1.242-3.012 1.39a1.686 1.686 0 0 1-.704.343c-.737.181-3.266.315-3.466.315h-.046c-.783 0-1.214-.241-1.45-.491-.658.329-1.51.19-2.122-.134a1.078 1.078 0 0 1-.58-1.153 1.243 1.243 0 0 1-.153-.195c-.162-.25-.528-.936-.454-1.946.056-.723.556-1.367.88-1.71a5.522 5.522 0 0 1 .408-2.256c.306-.727.885-1.348 1.32-1.737-.32-.537-.644-1.367-.329-2.21.227-.602.412-.936.82-1.08h-.005c.199-.074.389-.153.486-.259a3.418 3.418 0 0 1 2.298-1.103c.037-.093.079-.185.125-.283.31-.658.639-1.029 1.024-1.168a.94.94 0 0 1 .328-.06zm.006.7c-.507.016-1.001 1.519-1.001 1.519s-1.27-.204-2.266.871c-.199.218-.468.334-.746.44-.079.028-.176.023-.417.672-.371.991.625 2.094.625 2.094s-1.186.839-1.626 1.881c-.486 1.144-.338 2.261-.338 2.261s-.843.732-.899 1.487c-.051.663.139 1.2.343 1.515.227.343.51.176.51.176s-.561.653-.037.931c.477.25 1.283.394 1.71-.037.31-.31.371-1.001.486-1.283.028-.065.12.111.209.199.097.093.264.195.264.195s-.755.324-.445 1.066c.102.246.468.403 1.066.398.222-.005 2.664-.139 3.313-.296.375-.088.505-.283.505-.283s1.566-.431 2.998-1.357c.917-.598 1.293-.76 2.034-.936.612-.148.57-1.098-.241-1.084-.839.009-1.575.44-2.196.825-1.163.718-1.742.672-1.742.672l-.018-.032c-.079-.13.371-1.293-.134-2.678-.547-1.515-1.413-1.881-1.344-1.997.297-.5 1.038-1.297 1.334-2.78.176-.899.13-2.377-.269-3.151-.074-.144-.732.241-.732.241s-.616-1.371-.788-1.483a.271.271 0 0 0-.157-.046z",fill:"currentColor"})}),pnpm:t=>S.jsx("svg",{viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M0 0v7.5h7.5V0zm8.25 0v7.5h7.498V0zm8.25 0v7.5H24V0zM8.25 8.25v7.5h7.498v-7.5zm8.25 0v7.5H24v-7.5zM0 16.5V24h7.5v-7.5zm8.25 0V24h7.498v-7.5zm8.25 0V24H24v-7.5z",fill:"currentColor"})}),react:t=>S.jsx("svg",{viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z",fill:"currentColor"})}),tailwind:t=>S.jsx("svg",{viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z",fill:"currentColor"})}),google:t=>S.jsx("svg",{role:"img",viewBox:"0 0 24 24",...t,children:S.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),apple:t=>S.jsx("svg",{role:"img",viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701",fill:"currentColor"})}),paypal:t=>S.jsx("svg",{role:"img",viewBox:"0 0 24 24",...t,children:S.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.254-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.556.479l-1.187 7.527h-.506l-.24 1.516a.56.56 0 0 0 .554.647h3.882c.46 0 .85-.334.922-.788.06-.26.76-4.852.816-5.09a.932.932 0 0 1 .923-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.174-3.388-.777-4.471z",fill:"currentColor"})}),spinner:t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:S.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})},KV={email:"",password:""};function QV({}){const[t,e]=O.useState(KV),{googleSignIn:n,logIn:r}=di(),i=$o(),s=async a=>{a.preventDefault();try{await r(t.email,t.password),i("/"),console.log("The user info: ",t)}catch(l){console.log("Error: ",l)}},o=async a=>{a.preventDefault();try{await n(),i("/")}catch(l){console.log("Error: ",l)}};return S.jsx("div",{className:"w-full h-screen bg-slate-800",children:S.jsx("div",{className:"container h-full flex items-center mx-auto p-6",children:S.jsxs("div",{className:"w-full flex justify-center items-center",children:[S.jsx("div",{className:"w-2/3 p-6 lg:block hidden",children:S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("img",{className:"w-2/3 h-auto aspect-video object-cover rounded-3xl place-self-end",src:Ze.img2}),S.jsx("img",{className:"w-2/5 h-auto aspect-auto object-cover rounded-3xl",src:Ze.img1}),S.jsx("img",{className:"w-2/5 h-auto aspect-auto object-cover rounded-3xl place-self-end",src:Ze.img4}),S.jsx("img",{className:"w-2/3 h-auto aspect-video object-cover rounded-3xl",src:Ze.img3})]})}),S.jsx("div",{className:"max-w-sm rounded-xl border bg-card text-card-foreground shadow-sm",children:S.jsx($f,{children:S.jsxs("form",{onSubmit:s,children:[S.jsxs(Ff,{className:"space-y-1",children:[S.jsx(jf,{className:"text-2xl text-center mb-4",children:"PhotoGram"}),S.jsx(L1,{children:"Enter your email below to create your account"})]}),S.jsxs(zf,{className:"grid gap-4",children:[S.jsx("div",{className:"grid",children:S.jsxs($r,{variant:"outline",onClick:o,children:[S.jsx(W7.google,{className:"mr-2 h-4 w-4"}),"Google"]})}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("span",{className:"w-full border-t"})}),S.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:S.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(Vr,{htmlFor:"email",children:"Email address"}),S.jsx(Li,{id:"email",type:"email",placeholder:"example@domain.com",value:t.email,onChange:a=>e({...t,email:a.target.value})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(Vr,{htmlFor:"password",children:"Password"}),S.jsx(Li,{id:"password",type:"password",placeholder:"Password",value:t.password,onChange:a=>e({...t,password:a.target.value})})]})]}),S.jsxs(Bf,{className:"flex flex-col",children:[S.jsx($r,{className:"w-full",type:"submit",children:"Login"}),S.jsxs("p",{className:"mt-3 text-sm text-center",children:["Do not have an account? ",S.jsx(Kc,{className:"underline",to:"/signup",children:"Sign Up"})]})]})]})})})]})})})}const XV={email:"",password:"",confirmPassword:""};function YV({}){const[t,e]=O.useState(XV),{googleSignIn:n,signUp:r}=di(),i=$o(),s=async a=>{a.preventDefault();try{await r(t.email,t.password),i("/"),console.log("The user info: ",t)}catch(l){console.log("Error: ",l)}},o=async a=>{a.preventDefault();try{await n(),i("/")}catch(l){console.log("Error: ",l)}};return S.jsx("div",{className:"w-full h-screen bg-slate-800",children:S.jsx("div",{className:"container h-full flex items-center mx-auto p-6",children:S.jsxs("div",{className:"w-full flex justify-center items-center",children:[S.jsx("div",{className:"w-2/3 p-6 lg:block hidden",children:S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("img",{className:"w-2/3 h-auto aspect-video object-cover rounded-3xl place-self-end",src:Ze.img2}),S.jsx("img",{className:"w-2/5 h-auto aspect-auto object-cover rounded-3xl",src:Ze.img1}),S.jsx("img",{className:"w-2/5 h-auto aspect-auto object-cover rounded-3xl place-self-end",src:Ze.img4}),S.jsx("img",{className:"w-2/3 h-auto aspect-video object-cover rounded-3xl",src:Ze.img3})]})}),S.jsx("div",{className:"max-w-sm rounded-xl border bg-card text-card-foreground shadow-sm",children:S.jsx($f,{children:S.jsxs("form",{onSubmit:s,children:[S.jsxs(Ff,{className:"space-y-1",children:[S.jsx(jf,{className:"text-2xl text-center mb-4",children:"PhotoGram"}),S.jsx(L1,{children:"Enter your email below to create your account"})]}),S.jsxs(zf,{className:"grid gap-4",children:[S.jsx("div",{className:"grid",children:S.jsxs($r,{variant:"outline",onClick:o,children:[S.jsx(W7.google,{className:"mr-2 h-4 w-4"}),"Google"]})}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("span",{className:"w-full border-t"})}),S.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:S.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(Vr,{htmlFor:"email",children:"Email address"}),S.jsx(Li,{id:"email",type:"email",placeholder:"example@domain.com",value:t.email,onChange:a=>e({...t,email:a.target.value})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(Vr,{htmlFor:"password",children:"Password"}),S.jsx(Li,{id:"password",type:"password",placeholder:"Password",value:t.password,onChange:a=>e({...t,password:a.target.value})})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(Vr,{htmlFor:"confirmpassword",children:"Confirm password"}),S.jsx(Li,{id:"confirmpassword",type:"password",placeholder:"Confirm password",value:t.confirmPassword,onChange:a=>e({...t,confirmPassword:a.target.value})})]})]}),S.jsxs(Bf,{className:"flex flex-col",children:[S.jsx($r,{className:"w-full",type:"submit",children:"Sign Up"}),S.jsxs("p",{className:"mt-3 text-sm text-center",children:["Already have an account? ",S.jsx(Kc,{className:"underline",to:"/login",children:"Login"})]})]})]})})})]})})})}function to({}){return S.jsx("div",{className:"text-2xl font-bold",children:"Error"})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ZV(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,[])).next())})}function JV(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ya=function(){return ya=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ya.apply(this,arguments)},q7=function(t){return{loading:t==null,value:t}},eU=function(){return function(t,e){switch(e.type){case"error":return ya(ya({},t),{error:e.error,loading:!1,value:void 0});case"reset":return q7(e.defaultValue);case"value":return ya(ya({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},tU=function(t){var e=t?t():void 0,n=O.useReducer(eU(),q7(e)),r=n[0],i=n[1],s=O.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=O.useCallback(function(l){i({type:"error",error:l})},[]),a=O.useCallback(function(l){i({type:"value",value:l})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},nU=function(t,e){var n=tU(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return O.useEffect(function(){var l=DE(t,function(u){return ZV(void 0,void 0,void 0,function(){var d;return JV(this,function(h){switch(h.label){case 0:return[3,4];case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),s(d),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};function rU(){const t=GE(),[e,n]=nU(t),r=Ws();return n?S.jsx("div",{children:"...loading"}):e?S.jsx(hI,{}):S.jsx(dI,{to:"/login",state:{from:r}})}function iU(){const{user:t,updateProfileInfo:e}=di(),n=Ws(),r=$o(),{id:i,userId:s,userBio:o,displayName:a,photoURL:l}=n.state;console.log("Location: ",n.state);const[u,d]=O.useState({userId:s,userBio:o,displayName:a,photoURL:l}),[h,p]=O.useState({files:[]}),g=async y=>{y.preventDefault();try{if(i){const x=await qL(i,u);console.log("The UPDATE user profile is: ",i),console.log("The UPDATE user profile is: ",x)}else{const x=await HL(u);console.log("The create user profile is: ",x)}const E={user:t,displayName:u.displayName,photoURL:u.photoURL};e(E),sN(E),r("/profile")}catch(E){console.log(E)}};return console.log("upload avt: ",h),O.useEffect(()=>{h.files.length>0&&d({...u,photoURL:h.files[0].cdnUrl||""})},[h]),S.jsx(ku,{children:S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"border max-w-3xl w-full",children:[S.jsx("h3",{className:"bg-slate-800 text-white text-center text-lg p-2",children:"Edit Profile"}),S.jsx("div",{className:"p-8",children:S.jsxs("form",{onSubmit:g,children:[S.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[S.jsx(Vr,{htmlFor:"avatar",children:"Avatar Picture"}),S.jsx("div",{children:h.files.length>0?S.jsx("img",{src:h.files[0].cdnUrl,alt:"avatar",className:"size-28 rounded-full border-2 border-slate-800 object-cover"}):S.jsx("img",{src:u.photoURL?u.photoURL:Ze.avtDefault,alt:"avatar",className:"size-28 rounded-full border-2 border-slate-800 object-cover"})}),S.jsx(j7,{fileEntry:h,onChange:p,preview:!1})]}),S.jsxs("div",{className:"space-y-5",children:[S.jsxs("div",{className:"flex flex-col space-y-3",children:[S.jsx(Vr,{htmlFor:"displayName",children:"Display Name"}),S.jsx(Li,{id:"displayName",placeholder:"Enter your username",value:u.displayName,onChange:y=>d({...u,displayName:y.target.value})})]}),S.jsxs("div",{className:"flex flex-col space-y-3",children:[S.jsx(Vr,{htmlFor:"userBio",children:"User bio"}),S.jsx(Li,{id:"userBio",placeholder:"Enter your user bio",value:u.userBio,onChange:y=>d({...u,userBio:y.target.value})})]})]}),S.jsxs("div",{className:"space-x-2",children:[S.jsx($r,{className:"mt-8 px-7",type:"submit",children:"Update Profile"}),S.jsx($r,{className:"mt-8 px-7",variant:"destructive",onClick:()=>r("/profile"),children:"Cancel"})]})]})})]})})})}const sU=wI([{element:S.jsx(rU,{}),children:[{path:"/",element:S.jsx(lN,{}),errorElement:S.jsx(to,{})},{path:"/create-post",element:S.jsx(WV,{}),errorElement:S.jsx(to,{})},{path:"/profile",element:S.jsx(qV,{}),errorElement:S.jsx(to,{})},{path:"/edit-profile",element:S.jsx(iU,{}),errorElement:S.jsx(to,{})},{path:"/my-photos",element:S.jsx(GV,{}),errorElement:S.jsx(to,{})}]},{path:"/login",element:S.jsx(QV,{}),errorElement:S.jsx(to,{})},{path:"/signup",element:S.jsx(YV,{}),errorElement:S.jsx(to,{})}]),tl=Math.min,wo=Math.max,Wh=Math.round,Ad=Math.floor,Us=t=>({x:t,y:t}),oU={left:"right",right:"left",bottom:"top",top:"bottom"},aU={start:"end",end:"start"};function Om(t,e,n){return wo(t,tl(e,n))}function Mu(t,e){return typeof t=="function"?t(e):t}function Do(t){return t.split("-")[0]}function Vu(t){return t.split("-")[1]}function G7(t){return t==="x"?"y":"x"}function ny(t){return t==="y"?"height":"width"}function nl(t){return["top","bottom"].includes(Do(t))?"y":"x"}function ry(t){return G7(nl(t))}function lU(t,e,n){n===void 0&&(n=!1);const r=Vu(t),i=ry(t),s=ny(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=qh(o)),[o,qh(o)]}function cU(t){const e=qh(t);return[Dm(t),e,Dm(e)]}function Dm(t){return t.replace(/start|end/g,e=>aU[e])}function uU(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function dU(t,e,n,r){const i=Vu(t);let s=uU(Do(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Dm)))),s}function qh(t){return t.replace(/left|right|bottom|top/g,e=>oU[e])}function hU(t){return{top:0,right:0,bottom:0,left:0,...t}}function K7(t){return typeof t!="number"?hU(t):{top:t,right:t,bottom:t,left:t}}function Gh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function sw(t,e,n){let{reference:r,floating:i}=t;const s=nl(e),o=ry(e),a=ny(o),l=Do(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Vu(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const fU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=sw(u,r,l),p=r,g={},y=0;for(let E=0;E<a.length;E++){const{name:x,fn:w}=a[E],{x:v,y:A,data:M,reset:F}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=A??h,g={...g,[x]:{...g[x],...M}},F&&y<=50&&(y++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(u=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:d,y:h}=sw(u,p,l)),E=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}};async function Q7(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Mu(e,t),y=K7(g),x=a[p?h==="floating"?"reference":"floating":h],w=Gh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},F=Gh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:A,strategy:l}):v);return{top:(w.top-F.top+y.top)/M.y,bottom:(F.bottom-w.bottom+y.bottom)/M.y,left:(w.left-F.left+y.left)/M.x,right:(F.right-w.right+y.right)/M.x}}const pU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Mu(t,e)||{};if(u==null)return{};const h=K7(d),p={x:n,y:r},g=ry(i),y=ny(g),E=await o.getDimensions(u),x=g==="y",w=x?"top":"left",v=x?"bottom":"right",A=x?"clientHeight":"clientWidth",M=s.reference[y]+s.reference[g]-p[g]-s.floating[y],F=p[g]-s.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=P?P[A]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=a.floating[A]||s.floating[y]);const _=M/2-F/2,T=C/2-E[y]/2-1,I=tl(h[w],T),R=tl(h[v],T),N=I,k=C-E[y]-R,ie=C/2-E[y]/2+_,je=Om(N,ie,k),De=!l.arrow&&Vu(i)!=null&&ie!==je&&s.reference[y]/2-(ie<N?I:R)-E[y]/2<0,de=De?ie<N?ie-N:ie-k:0;return{[g]:p[g]+de,data:{[g]:je,centerOffset:ie-je-de,...De&&{alignmentOffset:de}},reset:De}}}),mU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:E=!0,...x}=Mu(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Do(i),v=nl(a),A=Do(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=p||(A||!E?[qh(a)]:cU(a)),P=y!=="none";!p&&P&&F.push(...dU(a,E,y,M));const C=[a,...F],_=await Q7(e,x),T=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&T.push(_[w]),h){const ie=lU(i,o,M);T.push(_[ie[0]],_[ie[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(ie=>ie<=0)){var R,N;const ie=(((R=s.flip)==null?void 0:R.index)||0)+1,je=C[ie];if(je)return{data:{index:ie,overflows:I},reset:{placement:je}};let De=(N=I.filter(de=>de.overflows[0]<=0).sort((de,W)=>de.overflows[1]-W.overflows[1])[0])==null?void 0:N.placement;if(!De)switch(g){case"bestFit":{var k;const de=(k=I.filter(W=>{if(P){const J=nl(W.placement);return J===v||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,Y)=>J+Y,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:k[0];de&&(De=de);break}case"initialPlacement":De=a;break}if(i!==De)return{reset:{placement:De}}}return{}}}};async function gU(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Do(n),a=Vu(n),l=nl(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Mu(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const yU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await gU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},vU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:v}=x;return{x:w,y:v}}},...l}=Mu(t,e),u={x:n,y:r},d=await Q7(e,l),h=nl(Do(i)),p=G7(h);let g=u[p],y=u[h];if(s){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=g+d[x],A=g-d[w];g=Om(v,g,A)}if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=y+d[x],A=y-d[w];y=Om(v,y,A)}const E=a.fn({...e,[p]:g,[h]:y});return{...E,data:{x:E.x-n,y:E.y-r}}}}};function _l(t){return X7(t)?(t.nodeName||"").toLowerCase():"#document"}function Kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qi(t){var e;return(e=(X7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X7(t){return t instanceof Node||t instanceof Kn(t).Node}function jr(t){return t instanceof Element||t instanceof Kn(t).Element}function ui(t){return t instanceof HTMLElement||t instanceof Kn(t).HTMLElement}function ow(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kn(t).ShadowRoot}function Uu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=zr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _U(t){return["table","td","th"].includes(_l(t))}function tp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iy(t){const e=sy(),n=jr(t)?zr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wU(t){let e=$s(t);for(;ui(e)&&!rl(e);){if(iy(e))return e;if(tp(e))return null;e=$s(e)}return null}function sy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rl(t){return["html","body","#document"].includes(_l(t))}function zr(t){return Kn(t).getComputedStyle(t)}function np(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $s(t){if(_l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ow(t)&&t.host||qi(t);return ow(e)?e.host:e}function Y7(t){const e=$s(t);return rl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ui(e)&&Uu(e)?e:Y7(e)}function lu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Y7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Kn(i);return s?e.concat(o,o.visualViewport||[],Uu(i)?i:[],o.frameElement&&n?lu(o.frameElement):[]):e.concat(i,lu(i,[],n))}function Z7(t){const e=zr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ui(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Wh(n)!==s||Wh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function oy(t){return jr(t)?t:t.contextElement}function ka(t){const e=oy(t);if(!ui(e))return Us(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Z7(e);let o=(s?Wh(n.width):n.width)/r,a=(s?Wh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EU=Us(0);function J7(t){const e=Kn(t);return!sy()||!e.visualViewport?EU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kn(t)?!1:e}function Mo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=oy(t);let o=Us(1);e&&(r?jr(r)&&(o=ka(r)):o=ka(t));const a=bU(s,n,r)?J7(s):Us(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=Kn(s),g=r&&jr(r)?Kn(r):r;let y=p,E=y.frameElement;for(;E&&r&&g!==y;){const x=ka(E),w=E.getBoundingClientRect(),v=zr(E),A=w.left+(E.clientLeft+parseFloat(v.paddingLeft))*x.x,M=w.top+(E.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=A,u+=M,y=Kn(E),E=y.frameElement}}return Gh({width:d,height:h,x:l,y:u})}function TU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=qi(r),a=e?tp(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Us(1);const d=Us(0),h=ui(r);if((h||!h&&!s)&&((_l(r)!=="body"||Uu(o))&&(l=np(r)),ui(r))){const p=Mo(r);u=ka(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function CU(t){return Array.from(t.getClientRects())}function eT(t){return Mo(qi(t)).left+np(t).scrollLeft}function SU(t){const e=qi(t),n=np(t),r=t.ownerDocument.body,i=wo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=wo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+eT(t);const a=-n.scrollTop;return zr(r).direction==="rtl"&&(o+=wo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function AU(t,e){const n=Kn(t),r=qi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=sy();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function IU(t,e){const n=Mo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ui(t)?ka(t):Us(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function aw(t,e,n){let r;if(e==="viewport")r=AU(t,n);else if(e==="document")r=SU(qi(t));else if(jr(e))r=IU(e,n);else{const i=J7(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Gh(r)}function tT(t,e){const n=$s(t);return n===e||!jr(n)||rl(n)?!1:zr(n).position==="fixed"||tT(n,e)}function xU(t,e){const n=e.get(t);if(n)return n;let r=lu(t,[],!1).filter(a=>jr(a)&&_l(a)!=="body"),i=null;const s=zr(t).position==="fixed";let o=s?$s(t):t;for(;jr(o)&&!rl(o);){const a=zr(o),l=iy(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Uu(o)&&!l&&tT(t,o))?r=r.filter(d=>d!==o):i=a,o=$s(o)}return e.set(t,r),r}function kU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?tp(e)?[]:xU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=aw(e,d,i);return u.top=wo(h.top,u.top),u.right=tl(h.right,u.right),u.bottom=tl(h.bottom,u.bottom),u.left=wo(h.left,u.left),u},aw(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RU(t){const{width:e,height:n}=Z7(t);return{width:e,height:n}}function PU(t,e,n){const r=ui(e),i=qi(e),s=n==="fixed",o=Mo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Us(0);if(r||!r&&!s)if((_l(e)!=="body"||Uu(i))&&(a=np(e)),r){const h=Mo(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=eT(i));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function n0(t){return zr(t).position==="static"}function lw(t,e){return!ui(t)||zr(t).position==="fixed"?null:e?e(t):t.offsetParent}function nT(t,e){const n=Kn(t);if(tp(t))return n;if(!ui(t)){let i=$s(t);for(;i&&!rl(i);){if(jr(i)&&!n0(i))return i;i=$s(i)}return n}let r=lw(t,e);for(;r&&_U(r)&&n0(r);)r=lw(r,e);return r&&rl(r)&&n0(r)&&!iy(r)?n:r||wU(t)||n}const LU=async function(t){const e=this.getOffsetParent||nT,n=this.getDimensions,r=await n(t.floating);return{reference:PU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NU(t){return zr(t).direction==="rtl"}const OU={convertOffsetParentRelativeRectToViewportRelativeRect:TU,getDocumentElement:qi,getClippingRect:kU,getOffsetParent:nT,getElementRects:LU,getClientRects:CU,getDimensions:RU,getScale:ka,isElement:jr,isRTL:NU};function DU(t,e){let n=null,r;const i=qi(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=Ad(d),y=Ad(i.clientWidth-(u+h)),E=Ad(i.clientHeight-(d+p)),x=Ad(u),v={rootMargin:-g+"px "+-y+"px "+-E+"px "+-x+"px",threshold:wo(0,tl(1,l))||1};let A=!0;function M(F){const P=F[0].intersectionRatio;if(P!==l){if(!A)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(M,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,v)}n.observe(t)}return o(!0),s}function MU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=oy(t),d=i||s?[...u?lu(u):[],...lu(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=u&&a?DU(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let y,E=l?Mo(t):null;l&&x();function x(){const w=Mo(t);E&&(w.x!==E.x||w.y!==E.y||w.width!==E.width||w.height!==E.height)&&n(),E=w,y=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const VU=yU,UU=vU,$U=mU,FU=pU,cw=(t,e,n)=>{const r=new Map,i={platform:OU,...n},s={...i.platform,_c:r};return fU(t,e,{...i,platform:s})};var rT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rT);var jU=rT.exports;const Mm=Um(jU);var uw={};const zU="react-tooltip-core-styles",BU="react-tooltip-base-styles",dw={core:!1,base:!1};function hw({css:t,id:e=BU,type:n="base",ref:r}){var i,s;if(!t||typeof document>"u"||dw[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:uw)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:uw)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(e=zU),r||(r={});const{insertAt:o}=r;if(document.getElementById(e))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=e,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t)),dw[n]=!0}const fw=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[VU(Number(i)),$U({fallbackAxisSideDirection:"start"}),UU({padding:5})],border:a})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(FU({element:n,padding:5})),cw(t,e,{placement:r,strategy:s,middleware:l}).then(({x:u,y:d,placement:h,middlewareData:p})=>{var g,y;const E={left:`${u}px`,top:`${d}px`,border:a},{x,y:w}=(g=p.arrow)!==null&&g!==void 0?g:{x:0,y:0},v=(y={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&y!==void 0?y:"bottom",A=a&&{borderBottom:a,borderRight:a};let M=0;if(a){const F=`${a}`.match(/(\d+)px/);M=F!=null&&F[1]?Number(F[1]):1}return{tooltipStyles:E,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:w!=null?`${w}px`:"",right:"",bottom:"",...A,[v]:`-${4+M}px`},place:h}})):cw(t,e,{placement:"bottom",strategy:s,middleware:l}).then(({x:u,y:d,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${d}px`},tooltipArrowStyles:{},place:h}))},pw=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),mw=(t,e,n)=>{let r=null;const i=function(...s){const o=()=>{r=null};!r&&(t.apply(this,s),r=setTimeout(o,e))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},gw=t=>t!==null&&!Array.isArray(t)&&typeof t=="object",Vm=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((i,s)=>Vm(i,e[s]));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!gw(t)||!gw(e))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>Vm(t[i],e[i]))},HU=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some(n=>{const r=e.getPropertyValue(n);return r==="auto"||r==="scroll"})},yw=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(HU(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},WU=typeof window<"u"?O.useLayoutEffect:O.useEffect,ar=t=>{t.current&&(clearTimeout(t.current),t.current=null)},qU="DEFAULT_TOOLTIP_ID",GU={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},KU=O.createContext({getTooltipData:()=>GU});function iT(t=qU){return O.useContext(KU).getTooltipData(t)}var Jo={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},r0={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const QU=({forwardRef:t,id:e,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:u=["hover"],openOnClick:d=!1,positionStrategy:h="absolute",middlewares:p,wrapper:g,delayShow:y=0,delayHide:E=0,float:x=!1,hidden:w=!1,noArrow:v=!1,clickable:A=!1,closeOnEsc:M=!1,closeOnScroll:F=!1,closeOnResize:P=!1,openEvents:C,closeEvents:_,globalCloseEvents:T,imperativeModeOnly:I,style:R,position:N,afterShow:k,afterHide:ie,content:je,contentWrapperRef:De,isOpen:de,defaultIsOpen:W=!1,setIsOpen:J,activeAnchor:Y,setActiveAnchor:pe,border:ye,opacity:Ve,arrowColor:ut,role:Ct="tooltip"})=>{var ft;const Ge=O.useRef(null),Jn=O.useRef(null),vn=O.useRef(null),_n=O.useRef(null),er=O.useRef(null),[qe,An]=O.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[xt,Br]=O.useState(!1),[zt,_r]=O.useState(!1),[Ke,wr]=O.useState(null),Er=O.useRef(!1),Hr=O.useRef(null),{anchorRefs:hi,setActiveAnchor:Wr}=iT(e),sn=O.useRef(!1),[Gt,nt]=O.useState([]),Qe=O.useRef(!1),kt=d||u.includes("click"),Bt=kt||(C==null?void 0:C.click)||(C==null?void 0:C.dblclick)||(C==null?void 0:C.mousedown),tr=C?{...C}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!C&&kt&&Object.assign(tr,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const nr=_?{..._}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!_&&kt&&Object.assign(nr,{mouseleave:!1,blur:!1,mouseout:!1});const Dt=T?{...T}:{escape:M||!1,scroll:F||!1,resize:P||!1,clickOutsideAnchor:Bt||!1};I&&(Object.assign(tr,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(nr,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Dt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),WU(()=>(Qe.current=!0,()=>{Qe.current=!1}),[]);const Ue=X=>{Qe.current&&(X&&_r(!0),setTimeout(()=>{Qe.current&&(J==null||J(X),de===void 0&&Br(X))},10))};O.useEffect(()=>{if(de===void 0)return()=>null;de&&_r(!0);const X=setTimeout(()=>{Br(de)},10);return()=>{clearTimeout(X)}},[de]),O.useEffect(()=>{if(xt!==Er.current)if(ar(er),Er.current=xt,xt)k==null||k();else{const X=(ne=>{const he=ne.match(/^([\d.]+)(ms|s)$/);if(!he)return 0;const[,L,D]=he;return Number(L)*(D==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));er.current=setTimeout(()=>{_r(!1),wr(null),ie==null||ie()},X+25)}},[xt]);const qr=X=>{An(ne=>Vm(ne,X)?ne:X)},rr=(X=y)=>{ar(vn),zt?Ue(!0):vn.current=setTimeout(()=>{Ue(!0)},X)},br=(X=E)=>{ar(_n),_n.current=setTimeout(()=>{sn.current||Ue(!1)},X)},fi=X=>{var ne;if(!X)return;const he=(ne=X.currentTarget)!==null&&ne!==void 0?ne:X.target;if(!(he!=null&&he.isConnected))return pe(null),void Wr({current:null});y?rr():Ue(!0),pe(he),Wr({current:he}),ar(_n)},Un=()=>{A?br(E||100):E?br():Ue(!1),ar(vn)},In=({x:X,y:ne})=>{var he;const L={getBoundingClientRect:()=>({x:X,y:ne,width:0,height:0,top:ne,left:X,right:X,bottom:ne})};fw({place:(he=Ke==null?void 0:Ke.place)!==null&&he!==void 0?he:a,offset:l,elementReference:L,tooltipReference:Ge.current,tooltipArrowReference:Jn.current,strategy:h,middlewares:p,border:ye}).then(D=>{qr(D)})},ir=X=>{if(!X)return;const ne=X,he={x:ne.clientX,y:ne.clientY};In(he),Hr.current=he},wn=X=>{var ne;if(!xt)return;const he=X.target;he.isConnected&&(!((ne=Ge.current)===null||ne===void 0)&&ne.contains(he)||[document.querySelector(`[id='${s}']`),...Gt].some(L=>L==null?void 0:L.contains(he))||(Ue(!1),ar(vn)))},$n=mw(fi,50),Ye=mw(Un,50),wt=X=>{Ye.cancel(),$n(X)},ce=()=>{$n.cancel(),Ye()},be=O.useCallback(()=>{var X,ne;const he=(X=Ke==null?void 0:Ke.position)!==null&&X!==void 0?X:N;he?In(he):x?Hr.current&&In(Hr.current):Y!=null&&Y.isConnected&&fw({place:(ne=Ke==null?void 0:Ke.place)!==null&&ne!==void 0?ne:a,offset:l,elementReference:Y,tooltipReference:Ge.current,tooltipArrowReference:Jn.current,strategy:h,middlewares:p,border:ye}).then(L=>{Qe.current&&qr(L)})},[xt,Y,je,R,a,Ke==null?void 0:Ke.place,l,h,N,Ke==null?void 0:Ke.position,x]);O.useEffect(()=>{var X,ne;const he=new Set(hi);Gt.forEach(le=>{he.add({current:le})});const L=document.querySelector(`[id='${s}']`);L&&he.add({current:L});const D=()=>{Ue(!1)},U=yw(Y),z=yw(Ge.current);Dt.scroll&&(window.addEventListener("scroll",D),U==null||U.addEventListener("scroll",D),z==null||z.addEventListener("scroll",D));let q=null;Dt.resize?window.addEventListener("resize",D):Y&&Ge.current&&(q=MU(Y,Ge.current,be,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ee=le=>{le.key==="Escape"&&Ue(!1)};Dt.escape&&window.addEventListener("keydown",ee),Dt.clickOutsideAnchor&&window.addEventListener("click",wn);const Z=[],K=le=>{xt&&(le==null?void 0:le.target)===Y||fi(le)},me=le=>{xt&&(le==null?void 0:le.target)===Y&&Un()},ae=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],oe=["click","dblclick","mousedown","mouseup"];Object.entries(tr).forEach(([le,ve])=>{ve&&(ae.includes(le)?Z.push({event:le,listener:wt}):oe.includes(le)&&Z.push({event:le,listener:K}))}),Object.entries(nr).forEach(([le,ve])=>{ve&&(ae.includes(le)?Z.push({event:le,listener:ce}):oe.includes(le)&&Z.push({event:le,listener:me}))}),x&&Z.push({event:"pointermove",listener:ir});const Ce=()=>{sn.current=!0},xe=()=>{sn.current=!1,Un()};return A&&!Bt&&((X=Ge.current)===null||X===void 0||X.addEventListener("mouseenter",Ce),(ne=Ge.current)===null||ne===void 0||ne.addEventListener("mouseleave",xe)),Z.forEach(({event:le,listener:ve})=>{he.forEach(rt=>{var Be;(Be=rt.current)===null||Be===void 0||Be.addEventListener(le,ve)})}),()=>{var le,ve;Dt.scroll&&(window.removeEventListener("scroll",D),U==null||U.removeEventListener("scroll",D),z==null||z.removeEventListener("scroll",D)),Dt.resize?window.removeEventListener("resize",D):q==null||q(),Dt.clickOutsideAnchor&&window.removeEventListener("click",wn),Dt.escape&&window.removeEventListener("keydown",ee),A&&!Bt&&((le=Ge.current)===null||le===void 0||le.removeEventListener("mouseenter",Ce),(ve=Ge.current)===null||ve===void 0||ve.removeEventListener("mouseleave",xe)),Z.forEach(({event:rt,listener:Be})=>{he.forEach(Gr=>{var xn;(xn=Gr.current)===null||xn===void 0||xn.removeEventListener(rt,Be)})})}},[Y,be,zt,hi,Gt,C,_,T,kt,y,E]),O.useEffect(()=>{var X,ne;let he=(ne=(X=Ke==null?void 0:Ke.anchorSelect)!==null&&X!==void 0?X:o)!==null&&ne!==void 0?ne:"";!he&&e&&(he=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const L=new MutationObserver(D=>{const U=[],z=[];D.forEach(q=>{if(q.type==="attributes"&&q.attributeName==="data-tooltip-id"&&(q.target.getAttribute("data-tooltip-id")===e?U.push(q.target):q.oldValue===e&&z.push(q.target)),q.type==="childList"){if(Y){const ee=[...q.removedNodes].filter(Z=>Z.nodeType===1);if(he)try{z.push(...ee.filter(Z=>Z.matches(he))),z.push(...ee.flatMap(Z=>[...Z.querySelectorAll(he)]))}catch{}ee.some(Z=>{var K;return!!(!((K=Z==null?void 0:Z.contains)===null||K===void 0)&&K.call(Z,Y))&&(_r(!1),Ue(!1),pe(null),ar(vn),ar(_n),!0)})}if(he)try{const ee=[...q.addedNodes].filter(Z=>Z.nodeType===1);U.push(...ee.filter(Z=>Z.matches(he))),U.push(...ee.flatMap(Z=>[...Z.querySelectorAll(he)]))}catch{}}}),(U.length||z.length)&&nt(q=>[...q.filter(ee=>!z.includes(ee)),...U])});return L.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{L.disconnect()}},[e,o,Ke==null?void 0:Ke.anchorSelect,Y]),O.useEffect(()=>{be()},[be]),O.useEffect(()=>{if(!(De!=null&&De.current))return()=>null;const X=new ResizeObserver(()=>{setTimeout(()=>be())});return X.observe(De.current),()=>{X.disconnect()}},[je,De==null?void 0:De.current]),O.useEffect(()=>{var X;const ne=document.querySelector(`[id='${s}']`),he=[...Gt,ne];Y&&he.includes(Y)||pe((X=Gt[0])!==null&&X!==void 0?X:ne)},[s,Gt,Y]),O.useEffect(()=>(W&&Ue(!0),()=>{ar(vn),ar(_n)}),[]),O.useEffect(()=>{var X;let ne=(X=Ke==null?void 0:Ke.anchorSelect)!==null&&X!==void 0?X:o;if(!ne&&e&&(ne=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),ne)try{const he=Array.from(document.querySelectorAll(ne));nt(he)}catch{nt([])}},[e,o,Ke==null?void 0:Ke.anchorSelect]),O.useEffect(()=>{vn.current&&(ar(vn),rr(y))},[y]);const Mt=(ft=Ke==null?void 0:Ke.content)!==null&&ft!==void 0?ft:je,Kt=xt&&Object.keys(qe.tooltipStyles).length>0;return O.useImperativeHandle(t,()=>({open:X=>{if(X!=null&&X.anchorSelect)try{document.querySelector(X.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${X.anchorSelect}" is not a valid CSS selector`)}wr(X??null),X!=null&&X.delay?rr(X.delay):Ue(!0)},close:X=>{X!=null&&X.delay?br(X.delay):Ue(!1)},activeAnchor:Y,place:qe.place,isOpen:!!(zt&&!w&&Mt&&Kt)})),zt&&!w&&Mt?Ut.createElement(g,{id:e,role:Ct,className:Mm("react-tooltip",Jo.tooltip,r0.tooltip,r0[i],n,`react-tooltip__place-${qe.place}`,Jo[Kt?"show":"closing"],Kt?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&Jo.fixed,A&&Jo.clickable),onTransitionEnd:X=>{ar(er),xt||X.propertyName!=="opacity"||(_r(!1),wr(null),ie==null||ie())},style:{...R,...qe.tooltipStyles,opacity:Ve!==void 0&&Kt?Ve:void 0},ref:Ge},Mt,Ut.createElement(g,{className:Mm("react-tooltip-arrow",Jo.arrow,r0.arrow,r,v&&Jo.noArrow),style:{...qe.tooltipArrowStyles,background:ut?`linear-gradient(to right bottom, transparent 50%, ${ut} 50%)`:void 0},ref:Jn})):null},XU=({content:t})=>Ut.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),YU=Ut.forwardRef(({id:t,anchorId:e,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:u="top",offset:d=10,wrapper:h="div",children:p=null,events:g=["hover"],openOnClick:y=!1,positionStrategy:E="absolute",middlewares:x,delayShow:w=0,delayHide:v=0,float:A=!1,hidden:M=!1,noArrow:F=!1,clickable:P=!1,closeOnEsc:C=!1,closeOnScroll:_=!1,closeOnResize:T=!1,openEvents:I,closeEvents:R,globalCloseEvents:N,imperativeModeOnly:k=!1,style:ie,position:je,isOpen:De,defaultIsOpen:de=!1,disableStyleInjection:W=!1,border:J,opacity:Y,arrowColor:pe,setIsOpen:ye,afterShow:Ve,afterHide:ut,role:Ct="tooltip"},ft)=>{const[Ge,Jn]=O.useState(r),[vn,_n]=O.useState(i),[er,qe]=O.useState(u),[An,xt]=O.useState(l),[Br,zt]=O.useState(d),[_r,Ke]=O.useState(w),[wr,Er]=O.useState(v),[Hr,hi]=O.useState(A),[Wr,sn]=O.useState(M),[Gt,nt]=O.useState(h),[Qe,kt]=O.useState(g),[Bt,tr]=O.useState(E),[nr,Dt]=O.useState(null),[Ue,qr]=O.useState(null),rr=O.useRef(W),{anchorRefs:br,activeAnchor:fi}=iT(t),Un=Ye=>Ye==null?void 0:Ye.getAttributeNames().reduce((wt,ce)=>{var be;return ce.startsWith("data-tooltip-")&&(wt[ce.replace(/^data-tooltip-/,"")]=(be=Ye==null?void 0:Ye.getAttribute(ce))!==null&&be!==void 0?be:null),wt},{}),In=Ye=>{const wt={place:ce=>{var be;qe((be=ce)!==null&&be!==void 0?be:u)},content:ce=>{Jn(ce??r)},html:ce=>{_n(ce??i)},variant:ce=>{var be;xt((be=ce)!==null&&be!==void 0?be:l)},offset:ce=>{zt(ce===null?d:Number(ce))},wrapper:ce=>{var be;nt((be=ce)!==null&&be!==void 0?be:h)},events:ce=>{const be=ce==null?void 0:ce.split(" ");kt(be??g)},"position-strategy":ce=>{var be;tr((be=ce)!==null&&be!==void 0?be:E)},"delay-show":ce=>{Ke(ce===null?w:Number(ce))},"delay-hide":ce=>{Er(ce===null?v:Number(ce))},float:ce=>{hi(ce===null?A:ce==="true")},hidden:ce=>{sn(ce===null?M:ce==="true")},"class-name":ce=>{Dt(ce)}};Object.values(wt).forEach(ce=>ce(null)),Object.entries(Ye).forEach(([ce,be])=>{var Mt;(Mt=wt[ce])===null||Mt===void 0||Mt.call(wt,be)})};O.useEffect(()=>{Jn(r)},[r]),O.useEffect(()=>{_n(i)},[i]),O.useEffect(()=>{qe(u)},[u]),O.useEffect(()=>{xt(l)},[l]),O.useEffect(()=>{zt(d)},[d]),O.useEffect(()=>{Ke(w)},[w]),O.useEffect(()=>{Er(v)},[v]),O.useEffect(()=>{hi(A)},[A]),O.useEffect(()=>{sn(M)},[M]),O.useEffect(()=>{tr(E)},[E]),O.useEffect(()=>{rr.current!==W&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[W]),O.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:W==="core",disableBase:W}}))},[]),O.useEffect(()=>{var Ye;const wt=new Set(br);let ce=n;if(!ce&&t&&(ce=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ce)try{document.querySelectorAll(ce).forEach(ne=>{wt.add({current:ne})})}catch{console.warn(`[react-tooltip] "${ce}" is not a valid CSS selector`)}const be=document.querySelector(`[id='${e}']`);if(be&&wt.add({current:be}),!wt.size)return()=>null;const Mt=(Ye=Ue??be)!==null&&Ye!==void 0?Ye:fi.current,Kt=new MutationObserver(ne=>{ne.forEach(he=>{var L;if(!Mt||he.type!=="attributes"||!(!((L=he.attributeName)===null||L===void 0)&&L.startsWith("data-tooltip-")))return;const D=Un(Mt);In(D)})}),X={attributes:!0,childList:!1,subtree:!1};if(Mt){const ne=Un(Mt);In(ne),Kt.observe(Mt,X)}return()=>{Kt.disconnect()}},[br,fi,Ue,e,n]),O.useEffect(()=>{ie!=null&&ie.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),J&&!pw("border",`${J}`)&&console.warn(`[react-tooltip] "${J}" is not a valid \`border\`.`),ie!=null&&ie.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),Y&&!pw("opacity",`${Y}`)&&console.warn(`[react-tooltip] "${Y}" is not a valid \`opacity\`.`)},[]);let ir=p;const wn=O.useRef(null);if(s){const Ye=s({content:(Ue==null?void 0:Ue.getAttribute("data-tooltip-content"))||Ge||null,activeAnchor:Ue});ir=Ye?Ut.createElement("div",{ref:wn,className:"react-tooltip-content-wrapper"},Ye):null}else Ge&&(ir=Ge);vn&&(ir=Ut.createElement(XU,{content:vn}));const $n={forwardRef:ft,id:t,anchorId:e,anchorSelect:n,className:Mm(o,nr),classNameArrow:a,content:ir,contentWrapperRef:wn,place:er,variant:An,offset:Br,wrapper:Gt,events:Qe,openOnClick:y,positionStrategy:Bt,middlewares:x,delayShow:_r,delayHide:wr,float:Hr,hidden:Wr,noArrow:F,clickable:P,closeOnEsc:C,closeOnScroll:_,closeOnResize:T,openEvents:I,closeEvents:R,globalCloseEvents:N,imperativeModeOnly:k,style:ie,position:je,isOpen:De,defaultIsOpen:de,border:J,opacity:Y,arrowColor:pe,setIsOpen:ye,afterShow:Ve,afterHide:ut,activeAnchor:Ue,setActiveAnchor:Ye=>qr(Ye),role:Ct};return Ut.createElement(QU,{...$n})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",t=>{t.detail.disableCore||hw({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||hw({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function ZU(){return S.jsxs(S.Fragment,{children:[S.jsx("div",{id:"tooltip-element",className:"fixed bottom-10 left-10 z-[41] size-14 flex justify-center items-center bg-black/50 shadow-gray-300/30 shadow-sm rounded-full animate-bounce",children:S.jsx("a",{href:"https://github.com/VyeoooT/study-photogram",target:"_blank",rel:"noopener noreferrer",children:S.jsx(ZL,{size:40,color:"#ffffff"})})}),S.jsx(YU,{anchorSelect:"#tooltip-element",place:"top-start",variant:"info",children:"Link source code"})]})}function JU(){return S.jsxs(NL,{children:[S.jsx(ZU,{}),S.jsx(kI,{router:sU})]})}i0.createRoot(document.getElementById("root")).render(S.jsx(Ut.StrictMode,{children:S.jsx(JU,{})}));
